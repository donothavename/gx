{版本="1.3.6",fun=function()
qlqqwyhcwc=true
File("/data/data/"..activity.getPackageName().."/翻译收藏").createNewFile()
File("/data/data/"..activity.getPackageName().."/上次查询快递单号").createNewFile()
File("/data/data/"..activity.getPackageName().."/轻工具主页收藏应用").createNewFile()
File("/data/data/"..activity.getPackageName().."/打字板").createNewFile()
File("/data/data/"..activity.getPackageName().."/汇率").createNewFile()
if io.open("/data/data/"..activity.getPackageName().."/汇率"):read("*a")==""then
io.open("/data/data/"..activity.getPackageName().."/汇率","w+"):write('fromq="美元"\nfromdh="USD"\ntoq="人民币"\ntodh="CNY"'):close()
end
if io.open("/data/data/"..activity.getPackageName().."/翻译收藏"):read("*a")==""then
io.open("/data/data/"..activity.getPackageName().."/翻译收藏","w+"):write("{\n--翻译收藏\n}"):close()
end
if io.open("/data/data/"..activity.getPackageName().."/打字板"):read("*a")==""then
io.open("/data/data/"..activity.getPackageName().."/打字板","w+"):write('"文本":"点击右下角设置文字"\n"文本颜色":"0xff000000"\n"背景色":"0xffffffff"'):close()
end
if io.open("/data/data/"..activity.getPackageName().."/轻工具主页收藏应用"):read("*a")==""then
io.open("/data/data/"..activity.getPackageName().."/轻工具主页收藏应用","w+"):write("{}"):close()
end
local f=io.open(this.luaDir.."/libs/ColorPicker.dex",'r')
if f~=nil then
  io.close(f)
else
  软件内下载("正在下载资源,请耐心等待下载完成","https://raw.githubusercontent.com/donothavename/gx/master/ColorPicker.dex",this.luaDir.."/libs/ColorPicker.dex")
end
local f=io.open("/data/data/"..activity.getPackageName().."/app_lib/libmd5.so",'r')
if f~=nil then
  io.close(f)
else
  软件内下载("正在下载资源","https://raw.githubusercontent.com/donothavename/gx/master/libmd5.so","/data/data/"..activity.getPackageName().."/app_lib/libmd5.so")
end
import 'android.graphics.*'
全部应用左列={"打字板","时间屏幕","翻译","快递查询Lite","尺子","二维码工具","图片转链接","查看设备详细信息","大文件清理","空文件夹清理","QQ无用缓存清理","进制转换","Base64编码转换","历史上的今天","网页源码获取","归属地查询"}
全部应用右列={"画板","垃圾分类查询","汇率转换","短链生成","指南针","取色器","BiliBili封面获取","获取当前壁纸","空文件清理","安装包清理","摩斯电码","RC4加解密","MD5加密","随机数生成","全球IP查询"}
function 波纹方(id,color)
  ripples=activity.obtainStyledAttributes({android.R.attr.selectableItemBackground}).getResourceId(0,0)
  id.setBackgroundDrawable(activity.Resources.getDrawable(ripples).setColor(ColorStateList(int[0].class{int{}},int{color})))
end
function 获取完成事件(val,t,fun)
  function 获取完成事件2(val,t)end
  获取完成事件2=fun
  获取完成事件2(val,t)
end
function getFolderSize(path,fun)
  local size=0
  local t=os.time()
  require "import"
  import "java.io.File"
  import "java.lang.String"
  function FindFile(catalog)
    local ls=catalog.listFiles()
    for 次数=0,#ls-1 do
      if 次数==tointeger(#ls/4) or 次数==tointeger(#ls/2) or 次数==tointeger(#ls*0.75) then
        collectgarbage("collect")
      end
      local f=ls[次数]
      if f.isDirectory() then
        FindFile(f)
       else
        size=size+File(tostring(f)).length()
      end
    end
  end
  collectgarbage("collect")
  if tostring(path):find"Table" then
    for i=1,#path do
      if File(tostring(path[i])).isDirectory() then
        FindFile(File(path[i]))
      end
    end
  else
    if File(tostring(path)).isDirectory() then
      FindFile(File(path))
    end
  end
  if size~=0 then
    if size>=1073741824 then
      size=tostring(tointeger(size/1073741824*1000))
      if size:sub(#size,#size)>="5" then
        size=tostring((size:sub(1,#size-1)+1)/100).."GB"
      else
        size=tostring(size:sub(1,#size-1)/100).."GB"
      end
    else
      size=tostring(tointeger(size/1048576*1000))
      if size:sub(#size,#size)>="5" then
        size=tostring((size:sub(1,#size-1)+1)/100).."MB"
      else
        size=tostring(size:sub(1,#size-1)/100).."MB"
      end
    end
  else
    size="0.00MB"
  end
  call("获取完成事件",size,t,fun)
  luajava.clear(f)
  luajava.clear(fun)
  luajava.clear(获取完成事件)
  collectgarbage("collect")
end
function getpathmd5(path)
  md5=require("md5")
  function md5.sumhexa(k)
    k=md5.sum(k)
    return (string.gsub(k, ".", function (c)
    return string.format("%02x", string.byte(c))
    end))
  end
  local file=io.open(path,"rb")
  local string=file:read("*a")
  file:close()
  return md5.sumhexa(string)
end
function 保存链接图片(链接,文件名)
  local ur=URL(链接)
  file=File(文件名);
  local con=ur.openConnection();
  local co=con.getContentLength();
  local is=con.getInputStream();
  local bs=byte[1024]
  local len,read=0,0
  import "java.io.FileOutputStream"
  local wj=FileOutputStream(文件名);
  len=is.read(bs)
  while len~=-1 do
    wj.write(bs,0,len)
    read=read+len
    len=is.read(bs)
  end
  提示("已保存在: "..文件名)
  wj.close()
  is.close()
end
function 提示(t)
  local tsbj={
    LinearLayout,
    {
      CardView,
      radius="4dp",
      Elevation="8dp",
      layout_margin="8dp",
      CardBackgroundColor=0xff202124,
      {
        LinearLayout,
        padding="16dp",
        layout_width=w-16/32*geth(toolbar),
        {
          TextView,
          Text=tostring(t),
          textSize="14sp",
          paddingLeft="8dp",
          paddingRight="8dp",
          textColor=0xffffffff,
        },
      },
    },
  }
  if toast then
    toast.cancel()
    toast=nil
  end
  toast=Toast.makeText(activity,'',Toast.LENGTH_SHORT).setGravity(Gravity.BOTTOM|Gravity.CENTER, 0, 0).setView(loadlayout(tsbj))
  toast.show()
end
function 全部应用()
collectgarbage("collect")
全部应用布局={
  LinearLayout,
  layout_width=w,
  layout_height=h,
  orientation="vertical",
  backgroundColor=0xffffffff,
  {
    LinearLayout,
    layout_width=w,
    elevation="5dp",
    backgroundColor=0xFF9AAEC7,
    layout_height=getStatusBarHeight()+geth(toolbar),
    {
      LinearLayout,
      layout_width=w,
      layout_gravity="bottom",
      orientation="horizontal",
      layout_height=geth(toolbar),
      {
        ImageView,
        padding="15dp",
        layout_width="48dp",
        layout_height="48dp",
        ColorFilter=0xffffffff,
        layout_gravity="center",
        src="http://shp.qpic.cn/collector/2530648358/6ce8ce2c-f0ac-4c11-b6c1-2c7daf86ac60/0",
        onClick=function()qbyybj.dismiss()end,
      },
      {
        TextView,
        text="全部",
        layout_weight="1",
        textColor=0xffffffff,
        layout_gravity="center",
        backgroundColor=0xFF9AAEC7,
      },
      {
        ImageView,
        padding="14dp",
        layout_width="48dp",
        ColorFilter=0xffffffff,
        layout_height="48dp",
        layout_gravity="center",
        onClick=function()应用添加收藏()end,
        src="http://shp.qpic.cn/collector/2530648358/f52d39f7-e879-4117-bdb9-a0d0f8f0ac4d/0",
      },
    },
  },
  {
    NestedScrollView,
    layout_width="fill",
    layout_height="fill",
    layout_marginTop="8dp",
    layout_marginLeft="8dp",
    layout_marginRight="8dp",
    {
      LinearLayout,
      layout_width="fill",
      layout_height="fill",
      orientation="horizontal",
      {
        LinearLayout,
        id="qbyyzl",
        orientation="vertical",
        layout_width=0.5*w-geth(toolbar)/4,
      },
      {
        LinearLayout,
        id="qbyyyl",
        orientation="vertical",
        layout_width=0.5*w-geth(toolbar)/4,
      },
    },
  },
}
qbyybj=PopupWindow(loadlayout(全部应用布局))
qbyybj.setFocusable(true)
qbyybj.setWidth(w)
qbyybj.setHeight(h)
qbyybj.setTouchable(true)
qbyybj.setOutsideTouchable(true)
qbyybj.showAtLocation(fltBtn.Parent,0,0,0)
全部应用适配布局=[[
{
  CardView,
  elevation=0,
  radius="4dp",
  layout_width="fill",
  layout_margin="8dp",
  cardBackgroundColor=0xFFF8F8F8,
  {
    LinearLayout,
    id="应用id",
    padding="8dp",
    layout_width="fill",
    paddingTop="16dp",
    paddingBottom="16dp",
    onClick=function()应用名称()end,
    {
      TextView,
      gravity="center",
      text="应用名称",
      layout_width="fill",
      textColor=0xFF424242,
    },
  },
},
]]
应用左列id={"qydzbid","qysjpmid","qyfyid","qykdcxliteid","qyczid","qyewmgjid","qytpzljid","qycksbxxxxid","qydwjqlid","qykwjjqlid","qyqqwyhcqlid","qyjzzhid","qybase64bmzhid","qylssdjtid","qywyymhqid","qygsdcxid"}
for i=1,#全部应用左列 do
  if i==1 then
    全部应用左列布局=全部应用适配布局:gsub("应用名称",全部应用左列[1]):gsub("应用id",应用左列id[1])
  else
    if 全部应用左列[i]=="短链生成" then
      全部应用左列布局=全部应用左列布局..全部应用适配布局:gsub("应用名称","短链生成"):gsub('text="短链生成"','text="短链 生成与还原"'):gsub("应用id",应用左列id[i])
    else
      全部应用左列布局=全部应用左列布局..全部应用适配布局:gsub("应用名称",全部应用左列[i]):gsub("应用id",应用左列id[i])
    end
  end
end
全部应用左列布局=[[{
LinearLayout,
layout_width="fill",
layout_height="fill",
orientation="vertical",
]]..全部应用左列布局.."}"
应用右列id={"qyhbid","qyljflcxid","qyhlzhid","qydlscid","qyznzid","qyqsqid","qybilibilifmhqid","qyhqdqbzid","qykwjqlid","qyazbqlid","qymsdmid","qyrc4jjmid","qymd5jmid","qysjsscid","qyqqipcxid"}
for i=1,#全部应用右列 do
  if i==1 then
    全部应用右列布局=全部应用适配布局:gsub("应用名称",全部应用右列[1]):gsub("应用id",应用右列id[1])
  else
    if 全部应用右列[i]=="短链生成" then
      全部应用右列布局=全部应用右列布局..全部应用适配布局:gsub("应用名称","短链生成"):gsub('text="短链生成"','text="短链 生成与还原"'):gsub("应用id",应用右列id[i])
    else
      全部应用右列布局=全部应用右列布局..全部应用适配布局:gsub("应用名称",全部应用右列[i]):gsub("应用id",应用右列id[i])
    end
  end
end
全部应用右列布局=[[{
LinearLayout,
layout_width="fill",
layout_height="fill",
orientation="vertical",
]]..全部应用右列布局.."}"
b=loadstring("return "..全部应用左列布局)全部应用左列布局=b()
qbyyzl.addView(loadlayout(全部应用左列布局))
b=loadstring("return "..全部应用右列布局)全部应用右列布局=b()
qbyyyl.addView(loadlayout(全部应用右列布局))
for i=1,#应用左列id do
  if i==1 then
    全部应用左列事件="波纹("..应用左列id[1]..",0xFFE9E9E9)"..应用左列id[1]..".onLongClick=function()应用添加收藏()if ytc"..应用左列id[1]:sub(3,#应用左列id[1]).."fxk.isChecked()==false then "..[[轻工具主页待添加收藏应用='"'..全部应用左列[1]..'",']].."end ytc"..应用左列id[1]:sub(3,#应用左列id[1]).."fxk.setChecked(true)return true end "
  else
    全部应用左列事件=全部应用左列事件.."波纹("..应用左列id[i]..",0xFFE9E9E9)"..应用左列id[i]..".onLongClick=function()应用添加收藏()待添加收藏应用名称='"..全部应用左列[i].."'if ytc"..应用左列id[i]:sub(3,#应用左列id[i]).."fxk.isChecked()==false then "..[[轻工具主页待添加收藏应用='"'..待添加收藏应用名称..'",']].."end ytc"..应用左列id[i]:sub(3,#应用左列id[i]).."fxk.setChecked(true)return true end "
  end
end
for i=1,#应用右列id do
  if i==1 then
    全部应用右列事件="波纹("..应用右列id[1]..",0xFFE9E9E9)"..应用右列id[1]..".onLongClick=function()应用添加收藏()if ytc"..应用右列id[1]:sub(3,#应用右列id[1]).."fxk.isChecked()==false then "..[[轻工具主页待添加收藏应用='"'..全部应用右列[1]..'",']].."end ytc"..应用右列id[1]:sub(3,#应用右列id[1]).."fxk.setChecked(true)return true end "
  else
    全部应用右列事件=全部应用右列事件.."波纹("..应用右列id[i]..",0xFFE9E9E9)"..应用右列id[i]..".onLongClick=function()应用添加收藏()待添加收藏应用名称='"..全部应用右列[i].."'if ytc"..应用右列id[i]:sub(3,#应用右列id[i]).."fxk.isChecked()==false then "..[[轻工具主页待添加收藏应用='"'..待添加收藏应用名称..'",']].."end ytc"..应用右列id[i]:sub(3,#应用右列id[i]).."fxk.setChecked(true)return true end "
  end
end
b=loadstring("return ".."function()"..全部应用左列事件..全部应用右列事件.."end")全部应用事件=b()
function qbyysj()end
qbyysj=全部应用事件
qbyysj()
end
function 应用添加收藏()
collectgarbage("collect")
轻工具主页待添加收藏应用=""
应用添加收藏布局={
  LinearLayout,
  layout_width=w,
  layout_height=h,
  orientation="vertical",
  backgroundColor=0xffffffff,
  {
    FrameLayout,
    layout_width=w,
    layout_height=h,
    {
      LinearLayout,
      layout_width=w,
      elevation="5dp",
      backgroundColor=0xFF9AAEC7,
      layout_height=getStatusBarHeight()+geth(toolbar),
      {
        LinearLayout,
        layout_width=w,
        layout_gravity="bottom",
        orientation="horizontal",
        layout_height=geth(toolbar),
        {
          ImageView,
          padding="15dp",
          layout_width="48dp",
          layout_height="48dp",
          ColorFilter=0xffffffff,
          layout_gravity="center",
          src="http://shp.qpic.cn/collector/2530648358/6ce8ce2c-f0ac-4c11-b6c1-2c7daf86ac60/0",
          onClick=function()yytjscbj.dismiss()end,
        },
        {
          TextView,
          text="添加收藏",
          layout_weight="1",
          textColor=0xffffffff,
          layout_gravity="center",
          backgroundColor=0xFF9AAEC7,
        },
        {
          ImageView,
          padding="14dp",
          layout_width="48dp",
          ColorFilter=0xffffffff,
          layout_height="48dp",
          layout_gravity="center",
          onClick=function()yytjscbj.dismiss()end,
          src="http://shp.qpic.cn/collector/2530648358/17ef4ca4-70b8-4288-ace7-b965b13caa89/0",
        },
      },
    },
    {
      NestedScrollView,
      layout_width="fill",
      layout_height="fill",
      layout_marginTop=40/32*geth(toolbar)+getStatusBarHeight(),
      layout_marginLeft="8dp",
      layout_marginRight="8dp",
      {
        LinearLayout,
        layout_width="fill",
        layout_height="fill",
        orientation="horizontal",
        {
          LinearLayout,
          id="yysczl",
          orientation="vertical",
          layout_width=0.5*w-geth(toolbar)/4,
        },
        {
          LinearLayout,
          id="yyscyl",
          orientation="vertical",
          layout_width=0.5*w-geth(toolbar)/4,
        },
      },
    },
    {
      CardView,
      radius="28dp",
      elevation="5dp",
      layout_width="56dp",
      layout_height="56dp",
      layout_margin="16dp",
      layout_gravity="right|bottom",
      cardBackgroundColor=0xFF68AFE5,
      {
        ImageView,
        padding="14dp",
        layout_width="fill",
        layout_height="fill",
        ColorFilter=0xffffffff,
        layout_gravity="center",
        src="http://shp.qpic.cn/collector/2530648358/63f0b437-8922-485c-8f85-8c2077fca763/0",
        onClick=function()
          if 轻工具主页待添加收藏应用=="" then
            提示"未添加。"
          else
            轻工具主页收藏应用=io.open("/data/data/"..activity.getPackageName().."/轻工具主页收藏应用"):read("*a")
            io.open("/data/data/"..activity.getPackageName().."/轻工具主页收藏应用","w+"):write(轻工具主页收藏应用:sub(1,#轻工具主页收藏应用-1)..轻工具主页待添加收藏应用:gsub("短链 生成与还原","短链生成").."}"):close()
            提示"添加收藏成功。"
            yytjscbj.dismiss()
            主页收藏应用()
          end
        end,
      },
    },
  },
}
yytjscbj=PopupWindow(loadlayout(应用添加收藏布局))
yytjscbj.setFocusable(true)
yytjscbj.setWidth(w)
yytjscbj.setHeight(h)
yytjscbj.setTouchable(true)
yytjscbj.setOutsideTouchable(true)
yytjscbj.showAtLocation(fltBtn.Parent,0,0,0)
应用添加收藏适配布局=[[
{
  CardView,
  elevation=0,
  radius="4dp",
  layout_width="fill",
  layout_margin="8dp",
  cardBackgroundColor=0xFFF8F8F8,
  {
    LinearLayout,
    id="应用id",
    padding="8dp",
    layout_width="fill",
    orientation="horizontal",
    onClick=function()
      if 已添加==nil then
        if 应用idfxk.isChecked()==false then
          应用idfxk.setChecked(true)
          轻工具主页待添加收藏应用=轻工具主页待添加收藏应用..'"应用名称",'
        else
          应用idfxk.setChecked(false)
          轻工具主页待添加收藏应用=轻工具主页待添加收藏应用:gsub('"应用名称",',"")
        end
      end
    end,
    {
      TextView,
      gravity="center",
      text="应用名称",
      layout_weight="1",
      layout_gravity="center",
      textColor=0xFF424242,
    },
    {
      CheckBox,
      id="应用idfxk",
      checked=已勾选,
      enabled=可勾选,
      layout_gravity="center",
      onClick=function()
        if 已添加==nil then
          if 应用idfxk.isChecked()==true then
            轻工具主页待添加收藏应用=轻工具主页待添加收藏应用..'"应用名称",'
          else
            轻工具主页待添加收藏应用=轻工具主页待添加收藏应用:gsub('"应用名称",',"")
          end
        end
      end,
    },
  },
},
]]
b=loadstring("return "..io.open("/data/data/"..activity.getPackageName().."/轻工具主页收藏应用"):read("*a"))轻工具主页收藏应用=b()
应用添加收藏左列id={"ytcdzbid","ytcsjpmid","ytcfyid","ytckdcxliteid","ytcczid","ytcewmgjid","ytctpzljid","ytccksbxxxxid","ytcdwjqlid","ytckwjjqlid","ytcqqwyhcqlid","ytcjzzhid","ytcbase64bmzhid","ytclssdjtid","ytcwyymhqid","ytcgsdcxid"}
for i=1,#全部应用左列 do
  if i==1 then
    应用添加收藏左列布局=应用添加收藏适配布局:gsub("应用名称",全部应用左列[1]):gsub("应用id",应用添加收藏左列id[1])
    for n=1,#轻工具主页收藏应用+1 do
      if n==#轻工具主页收藏应用+1 then
        应用添加收藏左列布局=应用添加收藏左列布局:gsub("已添加","nil"):gsub("已勾选","false"):gsub("可勾选","true")
      elseif 轻工具主页收藏应用[n]:find(全部应用左列[i]) then
        应用添加收藏左列布局=应用添加收藏左列布局:gsub("已添加","true"):gsub("已勾选","true"):gsub("可勾选","false")break
      end
    end
  else
    应用添加收藏左列布局=应用添加收藏左列布局..应用添加收藏适配布局:gsub("应用名称",全部应用左列[i]):gsub("应用id",应用添加收藏左列id[i]):gsub("短链生成","短链 生成与还原")
    for n=1,#轻工具主页收藏应用+1 do
      if n==#轻工具主页收藏应用+1 then
        应用添加收藏左列布局=应用添加收藏左列布局:gsub("已添加","nil"):gsub("已勾选","false"):gsub("可勾选","true")
      elseif 轻工具主页收藏应用[n]:find(全部应用左列[i]) then
        应用添加收藏左列布局=应用添加收藏左列布局:gsub("已添加","true"):gsub("已勾选","true"):gsub("可勾选","false")break
      end
    end
  end
end
应用添加收藏左列布局=[[{
LinearLayout,
layout_width="fill",
layout_height="fill",
orientation="vertical",
]]..应用添加收藏左列布局.."}"
应用添加收藏右列id={"ytchbid","ytcljflcxid","ytchlzhid","ytcdlscid","ytcznzid","ytcqsqid","ytcbilibilifmhqid","ytchqdqbzid","ytckwjqlid","ytcazbqlid","ytcmsdmid","ytcrc4jjmid","ytcmd5jmid","ytcsjsscid","ytcqqipcxid"}
for i=1,#全部应用右列 do
  if i==1 then
    应用添加收藏右列布局=应用添加收藏适配布局:gsub("应用名称",全部应用右列[1]):gsub("应用id",应用添加收藏右列id[1])
    for n=1,#轻工具主页收藏应用+1 do
      if n==#轻工具主页收藏应用+1 then
        应用添加收藏右列布局=应用添加收藏右列布局:gsub("已添加","nil"):gsub("已勾选","false"):gsub("可勾选","true")
      elseif 轻工具主页收藏应用[n]:find(全部应用右列[i]) then
        应用添加收藏右列布局=应用添加收藏右列布局:gsub("已添加","true"):gsub("已勾选","true"):gsub("可勾选","false")break
      end
    end
  else
    应用添加收藏右列布局=应用添加收藏右列布局..应用添加收藏适配布局:gsub("应用名称",全部应用右列[i]):gsub("应用id",应用添加收藏右列id[i]):gsub("短链生成","短链 生成与还原")
    for n=1,#轻工具主页收藏应用+1 do
      if n==#轻工具主页收藏应用+1 then
        应用添加收藏右列布局=应用添加收藏右列布局:gsub("已添加","nil"):gsub("已勾选","false"):gsub("可勾选","true")
      elseif 轻工具主页收藏应用[n]:find(全部应用右列[i]) then
        应用添加收藏右列布局=应用添加收藏右列布局:gsub("已添加","true"):gsub("已勾选","true"):gsub("可勾选","false")break
      end
    end
  end
end
应用添加收藏右列布局=[[{
LinearLayout,
layout_width="fill",
layout_height="fill",
orientation="vertical",
]]..应用添加收藏右列布局.."}"
b=loadstring("return "..应用添加收藏左列布局)应用添加收藏左列布局=b()
yysczl.addView(loadlayout(应用添加收藏左列布局))
b=loadstring("return "..应用添加收藏右列布局)应用添加收藏右列布局=b()
yyscyl.addView(loadlayout(应用添加收藏右列布局))
for i=1,#应用左列id do
  if i==1 then
    应用添加收藏左列点击波纹="波纹("..应用添加收藏左列id[1]..",0xFFE9E9E9)"
  else
    应用添加收藏左列点击波纹=应用添加收藏左列点击波纹.."波纹("..应用添加收藏左列id[i]..",0xFFE9E9E9)"
  end
end
for i=1,#应用右列id do
  if i==1 then
    应用添加收藏右列点击波纹="波纹("..应用添加收藏右列id[1]..",0xFFE9E9E9)"
  else
    应用添加收藏右列点击波纹=应用添加收藏右列点击波纹.."波纹("..应用添加收藏右列id[i]..",0xFFE9E9E9)"
  end
end
b=loadstring("return ".."function()"..应用添加收藏左列点击波纹..应用添加收藏右列点击波纹.."end")应用添加收藏点击波纹=b()
function yytjscdjbw()end
yytjscdjbw=应用添加收藏点击波纹
yytjscdjbw()
end
function 时间屏幕()
io.open(this.luaDir.."/sub/1552308105/sj.lua","w+"):write([[
activity.setRequestedOrientation(0)
activity.getWindow().getDecorView().setSystemUiVisibility(View.SYSTEM_UI_FLAG_HIDE_NAVIGATION)
时间屏幕={
  LinearLayout,
  id="sjpmbjbj",
  layout_width="fill",
  layout_height="fill",
  KeepScreenOn="true",
  onClick=function()
    if sjpmdj==0then sjpmbjbj.setBackgroundColor(0xffffffff)sjwb.setTextColor(0xFFD5D4CB)rqwb.setTextColor(0xFFC7C7C7)sjpmdj=nil
    else sjpmbjbj.setBackgroundColor(0xff000000)sjwb.setTextColor(0xffffffff)rqwb.setTextColor(0xffffffff)sjpmdj=0 end
  end,
  {
    LinearLayout,
    id="sjpmwb",
    gravity="center",
    layout_width="fill",
    layout_height="fill",
    orientation="vertical",
    {
      TextView,
      id="sjwb",
      textSize="80sp",
      layout_marginTop="50dp",
      textColor=0xFFD5D4CB,
    },
    {
      TextView,
      id="rqwb",
      layout_gravity="right",
      layout_marginTop="50dp",
      layout_marginRight="50dp",
      textColor=0xFFC7C7C7,
    },
  },
}
webView.addView(loadlayout(时间屏幕))
function gxsj()
  sjwb.setText(os.date("%H : %M : %S"))rqwb.setText(os.date("Life is Fantastic , today is %A"))
  task(1000,function()
    gxsj()
  end)
end
gxsj()
io.open(this.luaDir.."/sj.lua","w+"):write(""):close()]]):close()
进入子页面("共用")
end
function 翻译()
function 翻译收藏()
翻译收藏布局={
  LinearLayout,
  orientation="vertical",
  layout_height="h",
  backgroundColor=0xffffffff,
  {
    LinearLayout,
    layout_width=w,
    orientation="horizontal",
    layout_height=geth(toolbar),
    backgroundColor=0xff9aaec7,
    {
      LinearLayout,
      layout_marginLeft=0.05*w,
      layout_height="32dp",
      {
        TextView,
        layout_gravity="center",
        textColor=0xffffffff,
        text="收藏",
        backgroundColor=0xFF9AAEC7,
      },
    },
  },
  {
    ListView,
    id="flst",
    dividerHeight=0,
    layout_width="fill",
    layout_gravity="center",
    layout_height=h-geth(toolbar)-getStatusBarHeight(),
  },
}
翻译收藏列表={
  LinearLayout,
  layout_width="fill",
  orientation="vertical",
  gravity="center",
  {
    TextView,
    textSize="16sp",
    id="翻译收藏文字",
    layout_width="90%w",
    paddingBottom="25dp",
    textColor=0xff000000,
  },
  {
    LinearLayout,
    layout_width="90%w",
    layout_height="2dp",
    backgroundColor=0xFFF6F6F6,
  },
}
data={}
翻译收藏文本=io.open("/data/data/"..activity.getPackageName().."/翻译收藏"):read("*a")
b=loadstring("return "..翻译收藏文本)翻译收藏文本=b()
for i=1,#翻译收藏文本 do table.insert(data,{翻译收藏文字=翻译收藏文本[i]})end
adp=LuaAdapter(activity,data,翻译收藏列表)
fyscbj=PopupWindow(loadlayout(翻译收藏布局))
fyscbj.setFocusable(true)
fyscbj.setWidth(w)
fyscbj.setHeight(h)
fyscbj.setTouchable(true)
fyscbj.setOutsideTouchable(true)
fyscbj.showAtLocation(fltBtn.Parent,0,0,0)
flst.Adapter=adp
flst.onItemLongClick=function(l,v,c,b)
items={
  ListView,
  id="lb",
  dividerHeight=0,
  items={"删除","复制"},
  layout_width="fill",
  }
  圆角对话框()
  .添加布局(items)
  .显示(function()
    lb.setOnItemClickListener(AdapterView.OnItemClickListener{
      onItemClick=function(parent, v, pos,id)
        pop.dismiss()
        if id==1 then
          xrfysc=""
          for i=1,#翻译收藏文本 do
            if i==b then
            elseif i==1 then
              xrfysc="[["..翻译收藏文本[1].."]],"
            else
              xrfysc=xrfysc.."\n[["..翻译收藏文本[i].."]],"
            end
          end
          if b==1then
            xrfysc="{"..xrfysc.."\n--翻译收藏\n}"
          else
            xrfysc="{\n"..xrfysc.."\n--翻译收藏\n}"
          end
          io.open("/data/data/"..activity.getPackageName().."/翻译收藏","w+"):write(xrfysc):close()
          data={}
          翻译收藏文本=io.open("/data/data/"..activity.getPackageName().."/翻译收藏"):read("*a")
          b=loadstring("return "..翻译收藏文本)翻译收藏文本=b()
          for i=1,#翻译收藏文本 do table.insert(data,{翻译收藏文字=翻译收藏文本[i]})end
          adp=LuaAdapter(activity,data,翻译收藏列表)
          flst.Adapter=adp
        elseif id==2 then
          复制文本(翻译收藏文本[b])
        end
      end})
    end)
  end
end
function 添加翻译收藏()
dqfysc=io.open("/data/data/"..activity.getPackageName().."/翻译收藏"):read("*a")
翻译收藏文本=io.open("/data/data/"..activity.getPackageName().."/翻译收藏"):read("*a")
b=loadstring("return "..翻译收藏文本)翻译收藏文本=b()
for i=1,#翻译收藏文本+1 do 
  if 翻译收藏文本[i]==(dfywb.text.."  |  "..fyjg.text)then
    break
  elseif i==#翻译收藏文本+1 then
    xrfysc=dqfysc:gsub("--翻译收藏","[["..dfywb.text.."  |  "..fyjg.text.."]],\n--翻译收藏")
    io.open("/data/data/"..activity.getPackageName().."/翻译收藏","w+"):write(xrfysc):close()
  end
end
end
fylx="AUTO"
function 选择翻译语言()
if luajava.bindClass("android.os.Build").VERSION.SDK_INT>=21 then activity.setTheme(android.R.style.Theme_Material_Light)else activity.setTheme(android.R.style.Theme_Holo_Light)end
选择翻译语言布局={
  LinearLayout,
  orientation="vertical",
  layout_height="h",
  backgroundColor=0xffffffff,
  {
    LinearLayout,
    layout_width=w,
    orientation="horizontal",
    layout_height=geth(toolbar),
    backgroundColor=0xff9aaec7,
    {
      ImageView,
      padding="15dp",
      layout_width="48dp",
      layout_gravity="center",
      layout_height="48dp",
      src="http://shp.qpic.cn/collector/2530648358/6ce8ce2c-f0ac-4c11-b6c1-2c7daf86ac60/0",
      ColorFilter=0xffffffff,
      onClick=function()xzfyyybj.dismiss()end,
    },
    {
      LinearLayout,
      layout_marginLeft="12dp",
      layout_height="32dp",
      {
        TextView,
        layout_gravity="center",
        textColor=0xffffffff,
        text="选择语言",
        backgroundColor=0xFF9AAEC7,
      },
    },
  },
  {
    ListView,
    id="lb",
    items={"自动检测","中译英","中译日","中译韩","中译法","中译俄","中译西","英译中","日译中","韩译中","法译中","俄译中","西译中"},
    layout_width="fill",
    layout_height=h-geth(toolbar)-getStatusBarHeight(),
  },
}
xzfyyybj=PopupWindow(loadlayout(选择翻译语言布局))
xzfyyybj.setFocusable(true)
xzfyyybj.setWidth(w)
xzfyyybj.setHeight(h)
xzfyyybj.setTouchable(true)
xzfyyybj.setOutsideTouchable(true)
xzfyyybj.showAtLocation(fltBtn.Parent,0,0,0)
lb.setOnItemClickListener(AdapterView.OnItemClickListener{
  onItemClick=function(parent, v, pos,id)xzfyyybj.dismiss()
    if id==1then fylxwb.text=("自动检测")fylx="AUTO"
    elseif id==2then fylxwb.text=("中译英")fylx="ZH_CN2EN"
    elseif id==3then fylxwb.text=("中译日")fylx="ZH_CN2JA"
    elseif id==4then fylxwb.text=("中译韩")fylx="ZH_CN2KR"
    elseif id==5then fylxwb.text=("中译法")fylx="ZH_CN2FR"
    elseif id==6then fylxwb.text=("中译俄")fylx="ZH_CN2RU"
    elseif id==7then fylxwb.text=("中译西")fylx="ZH_CN2SP"
    elseif id==8then fylxwb.text=("英译中")fylx="EN2ZH_CN"
    elseif id==9then fylxwb.text=("日译中")fylx="JA2ZH_CN"
    elseif id==10then fylxwb.text=("韩译中")fylx="KR2ZH_CN"
    elseif id==11then fylxwb.text=("法译中")fylx="FR2ZH_CN"
    elseif id==12then fylxwb.text=("俄译中")fylx="RU2ZH_CN"
    else fylxwb.text=("西译中")fylx="SP2ZH_CN"
    end
  end})
task(500,function()
  if yj=="开"then
    if luajava.bindClass("android.os.Build").VERSION.SDK_INT>=21 then activity.setTheme(android.R.style.Theme_Material)else activity.setTheme(android.R.style.Theme_Holo)end
  else
    if luajava.bindClass("android.os.Build").VERSION.SDK_INT>=21 then activity.setTheme(android.R.style.Theme_Material_Light)else activity.setTheme(android.R.style.Theme_Holo_Light)end
  end
end)
end
翻译布局={
  LinearLayout,
  orientation="vertical",
  layout_height=h,
  backgroundColor=0xFF9AAEC7,
  {
    LinearLayout,
    layout_width=w,
    orientation="horizontal",
    layout_height=geth(toolbar),
    {
      ImageView,
      padding="15dp",
      layout_width="48dp",
      layout_gravity="center",
      layout_height="48dp",
      src="http://shp.qpic.cn/collector/2530648358/6ce8ce2c-f0ac-4c11-b6c1-2c7daf86ac60/0",
      ColorFilter=0xffffffff,
      onClick=function()fybj.dismiss()end,
    },
    {
      LinearLayout,
      layout_weight="1",
      layout_marginLeft="12dp",
      layout_height="32dp",
      {
        TextView,
        layout_gravity="center",
        textColor=0xffffffff,
        text="翻译",
        backgroundColor=0xFF9AAEC7,
      },
    },
    {
      ImageView,
      padding="15dp",
      layout_width="48dp",
      layout_gravity="center",
      layout_height="48dp",
      src="http://shp.qpic.cn/collector/2530648358/fa484b1f-6510-45d3-b8fd-be3cf0e8f7ce/0",
      ColorFilter=0xffffffff,
      onClick=function()翻译收藏()end,
    },
  },
  {
    CardView,
    layout_width=w,
    layout_height=h,
    elevation=0,
    radius="10dp",
    cardBackgroundColor=0xffffffff,
    {
      ScrollView;
      layout_width=w,
      paddingLeft="24dp",
      paddingRight="24dp",
      layout_height=h-geth(toolbar)-getStatusBarHeight(),
      VerticalScrollBarEnabled=false,
      {
        LinearLayout,
        layout_width="fill",
        orientation="vertical",
        {
          LinearLayout,
          gravity="center",
          layout_width="fill",
          layout_height="32dp",
          onClick=function()选择翻译语言()end,
          {
            TextView,
            id="fylxwb",
            text="自动检测",
            textSize="18sp",
            textColor=0xFF68AFE5,
          },
        },
        {
          FrameLayout,
          layout_width="fill",
          {
            LinearLayout,
            layout_width="fill",
            layout_height="170dp",
            onClick=function()activity.getSystemService(Context.INPUT_METHOD_SERVICE).toggleSoftInput(0,InputMethodManager.RESULT_SHOWN)end,
          },
          {
            EditText,
            id="dfywb",
            hint="请输入文字..",
            layout_width="fill",
            textColor=0xff000000,
            backgroundColor=0xffffffff,
          },
        },
        {
            LinearLayout,
            layout_width="56dp",
            layout_height="56dp",
            gravity="center",
            layout_gravity="right",
            layout_marginTop="-52dp",
            {
              ImageView,
              id="qcfynr",
              padding="12dp",
              layout_width="48dp",
              layout_height="48dp",
              Visibility=4,
              src="http://shp.qpic.cn/collector/2530648358/c5794b00-8e26-4e15-88cf-008d722098cd/0",
              ColorFilter=0xFF767774,
              onClick=function()dfywb.text=("")fyjg.text=("")end,
            },
          },
        {
          FrameLayout,
          layout_width="fill",
          layout_marginTop="-15dp",
          {
            CardView,
            elevation=0,
            radius="6dp",
            layout_width="fill",
            layout_marginTop="28dp",
            layout_marginBottom="30dp",
            cardBackgroundColor=0xfff5f5f5,
            {
              LinearLayout,
              layout_width="fill",
              orientation="vertical",
              layout_marginTop="30dp",
              {
                TextView,
                id="fyjg",
                padding="16dp",
                textSize="18sp",
                textColor=0xff000000,
              },
              {
                LinearLayout,
                gravity="right",
                layout_width="fill",
                layout_height="48dp",
                orientation="horizontal",
                layout_margin="8dp",
                {
                  ImageView,
                  id="tts",
                  padding="12dp",
                  layout_width="48dp",
                  layout_height="48dp",
                  src="http://shp.qpic.cn/collector/2530648358/e7ca2ca5-e259-4466-89bb-6b4f4952dd6a/0",
                  ColorFilter=0xFF767774,
                  onClick=function()
                    if fyjg.text~=""then
                      import "android.speech.tts.*"
                      mTextSpeech = TextToSpeech(activity, TextToSpeech.OnInitListener{
                        onInit=function(status)
                          if (status == TextToSpeech.SUCCESS)then
                            result = mTextSpeech.setLanguage(yyan)
                            if (result == TextToSpeech.LANG_MISSING_DATA or result == TextToSpeech.LANG_NOT_SUPPORTED)then
                              提示("您的手机不支持"..yuy.."语音播报功能。")
                            else
                              mTextSpeech.setPitch(1);
                              mTextSpeech.setSpeechRate(1)
                              mTextSpeech.speak(fyjg.text, TextToSpeech.QUEUE_FLUSH, nil)
                            end
                          else 提示"未装载系统TTS"
                          end
                        end
                      })
                    end
                  end,
                },
                {
                  ImageView,
                  id="fzfyjg",
                  padding="12dp",
                  layout_width="48dp",
                  layout_height="48dp",
                  src="http://shp.qpic.cn/collector/2530648358/2ed5c4e9-7155-4732-a87e-ca8de59965e4/0",
                  ColorFilter=0xFF767774,
                  onClick=function()复制文本(fyjg.text)提示"复制完成"end,
                },
                {
                  ImageView,
                  id="tjfysc",
                  padding="12dp",
                  layout_width="48dp",
                  layout_height="48dp",
                  src="http://shp.qpic.cn/collector/2530648358/fa484b1f-6510-45d3-b8fd-be3cf0e8f7ce/0",
                  ColorFilter=0xFF767774,
                  onClick=function()if fyjg.text~=""then 提示"好了"添加翻译收藏()end end,
                },
              },
            },
          },
          {
            CardView,
            radius="32dp",
            elevation=0,
            layout_width="64dp",
            layout_height="64dp",
            layout_gravity="center|top",
            cardBackgroundColor=0xffffffff,
            {
              CardView,
              id="fytx",
              elevation=0,
              radius="28dp",
              layout_width="56dp",
              layout_height="56dp",
              layout_gravity="center|top",
              layout_marginBottom="-28dp",
              cardBackgroundColor=0xFF68AFE5,
              {
                ImageView,
                id="fyan",
                padding="16dp",
                layout_width="56dp",
                layout_height="56dp",
                layout_gravity="center",
                src="http://shp.qpic.cn/collector/2530648358/d0cf7f32-adbb-46e6-aa2d-5271998148ab/0",
                ColorFilter=0xffffffff,
                onClick=function()if dfywb.text~=""then 翻译动画()else 提示"未输入"end end,
              },
            },
          },
        },
      },
    },
  },
}
fybj=PopupWindow(loadlayout(翻译布局))
fybj.setFocusable(true)
fybj.setWidth(w)
fybj.setHeight(h)
fybj.setTouchable(true)
fybj.setOutsideTouchable(true)
fybj.showAtLocation(fltBtn.Parent,0,0,0)
dfywb.addTextChangedListener({
  onTextChanged=function()
  if dfywb.text=="" then
    qcfynr.setVisibility(4)
  else
    qcfynr.setVisibility(0)
  end
end})
function 翻译动画()
  缩放按钮=ScaleAnimation(1,0.6,1,0.6,相对自身,0.5,相对自身,0.5).setDuration(200).setFillAfter(true)
  fytx.startAnimation(缩放按钮)
  缩放按钮=ScaleAnimation(0.6,1,0.6,1,相对自身,0.5,相对自身,0.5).setDuration(200).setFillAfter(true)
  url="http://fanyi.youdao.com/translate?&doctype=json&type="..fylx.."&i="..dfywb.text:gsub("\n"," ")
  Http.get(url,nil,"utf8",nil,function(code,content,cookie,header)
    if fylx:find"2ZH_CN"then yyan=Locale.CHINESE yuy="中文"
    elseif fylx:find"2EN"then yyan=Locale.ENGLISH yuy="英文"
    elseif fylx:find"2JA"then yyan=Locale.JAPANESE yuy="日文"
    elseif fylx:find"2KR"then yyan=Locale.KOREAN yuy="韩文"
    elseif fylx:find"2FR"then yyan=Locale.FRENCH yuy="法文"
    --elseif fylx:find"2RU"then yyan=Locale.RUSSIAN yuy="俄文"
    --elseif fylx:find"2SP"then yyan=Locale.SPANISH yuy="西文"
    elseif content:find"2ZH_CN"then yyan=Locale.CHINESE yuy="中文"
    elseif content:find"2EN"then yyan=Locale.ENGLISH yuy="英文"
    end
    if code==-1then
      提示"连接失败"
      fytx.startAnimation(缩放按钮)
    else
      fyjgwb=content:match('"translateResult"(.-)"}]]}')
      fyjgwb=fyjgwb:sub(4,#fyjgwb)..'"}'
      JSON=import"cjson"
      json_o=JSON.decode("["..fyjgwb.."]")
        for i,v in ipairs(json_o) do
        if i==1then
          fyjgwb=(v.tgt)
        else
          fyjgwb=fyjgwb.." "..(v.tgt)
        end
      fyjg.text=(fyjgwb)
      fytx.startAnimation(缩放按钮)
      end
    end
  end)
end
波纹(fyan,0xFF477597)波纹(fzfyjg,0xFFD9D9D9)波纹(qcfynr,0xFFD9D9D9)波纹(tts,0xFFD9D9D9)波纹(tjfysc,0xFFD9D9D9)
颜色(dfywb,0xFF68AFE5)
end
function 尺子()
io.open(this.luaDir.."/sub/1552308105/sj.lua","w+"):write([[
function dpTopx(sdp)
  import "android.util.TypedValue"
  dm=this.getResources().getDisplayMetrics()
  types={px=0,dp=1,sp=2,pt=3,["in"]=4,mm=5}
  n,ty=sdp:match("^(%-?[%.%d]+)(%a%a)$")
  return TypedValue.applyDimension(types[ty],tonumber(n),dm)
end
mm=dpTopx("1mm")
activity.setRequestedOrientation(0)
myLuaDrawable=LuaDrawable(function(mCanvas,mPaint,mDrawable)
  mPaint.setColor(0xFF9C9A9D)
  mPaint.setAntiAlias(true)
  mPaint.setStrokeWidth(2)
  mPaint.setStyle(Paint.Style.FILL)
  mPaint.setStrokeCap(Paint.Cap.ROUND)
  mPaint.setTextSize(28)
  MaxPx=mDrawable.getBounds().right-30
  MaxMm=math.ceil(MaxPx/100)
  for i=0,MaxMm*10 do
    if i%10==0 then
      mCanvas.drawLine(mm*i+mm,0,mm*i+mm,80,mPaint)
      mCanvas.drawText(tostring(math.modf(i/10)),(mm*i+mm)-mm/2 ,120, mPaint)
    elseif i%5==0 then
      mCanvas.drawLine(mm*i+mm,0,mm*i+mm,60,mPaint)
    else
      mCanvas.drawLine(mm*i+mm,0,mm*i+mm,40,mPaint)
    end
  end
end)
dingyi={
  FrameLayout,
  layout_height="fill";
  layout_width="fill";
  {
    LinearLayout;
    orientation="vertical";
    layout_height="fill";
    layout_width="fill";
    Gravity="center|top",
    {
      TextView;
      layout_height="300",
      layout_width="fill",
      layout_marginLeft="30",
      id="tv",
    };
  },
  {
    LinearLayout,
    layout_height="fill",
    layout_width="fill",
    Gravity="center",
    {
      TextView,
      layout_height="300",
      layout_width="300",
      text=tostring(0),
      Gravity="center",
      textColor="#ffffff",
      textSize="60",
      id="tv4",
    },
  },
  {
    LinearLayout,
    layout_height="fill",
    layout_width="fill",
    Gravity="center",
    {
      TextView,
      layout_height="300",
      layout_width="300",
      text=tostring(0),
      Gravity="center",
      paddingTop="150",
      paddingLeft="150",
      textColor="#ffffff",
      textSize="30",
      id="tv5",
    },
  },
  {
    LinearLayout,
    orientation="vertical",
    layout_height="fill",
    layout_width="fill",
    id="tv2",
    {
      LinearLayout,
      layout_height="fill",
      layout_width=mm*2,
      Gravity="center",
      layout_marginLeft=34+mm,
      id="tv3",
      {
        TextView,
        layout_height="fill",
        layout_width="4",
        background="#808080",
      },
    },
  },
}
webView.addView(loadlayout(dingyi))
tv.background=myLuaDrawable
moveX=34+mm
tv2.onTouch=function(v,e)
  if e.getX()>40+mm then
    a=e.getAction()&255
    if a == MotionEvent.ACTION_DOWN or MotionEvent.ACTION_MOVE then    
      moveX=e.getX()-28-2*mm
      tv3.setTranslationX(moveX)
      a=math.floor((moveX/mm)/10)
      tv4.Text=tostring(math.floor((moveX/mm)/10))
      tv5.Text=tostring(math.floor(moveX/mm)-a*10)
    elseif  a == MotionEvent.ACTION_UP then
    end
    return true
  end
end
myLuaDrawable2=LuaDrawable(function(mCanvas,mPaint,mDrawable)
  mPaint.setColor(0xFF636562)
  mPaint.setAntiAlias(true)
  mPaint.setStrokeWidth(20)
  mPaint.setStyle(Paint.Style.STROKE)
  mCanvas.drawCircle(150, 150, 100, mPaint);
  mPaint.setColor(0xFF9C9A9D)
  mPaint.setStyle(Paint.Style.FILL)
  mCanvas.drawCircle(150, 150, 90, mPaint);
end)
tv4.background=myLuaDrawable2
myLuaDrawable3=LuaDrawable(function(mCanvas,mPaint,mDrawable)
  mPaint.setColor(0xFF434542)
  mPaint.setAntiAlias(true)
  mPaint.setStrokeWidth(20)
  mPaint.setStyle(Paint.Style.FILL)
  mCanvas.drawCircle(225, 225, 50, mPaint);
end)
tv5.background=myLuaDrawable3
io.open(this.luaDir.."/sj.lua","w+"):write(""):close()]]):close()进入子页面("共用")
end
function 指南针()
io.open(this.luaDir.."/sub/1552308105/sj.lua","w+"):write([[
w=activity.getWidth()
h=activity.getHeight()
指南针={
  LinearLayout;
  orientation="vertical";
  layout_width="fill";
  layout_height="fill";
  id="coe",
  gravity="center";
  {
    TextView;
    id="dir";
    layout_width="fill";
    textColor="#0090FF";
    layout_height="7%h";
    textSize="25dp";
    gravity="center";
    text="南";
  };
  {
    ImageView,
    src="http://shp.qpic.cn/collector/2530648358/c9cfebe3-a191-49f3-80da-3675291ec297/0",
  },
  {
    LinearLayout;
    id="cors";
    orientation="vertical";
    layout_width="75%w";
    gravity="center";
    layout_height="75%w";
  },
  {
    LinearLayout,
    id="xsj",
    layout_width=0.6*w+48,
    layout_height=0.6*w+48,
    layout_marginTop=-(0.675*w+24),
    gravity="center",
    {
      ImageView,
      layout_width=30,
      layout_height=24,
      layout_gravity="top",
      ColorFilter=0xFF99ADC5,
      src="http://shp.qpic.cn/collector/2530648358/c9cfebe3-a191-49f3-80da-3675291ec297/0",
    },
  },
  {
    LinearLayout;
    layout_marginTop=-(0.6*w+24),
    layout_gravity="center";
    orientation="vertical";
    id="cor";
    layout_width="60%w";
    gravity="center",
    layout_height="60%w",
    {
      LinearLayout,
      id="kd",
      gravity="center",
      layout_width=0.6*w-40,
      layout_height=0.6*w-40,
      {
        LinearLayout,
        gravity="center",
        layout_gravity="center",
        orientation="vertical",
        {
          TextView,
          id="北",
          text="N",
          textSize="20dp",
          textColor=0xFF99ADC5,
        },
        {
          LinearLayout,
          orientation="horizontal",
          {
            LinearLayout,
            paddingRight=0.35*w,
            paddingTop=0.14*w,
            {
              TextView,
              id="西",
              text="W",
              gravity="center",
              textSize="20dp",
              layout_width="20dp",
              layout_height="20dp",
              textColor=0xFF99ADC5,
            },
          },
          {
            LinearLayout,
            paddingTop=0.14*w,
            {
              TextView,
              id="东",
              text="E",
              textSize="20dp",
              gravity="center",
              layout_width="25dp",
              layout_height="25dp",
              textColor=0xFF99ADC5,
            },
          },
        },
        {
          LinearLayout,
          paddingTop=0.14*w,
          {
            TextView,
            id="南",
            text="S",
            textSize="20dp",
            textColor=0xFF99ADC5,
          },
        }
      },
    },
  },
  {
    TextView;
    id="deg";
    layout_marginTop=-(0.04*h+0.3*w),
    textColor="0xff0088ff";
    layout_height="8%h";
    textSize="27dp";
    gravity="center";
    text="0°";
  };
};
activity.setContentView(loadlayout(指南针))
import "android.content.Context"
import "android.hardware.SensorManager"
import "android.hardware.SensorEventListener"
import "android.hardware.Sensor"
dirs=""
FPS=50
磁场=0
传感器 = activity.getSystemService(Context.SENSOR_SERVICE)
local 磁场传感器 = 传感器.getDefaultSensor(Sensor.TYPE_ORIENTATION)
传感器.registerListener(SensorEventListener({ 
  onSensorChanged=function(event) 
    磁场 = event.values[0]
  end,nil}), 磁场传感器, SensorManager.SENSOR_DELAY_NORMAL)
cors.setBackground(
LuaDrawable(
function(画布,画笔)
画笔.setColor(0xFF97ABC6)
画笔.setStyle(Paint.Style.STROKE)
画笔.setStrokeWidth(10)
画笔.setAntiAlias(true)
画笔2=Paint(画笔)
画笔2.setColor(0xff000000)
画笔2.setStyle(Paint.Style.STROKE)
画笔2.setStrokeWidth(10)
画笔2.setAntiAlias(true)
画笔3=Paint(画笔)
画笔3.setColor(0xFF747474)
画笔3.setStyle(Paint.Style.STROKE)
画笔3.setStrokeWidth(10)
画笔3.setAntiAlias(true)
画布.translate(画布.getWidth()/2,画布.getWidth()/2)
for i=0,900 do
  if i<=245 then
    画布.drawLine(0,0.375*w-4, 0,0.375*w, 画笔)
  elseif i<280 or (i>320 and i<565) then
    画布.drawLine(0,0.375*w-4, 0,0.375*w, 画笔2)
  elseif i>=565 and i<=600 then
    画布.drawLine(0,0.375*w-3, 0,0.375*w-1, 画笔3)
  end 
  画布.rotate(0.5,0,0)
end
end))
cor.setBackground(
LuaDrawable(
function(画布,画笔)
  画笔.setColor(0xFF747474)
  画笔.setStyle(Paint.Style.STROKE)
  画笔.setDither(true)
  画笔.setStrokeWidth(10)
  画笔.setAntiAlias(true)
  画布.translate(画布.getWidth()/2,画布.getWidth()/2)
  for i=0,900 do
    if i<=690 then
      画布.drawLine(0,0.3*w-3, 0,0.3*w-1, 画笔)
    end
  画布.rotate(0.5,0,0)
  end
end))
kd.setBackground(
LuaDrawable(
function(画布,画笔)
  画笔.setColor(0xFF99ADC5)
  画笔.setStyle(Paint.Style.STROKE)
  画笔.setDither(true)
  画笔.setStrokeWidth(3)
  画笔.setAntiAlias(true)
  画笔2=Paint(画笔)
  画笔2.setDither(true)
  画笔2.setColor(0xff000000)
  画笔2.setStyle(Paint.Style.STROKE)
  画笔2.setStrokeWidth(6.2)
  画笔2.setAntiAlias(true)
  画笔3=Paint(画笔)
  画笔3.setDither(true)
  画笔3.setAntiAlias(true)
  画笔3.setColor(0xff000000)
  画笔3.setStyle(Paint.Style.FILL)
  画笔3.setTextSize(15/360*w)
  画笔3.setStrokeWidth(2)
  画布.translate(画布.getWidth()/2,画布.getWidth()/2)
  count=180
  for i=0,180 do
    if i%45==0 then
      画布.drawLine(0,0.3*w-20,0,0.3*w-40,画笔)
    elseif i%15==0 then
      角度=i*2+180
      if 360-角度<0 then
        角度=角度-360
      end
      画布.drawText(tostring(角度),-30,0.3*w-60,画笔3)
      画布.drawLine(0,0.3*w-20,0,0.3*w-40,画笔2)
    else
      画布.drawLine(0,0.3*w-20,0,0.3*w-40,画笔2)
    end
  画布.rotate(360/count)
  end
end))
cors.setRotation(30)
cor.setRotation(188)
东.setRotation(90)
西.setRotation(-90)
南.setRotation(180)
kd.setRotation(-188)
tick=Ticker()
tick.Period=1000/FPS
tick.onTick=function()
  if 磁场>165 and 磁场<195 then
    dirs="南"
  elseif 磁场>195 and 磁场<255 then
    dirs="西南"
  elseif 磁场>255 and 磁场<285 then
    dirs="西"
  elseif 磁场>285 and 磁场<345 then
    dirs="西北"
  elseif 磁场>345 or 磁场<15 then
    dirs="北"
  elseif 磁场>15 and 磁场<75 then
    dirs="东北"
  elseif 磁场>75 and 磁场<105 then
    dirs="东"
  elseif 磁场>105 and 磁场<165 then
    dirs="东南"
  end
  dir.setText(dirs)
  cor.setRotation(360-磁场+188)
  xsj.setRotation(360-磁场)
  deg.setText(tostring(tointeger(磁场).."°"))
end
tick.start()
function onDestroy()
  tick.stop()
  传感器.unregisterListener(Listener);
end
function onTouchEvent(event)
  ac=event.action
  if ac==2 or ac==0 then
    x=event.X
    y=event.Y
    coe.setRotationX((activity.getHeight()-y)/30)
    coe.setRotationY(x/30)
  elseif ac==1 then
    coe.setRotationX(0)
    coe.setRotationY(0)
  end
end
io.open(this.luaDir.."/sj.lua","w+"):write(""):close()]]):close()进入子页面("共用")
end
function xy2(str)
  val=""进=0
  for i=0,#str-1 do
    dg=str:sub(#str-i,#str-i)
    if dg*2+进<10 then
      val=tostring(tointeger(dg*2+进))..val
      进=0
     else
      if i~=#str-1 then
        val=tostring(tointeger(dg*2+进)):sub(2,2)..val
       else
        val=tostring(tointeger(dg*2+进))..val
      end
      进=tostring(tointeger(dg*2+进)):sub(1,1)
    end
  end
  return val
end
function c2(str)
  val="" 进=0
  for i=1,#str do
    dg=str:sub(i,i)+进
    if dg%2==1 then
      val=val..tointeger((dg-1)/2)
      进=10
     else
      val=val..tointeger(dg/2)
      进=0
    end
  end
  for i=1,#val do
    if val:sub(i,i)~="0" then
      val=val:sub(i,#val)
      break
    end
  end
  return val
end
function Bin2Oct(str)
  if #str<3 then
    for i=1,3-#str do
      str="0"..str
    end
   elseif #str%3~=0 then
    for i=1,3-#str%3 do
      str="0"..str
    end
  end
  octv=""
  for i=1,#str/3 do
    octv=octv..tointeger(str:sub(i*3-2,i*3-2)*4+str:sub(i*3-1,i*3-1)*2+str:sub(i*3,i*3))
  end
  return octv
end
function Bin2Dec(str)
  decv="0"
  for i=1,#str do
    if str:sub(i,i)=="1" then
      decv=xy2(decv)
      dec="" 进=0
      for i=0,#decv-1 do
        dg=decv:sub(#decv-i,#decv-i)
        if i==0 then
          if dg+1+进<10 then
            dec=tostring(tointeger(dg+1+进))..dec
            进=0
           else
            if i~=#decv-1 then
              dec=tostring(tointeger(dg+1+进)):sub(2,2)..dec
             else
              dec=tostring(tointeger(dg+1+进))..dec
            end
            进=tostring(tointeger(dg+1+进)):sub(1,1)
          end
         else
          if dg+进<10 then
            dec=tostring(tointeger(dg+进))..dec
            进=0
           else
            if i~=#decv-1 then
              dec=tostring(tointeger(dg+进)):sub(2,2)..dec
             else
              dec=tostring(tointeger(dg+进))..dec
            end
            进=tostring(tointeger(dg+进)):sub(1,1)
          end
        end
      end
      decv=dec
     else
      decv=xy2(decv)
    end
  end
  return decv
end
function Bin2Hex(str)
  if #str<4 then
    for i=1,4-#str do
      str="0"..str
    end
   elseif #str%4~=0 then
    for i=1,4-#str%4 do
      str="0"..str
    end
  end
  hexv=""
  for i=1,#str/4 do
    hexv=hexv..tostring(tointeger(str:sub(i*4-3,i*4-3)*8+str:sub(i*4-2,i*4-2)*4+str:sub(i*4-1,i*4-1)*2+str:sub(i*4,i*4))):gsub("10","A"):gsub("11","B"):gsub("12","C"):gsub("13","D"):gsub("14","E"):gsub("15","F")
  end
  return hexv
end
function Oct2Bin(str)
  binv=tostring(str):gsub("0","000"):gsub("1","001"):gsub("2","010"):gsub("3","011"):gsub("4","100"):gsub("5","101"):gsub("6","110"):gsub("7","111")
  if binv:find"1" then
    if binv:match("1(.+)")~=nil then
      return "1"..binv:match("1(.+)")
    else
      return "1"
    end
   else
    return "0"
  end
end
function Oct2Dec(str)
  return Bin2Dec(Oct2Bin(str))
end
function Oct2Hex(str)
  return Bin2Hex(Oct2Bin(str))
end
function Dec2Bin(str)
  binv=""
  for i=1,#str+1 do
    if i==#str+1 then
      str="0" binv="0"
    elseif str:sub(i,i)~="0" then
      str=str:sub(i,#str)
      break
    end
  end
  while str>"0" do
    if str:sub(#str,#str)%2==0 then
      binv="0"..binv
     else
      binv="1"..binv
    end
    str=c2(str)
  end
  return binv
end
function Dec2Oct(str)
  return Bin2Oct(Dec2Bin(str))
end
function Dec2Hex(str)
  return Bin2Hex(Dec2Bin(str))
end
function Hex2Bin(str)
  binv=string.upper(str):gsub("0","0000"):gsub("1","0001"):gsub("2","0010"):gsub("3","0011"):gsub("4","0100"):gsub("5","0101"):gsub("6","0110"):gsub("7","0111"):gsub("8","1000"):gsub("9","1001"):gsub("A","1010"):gsub("B","1011"):gsub("C","1100"):gsub("D","1101"):gsub("E","1110"):gsub("F","1111")
  if binv:find"1" then
    if binv:match("1(.+)")~=nil then
      return "1"..binv:match("1(.+)")
    else
      return "1"
    end
   else
    return "0"
  end
end
function Hex2Oct(str)
  return Bin2Oct(Hex2Bin(str))
end
function Hex2Dec(str)
  return Bin2Dec(Hex2Bin(str))
end
function 取色器()
bitmap=nil movex=0 movey=0 tpkw=(312/32)*geth(toolbar) tpkh=(h-getStatusBarHeight()-(294/32)*geth(toolbar))
import'com.flask.colorpicker.*'
import'com.flask.colorpicker.slider.*'
if luajava.bindClass("android.os.Build").VERSION.SDK_INT>=21 then activity.setTheme(android.R.style.Theme_Material_Light)else activity.setTheme(android.R.style.Theme_Holo_Light)end
取色器布局={
  LinearLayout,
  orientation="vertical",
  {
    LinearLayout,
    elevation="5dp",
    layout_width=w,
    orientation="vertical",
    backgroundColor=0xFF9AAEC7,
    layout_height=86/32*geth(toolbar)+getStatusBarHeight(),
    {
      LinearLayout,
      layout_marginTop=getStatusBarHeight(),
      orientation="horizontal",
      layout_width=w,
      layout_height="32dp",
      {
        ImageView,
        padding="15dp",
        layout_width="48dp",
        layout_gravity="center",
        layout_height="48dp",
        src="http://shp.qpic.cn/collector/2530648358/6ce8ce2c-f0ac-4c11-b6c1-2c7daf86ac60/0",
        ColorFilter=0xffffffff,
        onClick=function()qsq.dismiss()end,
      },
      {
        LinearLayout,
        layout_marginLeft="12dp",
        layout_height="32dp",
        {
          TextView,
          layout_gravity="center",
          textColor=0xffffffff,
          text="取色器",
        },
      },
    },
    {
      LinearLayout,
      layout_marginLeft="14dp",
      layout_height="54dp",
      layout_width=w,
      {
        LinearLayout,
        layout_gravity="center",
        orientation="horizontal",
        id="huatk",
        {
          FrameLayout,
          {
            CardView,
            id="huat",
            elevation=0,
            cardBackgroundColor=0xFFB6C3D3,
          },
          {
            LinearLayout,
            {
              LinearLayout,
              layout_gravity="center",
              onClick=function()pagev.showPage(0)end,
              {
                TextView,
                id="tpqs",
                padding="6dp",
                text="图片取色",
                paddingLeft="8dp",
                paddingRight="8dp",
              },
            },
            {
              LinearLayout,
              layout_gravity="center",
              onClick=function()pagev.showPage(1)end,
            {
              TextView,
              id="tsb",
              padding="6dp",
              text="调色板",
              paddingLeft="8dp",
              paddingRight="8dp",
              },
            },
          },
        },
      },
    },
  },
  {
    PageView,
    backgroundColor=0xffffffff,
    layout_height="fill",
    layout_width=w,
    id="pagev",
    pages={
      {
        LinearLayout,
        orientation="vertical",
        {
          LinearLayout,
          layout_width=w,
          orientation="horizontal",
          paddingTop="16dp",
          paddingBottom="16dp",
          {
            LinearLayout,
            layout_width=w,
            layout_height="48dp",
            gravity="right",
            {
              LinearLayout,
              layout_weight="1",
              paddingLeft="16dp",
              paddingRight="8dp",
              layout_gravity="center",
              {
                CardView,
                id="ysyl",
                Radius="5dp",
                layout_width="fill",
                layout_height="38dp",
                CardBackgroundColor=0xFF9AAEC7,
               {
                  TextView,
                  id="ysbm",
                  text="#0",
                  textSize="17sp",
                  layout_gravity="center",
                  textColor=0xffffffff,
                },
              },
            },
            {
              LinearLayout,
              paddingRight="8dp",
              layout_gravity="center",
              {
                CardView,
                radius="5dp",
                layout_width="87.5dp",
                layout_height="38dp",
                layout_marginLeft="8dp",
                layout_marginRight="8dp",
                CardBackgroundColor=0xFF9AAEC7,
                {
                  TextView,
                  id="fzys",
                  text="复制",
                  gravity="center",
                  layout_width="fill",
                  layout_height="fill",
                  textColor=0xffffffff,
                  onClick=function()
                    if bitmap then
                      rgba=argb0x
                      if #argb0x<8 then
                        for i=1,8-#argb0x do
                          rgba="0"..rgba
                        end
                      end
                      rgba="rgba("..Hex2Dec(rgba:sub(3,4))..","..Hex2Dec(rgba:sub(5,6))..","..Hex2Dec(rgba:sub(7,8))..","..Hex2Dec(rgba:sub(1,2))..")"
                      ysbmwb={"#"..string.upper(argb0x),"0x"..string.upper(argb0x),mColor,rgba}
                      item={
                        ListView,
                        id="lb",
                        layout_width="fill",
                        items=ysbmwb,
                      }
                      圆角对话框()
                      .设置圆角("5dp")
                      .添加布局(item)
                      .显示(function()
                        lb.setOnItemClickListener(AdapterView.OnItemClickListener{
                        onItemClick=function(parent, v, pos,id)
                          pop.dismiss()
                          复制文本(ysbmwb[id])
                        end})
                      end)
                    end
                  end,
                },
              },
            },
            {
              CardView,
              radius="5dp",
              layout_width="87.5dp",
              layout_height="38dp",
              layout_marginRight="16dp",
              layout_gravity="center",
              CardBackgroundColor=0xFF68AFE5,
              {
                TextView,
                id="xztp",
                text="选择图片",
                layout_width="fill",
                layout_height="fill",
                gravity="center",
                textColor=0xffffffff,
                onClick=function()
                  import "android.content.Intent"
                  import "android.provider.MediaStore"
                  import "android.graphics.BitmapFactory"
                  intent= Intent(Intent.ACTION_PICK)
                  intent.setType("image/*")
                  this.startActivityForResult(intent,1)
                  function onActivityResult(requestCode,resultCode,intent)
                    if intent then
                      cursor =activity.getContentResolver ().query(intent.getData(), nil, nil, nil, nil)
                      cursor.moveToFirst()
                      idx = cursor.getColumnIndex(MediaStore.Images.ImageColumns.DATA)
                      fileSrc = cursor.getString(idx)
                      bitmap =BitmapFactory.decodeFile(fileSrc)
                      qstp.setImageBitmap(bitmap)
                      tpw=bitmap.getWidth() tph=bitmap.getHeight()
                      if tpw<tpkw and tph<tpkh then
                        if bitmap.getWidth()>=bitmap.getHeight() then
                          while true do
                            if tpw<tpkw then
                              tpw=tpw*1.000003
                              tph=tph*1.000003
                            else
                              break
                            end
                          end
                        else
                          while true do
                            if tph<tpkh then
                              tpw=tpw*1.000003
                              tph=tph*1.000003
                            else
                              break
                            end
                          end
                        end
                      else
                        while true do
                          if tpw>tpkw or tph>tpkh then
                            tpw=tpw*0.999997
                            tph=tph*0.999997
                          else
                            break
                          end
                        end
                      end
                    end
                  end
                end,
              },
            },
          },
        },
        {
          FrameLayout,
          {
            LinearLayout,
            layout_width=w,
            layout_height=h-getStatusBarHeight()-(246/32)*geth(toolbar),
            {
              ImageView,
              id="qstp",
              padding="24dp",
              layout_width="fill",
              layout_height="fill",
            },
          },
          {
            LinearLayout,
            id="dv",
            layout_width="80dp",
            layout_height="80dp",
            layout_gravity="center",
          },
        },
        {
          LinearLayout,
          padding="16dp",
          layout_width=w,
          layout_height="fill",
          orientation="horizontal",
          {
            ImageButton,
            id="dvzy",
            rotation=180,
            layout_height="48dp",
            layout_width=(w-geth(toolbar))/4,
            colorFilter=0xFF6D6D6D,
            src="http://shp.qpic.cn/collector/2530648358/df4540cf-e4b0-4b2a-a660-3c6853451b3d/0",
          },
          {
            ImageButton,
            id="dvyy",
            layout_height="48dp",
            colorFilter=0xFF6D6D6D,
            layout_width=(w-geth(toolbar))/4,
            src="http://shp.qpic.cn/collector/2530648358/df4540cf-e4b0-4b2a-a660-3c6853451b3d/0",
          },
          {
            ImageButton,
            id="dvsy",
            rotation=180,
            layout_height="48dp",
            colorFilter=0xFF6D6D6D,
            layout_width=(w-geth(toolbar))/4,
            src="http://shp.qpic.cn/collector/2530648358/fa28a853-498e-4c3b-b28e-cad40da528ba/0",
          },
          {
            ImageButton,
            id="dvxy",
            layout_height="48dp",
            colorFilter=0xFF6D6D6D,
            layout_width=(w-geth(toolbar))/4,
            src="http://shp.qpic.cn/collector/2530648358/fa28a853-498e-4c3b-b28e-cad40da528ba/0",
          },
        },
      },
      {
        LinearLayout,
        id="tsbym",
        padding="32dp",
        orientation="vertical",
        gravity="center",
        {
          ColorPickerView,
          id="cpv",
        },
        {
          LightnessSlider,
          id="cpv1",
          layout_height="48dp",
        },
        {
          AlphaSlider,
          id="cpv2",
          layout_height="48dp",
        },
        {
          TextView,
          id="cpvys",
          textSize="17sp",
          Typeface=Typeface.DEFAULT_BOLD,
        },
        {
          TextView,
          id="fzcpvys",
          text="复制",
          padding="8dp",
          paddingLeft="16dp",
          paddingRight="16dp",
          layout_gravity="right",
          textColor=0xFF68AFE5,
          onClick=function()复制文本(cpvys.text)提示"复制完成"end,
        },
      },
    },
  },
}
qsq=PopupWindow(loadlayout(取色器布局))
qsq.setFocusable(true)
qsq.setWidth(w)
qsq.setHeight(h)
qsq.setTouchable(true)
qsq.setOutsideTouchable(true)
qsq.showAtLocation(fltBtn.Parent,0,0,0)
波纹(fzcpvys,0xFFF0F0F0)波纹(xztp,0xff99c9ed)波纹(fzys,0xffbbc8d9)
setw(huat,getw(tpqs))seth(huat,geth(tpqs))huat.setRadius(geth(tpqs)/2)
local kuan=getw(tpqs)
pagev.setOnPageChangeListener(PageView.OnPageChangeListener{
  onPageScrolled=function(a,b,c)
    huat.setX(kuan*(b+a))
    if a~=1 then
      setw(huat,getw(tpqs)-b*(getw(tpqs)-getw(tsb)))
    end
    if c==0then
      if a==0then
        tpqs.setTextColor(0xFFFFFFFF)
        tsb.setTextColor(0xFFDEDEDE)
       else
        tpqs.setTextColor(0xFFDEDEDE)
        tsb.setTextColor(0xFFFFFFFF)
      end
    end
  end})
dv.setBackground(LuaDrawable(function(mCanvas,mPaint,mDrawable)
  mPaint.setAntiAlias(true)
  mPaint.setStyle(Paint.Style.STROKE)
  mPaint.setStrokeWidth(10*bl)
  mPaint.setColor(0xFFADADAD)
  mCanvas.drawCircle((40/32)*geth(toolbar),(40/32)*geth(toolbar),(40/32)*geth(toolbar)-5*bl,mPaint);
  mPaint.setStrokeWidth(15*bl)
  mPaint.setColor(0xFF888888)
  mCanvas.drawCircle((40/32)*geth(toolbar),(40/32)*geth(toolbar),(40/32)*geth(toolbar)-17.5*bl,mPaint);
  mPaint.setStrokeWidth(3*bl)
  mPaint.setColor(0xFFA5A5A5)
  mCanvas.drawLine((40/32)*geth(toolbar),25*bl,(40/32)*geth(toolbar),(80/32)*geth(toolbar)-25*bl,mPaint);
  mCanvas.drawLine(25*bl,(40/32)*geth(toolbar),(80/32)*geth(toolbar)-25*bl,(40/32)*geth(toolbar),mPaint);
end))
function argb0x2argb(argb0X)
  argbs=((argb0X:sub(1,1)):gsub("a","10"):gsub("b","11"):gsub("c","12"):gsub("d","13"):gsub("e","14"):gsub("f",15))*15
  argbg=(argb0X:sub(2,2)):gsub("a","10"):gsub("b","11"):gsub("c","12"):gsub("d","13"):gsub("e","14"):gsub("f",15)+argbs/15
  argbz=argbs+argbg
  return tointeger(argbz)
end
function 获取颜色()
  if bitmap then
    dvx=0.5*bitmap.getWidth()+(movex/tpw)*bitmap.getWidth() dvy=0.5*bitmap.getHeight()+(movey/tph)*bitmap.getHeight()
    if dvx<0 or dvx>bitmap.getWidth() or dvy<0 or dvy>bitmap.getHeight() then
      ysyl.setCardBackgroundColor(0xffffffff)
      ysbm.setText("#FFFFFFFF")
      ysbm.setTextColor(0xff000000)
      mColor="-1"
      argb0x="ffffffff"
      argb=("0x"..argb0x)
    else
      mColor = bitmap.getPixel(dvx,dvy)
      argb0x=Integer.toHexString(mColor)
      argb=("0x"..(argb0x))
      ysyl.setCardBackgroundColor(int(argb))
      ysbm.setText("#"..string.upper(argb0x))
      if mColor>-8388608 then
        ysbm.setTextColor(0xff000000)
      else
        ysbm.setTextColor(0xffffffff)
      end
    end
  end
end
qstp.onTouch=function(v,e)
  movex=e.getX()-0.5*w movey=e.getY()-0.5*(h-getStatusBarHeight()-(246/32)*geth(toolbar))
  dv.setTranslationX(movex)dv.setTranslationY(movey)
  获取颜色()
  return true
end
local zyy=0.06*bl local sxy=0.06*bl
dvzy.onTouch=function()
  movex=movex-zyy
  dv.setTranslationX(movex)dv.setTranslationY(movey)
  获取颜色()
  return true
end
dvyy.onTouch=function()
  movex=movex+zyy
  dv.setTranslationX(movex)dv.setTranslationY(movey)
  获取颜色()
  return true
end
dvsy.onTouch=function()
  movey=movey-sxy
  dv.setTranslationX(movex)dv.setTranslationY(movey)
  获取颜色()
  return true
end
dvxy.onTouch=function()
  movey=movey+sxy
  dv.setTranslationX(movex)dv.setTranslationY(movey)
  获取颜色()
  return true
end
cpv.setLightnessSlider(cpv1)cpv.setAlphaSlider(cpv2)cpv.setDensity(12)cpv.setColor(0xFFFFFFFF,true)
cpv2.setColor(-1)
cpv.onTouch=function()
cpv1.setColor(cpv.getSelectedColor())
cpv2.setColor(cpv.getSelectedColor())
cpvys.setText("#"..Integer.toHexString(cpv.getSelectedColor()))
end
cpv1.onTouch=function()
cpv2.setColor(cpv.getSelectedColor())
cpvys.setText("#"..Integer.toHexString(cpv.getSelectedColor()))
end
cpv2.onTouch=function()
cpvys.setText("#"..Integer.toHexString(cpv.getSelectedColor()))
end
task(500,function()
  if yj=="开"then
    if luajava.bindClass("android.os.Build").VERSION.SDK_INT>=21 then activity.setTheme(android.R.style.Theme_Material)else activity.setTheme(android.R.style.Theme_Holo)end
  else
    if luajava.bindClass("android.os.Build").VERSION.SDK_INT>=21 then activity.setTheme(android.R.style.Theme_Material_Light)else activity.setTheme(android.R.style.Theme_Holo_Light)end
  end
end)
end
function ms2time(ms)
  date=tostring(Date(ms))
  year=date:sub(#date-4,#date)
  month=(date:sub(5,7)):gsub("Jan","01"):gsub("Feb","02"):gsub("Mar","03"):gsub("Apr","04"):gsub("May","05"):gsub("Jun","06"):gsub("Jul","07"):gsub("Aug","08"):gsub("Sep","09"):gsub("Oct","10"):gsub("Nov","11"):gsub("Dec","12")
  day=date:sub(9,10)
  time=date:sub(12,19)
  return (year.."-"..month.."-"..day.." "..time)
end
function 快递查询Lite()
kdxqbj=nil
快递查询Lite布局={
  LinearLayout,
  layout_height=h,
  orientation="vertical",
  backgroundColor=0xFFFFFFFF,
  {
    LinearLayout,
    padding="24dp",
    layout_width=w,
    elevation="2dp",
    orientation="vertical",
    layout_marginTop="-24dp",
    backgroundColor=0xFF9AAEC7,
    {
      LinearLayout,
      layout_height="32dp",
      {
        TextView,
        text="快递查询Lite",
        textColor=0xffffffff,
        layout_gravity="center",
        Typeface=Typeface.DEFAULT_BOLD,
      },
    },
    {
      CardView,
      id="kddhk",
      radius="4dp",
      elevation=0,
      Focusable=true,
      layout_width="fill",
      layout_height="48dp",
      FocusableInTouchMode=true,
      CardBackgroundColor=0xffffffff,
      {
        LinearLayout,
        orientation="horizontal",
        {
          FrameLayout,
          layout_weight="1",
          layout_gravity="center",
          {
            LinearLayout,
            layout_width=w,
          },
          {
            EditText,
            id="kddh",
            textSize="14sp",
            singleLine=true,
            layout_width="fill",
            paddingLeft="16dp",
            hint="请输入订单号..",
            textColor=0xff000000,
            hintTextColor=0xFFB6B6B6,
            backgroundColor=0xffffffff,
          },
        },
        {
          ImageView,
          id="cxddh",
          padding="11dp",
          layout_width="48dp",
          layout_height="48dp",
          layout_gravity="center",
          ColorFilter=0xFFB6B6B6,
          src="http://shp.qpic.cn/collector/2530648358/4801ab8c-3258-4d1b-aad2-40740e2456f8/0",
          onClick=function()
            if kddh.text~=""then
              cxkdjl.setVisibility(4)
              jzkdxqbm.loadUrl("https://sp0.baidu.com/9_Q4sjW91Qh3otqbppnN2DJv/pae/channel/data/asyncqury?cb=jQuery110204759692032715892_1499865778178&appid=4001&com=&nu="..kddh.text)
            end
          end,
        },
      },
    },
  },
  {
    FrameLayout,
    id="wlxqlb",
    {
      ScrollView,
      id="kdxq",
      layout_height="fill",
      VerticalScrollBarEnabled=false,
      {
        LinearLayout,
        layout_wodth=w,
        orientation="vertical",
        backgroundColor=0xFFF3F5F4,
        {
          LinearLayout,
          layout_width=w,
          padding="24dp",
          orientation="vertical",
          backgroundColor=0xffffffff,
          {
            TextView,
            id="zxkdwz",
            linksClickable="true",
            textColor=0xFF60ACE5,
          },
          {
            LinearLayout,
            layout_width="fill",
            orientation="horizontal",
            {
              TextView,
              id="yqs",
              visibility=4,
              text="已签收",
              layout_weight="1",
              textColor=0xFF60ACE5,
              layout_marginTop="12.5dp",
              Typeface=Typeface.DEFAULT_BOLD,
            },
            {
              TextView,
              id="zxkdsj",
              textColor=0xFF707070,
              layout_marginTop="12.5dp",
              Typeface=Typeface.MONOSPACE,
            },
          },
        },
        {
          LinearLayout,
          id="wlxqbj",
          layout_width=w,
        },
      },
    },
    {
      LinearLayout,
      id="cxkdjl",
      layout_width=w,
      visibility=4,
      orientation="horizontal",
      background="#FFF5F5F5",
      {
        TextView,
        id="sckddh",
        layout_weight="1",
        textColor=0xff000000,
        layout_gravity="center",
        layout_marginLeft="24dp",
        text=io.open("/data/data/"..activity.getPackageName().."/上次查询快递单号"):read("*a"),
      },
      {
        TextView,
        id="cxsckd",
        padding="24dp",
        text="查询上次快递",
        textColor=0xFF60ACE5,
        layout_gravity="center",
        onClick=function()
          cxkdjl.setVisibility(4)
          jzkdxqbm.loadUrl("https://sp0.baidu.com/9_Q4sjW91Qh3otqbppnN2DJv/pae/channel/data/asyncqury?cb=jQuery110204759692032715892_1499865778178&appid=4001&com=&nu="..io.open("/data/data/"..activity.getPackageName().."/上次查询快递单号"):read("*a"))
        end,
      },
    },
    {
      LuaWebView,
      visibility=4,
      id="jzkdxqbm",
    },
  },
}
快递详情布局=[[{
  LinearLayout,
  layout_width=w,
  padding="24dp",
  orientation="vertical",
  backgroundColor=0xffffffff,
  layout_marginTop="3dp",
  {
    TextView,
    text="快递位置",
    textColor=0xff000000,
  },
  {
    LinearLayout,
    layout_width="fill",
    orientation="horizontal",
    {
      TextView,
      layout_weight="1",
      layout_marginTop="12.5dp",
    },
    {
      TextView,
      text="快递时间",
      textColor=0xFF707070,
      layout_marginTop="12.5dp",
      Typeface=Typeface.MONOSPACE,
    },
  },
},]]
kdcxLite=PopupWindow(loadlayout(快递查询Lite布局))
kdcxLite.setFocusable(true)
kdcxLite.setWidth(w)
kdcxLite.setHeight(h)
kdcxLite.setTouchable(true)
kdcxLite.setOutsideTouchable(true)
kdcxLite.showAtLocation(fltBtn.Parent,0,0,0)
if io.open("/data/data/"..activity.getPackageName().."/上次查询快递单号"):read("*a")~=""then
  cxkdjl.setVisibility(0)
end
jzkdxqbm.setWebViewClient{
  onPageFinished=function(view,url)
    jzkdxqbm.saveWebArchive("/data/data/"..activity.getPackageName().."/保存快递详情编码")
    task(100,function()
      解析快递编码(io.open("/data/data/"..activity.getPackageName().."/保存快递详情编码"):read("*a"))
    end)
  end}
function 解析快递编码(kdxqbm)
  if kdxqbj then
  kdxqbj.setVisibility(View.GONE)
  end
  yqs.setVisibility(4)
  zxkdwz.text=""zxkdsj.text=""
  if kdxqbm:find"msg"then
    JSON=import"cjson"
    kdxqbm='{"msg":'..kdxqbm:match('{"msg":(.-)</pre>')
    kdxqbm=kdxqbm:sub(1,#kdxqbm-1)
    kdxqb=""
    for i=1,#kdxqbm do
      xdwb=kdxqbm:sub(i,i)
      if xdwb=="("then
        kdxqb=kdxqb.."（"
      elseif xdwb==")"then
        kdxqb=kdxqb.."）"
      elseif string.byte(xdwb,1)==91 or string.byte(xdwb,1)==92 or('1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ?{}]",:_-/. '):find(xdwb)then
        kdxqb=kdxqb..xdwb
      end
    end
    kdxqbm="["..kdxqb.."]"
    json_o=JSON.decode(kdxqbm)
    for i,v in ipairs(json_o) do
      cxjg=v.msg
    end
    if cxjg:find"未查到"then
      提示"暂无该快递信息"
    elseif cxjg:find"不是合法"then
      提示"查询错误。"
    elseif cxjg==""then
      if kddh.text~=""then
        io.open("/data/data/"..activity.getPackageName().."/上次查询快递单号","w+"):write(kddh.text):close()
      end
      if not kdxqbm:find'","_source_com"'then
        kdxqbm=kdxqbm:match('"context":(.-),"_source_com"')
      else
        kdxqbm=kdxqbm:match('"context":(.-),"send_time"')
      end
      kdxqbm=kdxqbm:sub(2,#kdxqbm-1)
      json_str="["..kdxqbm.."]"
      json_o=JSON.decode(json_str)
      for i,v in ipairs(json_o) do
        if i==1 then
          zxkdwz.setText(v.desc)
          zxkdsj.setText(ms2time(v.time*1000))
          if v.desc:find"签收"then yqs.setVisibility(0)end
        elseif i==2 then
          快递详情局=快递详情布局:gsub("快递位置",v.desc):gsub("快递时间",ms2time(v.time*1000))
          快递详情布=快递详情局
        else
          快递详情局=快递详情布局:gsub("快递位置",v.desc):gsub("快递时间",ms2time(v.time*1000))
          快递详情布=快递详情布.."\n"..快递详情局
        end
      end
      快递详情布局bj='{LinearLayout,id="kdxqbj",orientation="vertical",'..快递详情布.."}"
      b=loadstring("return "..快递详情布局bj)快递详情布局bj=b()
      wlxqbj.addView(loadlayout(快递详情布局bj))
    end
  else 提示"获取快递信息失败，请稍后再试"
  end
end
seth(wlxqlb,h-getStatusBarHeight()-geth(toolbar)-1.5*geth(kddhk))
颜色(kddh,0xFF60ACE5)
波纹(cxsckd,0xFFD9D9D9)波纹(cxddh,0xFFE2E2E2)
import "android.text.method.DigitsKeyListener"
kddh.setKeyListener(DigitsKeyListener.getInstance("0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"))
end
function 图片转链接()
圆角对话框()
.设置标题("图片转链接")
.设置消息("图片转链接，可以帮你把本地图片上传至腾讯服务器（使用QQ收藏），您可以使用此功能免费存储图片文件，并具有高速传输的网络链接地址，我无法承诺腾讯是否会泄露您的隐私信息，且图片链接长期有效。")
.设置消极按钮("取消")
.设置中立按钮("打开QQ",function()打开应用("com.tencent.mobileqq")end)
.设置积极按钮("查看方法",function()
  task(150,function()
    圆角对话框()
    .设置消息("将图片添加到QQ收藏（至少两张或加一些文字），保存后将该收藏发给电脑或自己的小号，点击进入后点击用浏览器打开，最后长按图片复制链接。")
    .显示()
  end)
end)
.显示()
end
function 获取当前壁纸()
  提示"获取中.."
  task(100,function()
    import "android.app.WallpaperManager"
    bztp=WallpaperManager.getInstance(this)
    bztp=bztp.getBitmap()
    存图片("/storage/emulated/0/Pictures/UTBC浏览器/"..os.date("%Y%m%d%H%M%S").."_wallpaper.png",bztp)
  end)
end
function getScreenPhysicalSize(ctx)
  import "android.util.DisplayMetrics"
  dm = DisplayMetrics();
  ctx.getWindowManager().getDefaultDisplay().getMetrics(dm);
  diagonalPixels = Math.sqrt(Math.pow(dm.widthPixels, 2) + Math.pow(dm.heightPixels, 2));
  return diagonalPixels / (160 * dm.density);
end
function 查看设备详细信息()
--print(Date(1493007016000))
设备信息="品牌:"..Build.BRAND.."\n\n设备型号:"..Build.MODEL.."\n\n主板:"..Build.BOARD.."\n\n产品型号:"..Build.DEVICE.."\n\n指纹认证:"..Build.FINGERPRINT.."\n\n出厂日期:"..ms2time(Build.TIME).."\n\n标签:"..Build.TAGS.."\n\n用户:"..Build.USER.."\n\nID:"..Build.ID.."\n\n安卓版本:"..Build.VERSION.RELEASE.."\n\nSDK版本号:"..Build.VERSION.SDK.."\n\n制造商:"..Build.MANUFACTURER.."\n\n主机:"..Build.HOST.."\n\n类型:"..Build.TYPE.."\n\n代号:"..Build.VERSION.CODENAME.."\n\nCPU架构:"..Build.CPU_ABI.."\n\n广播:"..Build.RADIO
圆角对话框()
.设置消息(设备信息)
.设置积极按钮("复制所有",function()
  复制文本(设备信息)
end)
.设置中立按钮("更多",function()
  task(150,function()
    batteryInfoIntent =activity.getApplicationContext().registerReceiver(null,IntentFilter(Intent.ACTION_BATTERY_CHANGED))
    圆角对话框()
    .设置标题("更多信息")
    .设置消息("电池电量："..batteryInfoIntent.getIntExtra("level",0).."%\n\n电池温度："..(batteryInfoIntent.getIntExtra("temperature",0)/10).."℃\n\n电池电压："..batteryInfoIntent.getIntExtra("voltage",0).."mV\n\n屏幕尺寸："..getScreenPhysicalSize(activity))
    .显示()
  end)
end)
.显示()
end
function 摩斯电码()
local dbh=h-geth(toolbar)-getStatusBarHeight()
摩斯电码布局={
  LinearLayout,
  orientation="vertical",
  backgroundColor=0xFF9AAEC7,
  {
    LinearLayout,
    layout_marginTop=getStatusBarHeight(),
    layout_width=w,
    layout_height=geth(toolbar),
    backgroundColor=0xFF9AAEC7,
    {
      TextView,
      layout_marginLeft="16dp",
      layout_gravity="center",
      textColor=0xffffffff,
      text="摩斯电码",
    },
  },
  {
    LinearLayout,
    layout_width=w,
    layout_height=dbh,
    backgroundColor=0xffffffff,
    orientation="vertical",
    {
      EditText,
      id="srwb",
      gravity="top",
      padding="16dp",
      layout_width="fill",
      layout_weight="1",
      hint="请输入需要转换成摩斯电码的文本（不支持中文）",
      hintTextColor=0xffa1a1a1,
      textColor=0xff000000,
      backgroundColor=0xffffffff,
    },
    {
      LinearLayout,
      padding="24dp",
      layout_width=w,
      backgroundColor=0xFFF5F5F5,
      orientation="horizontal",
      {
        CardView,
        layout_weight="1",
        layout_height="45dp",
        radius="22.5dp",
        layout_marginRight="12dp",
        elevation=0,
        cardBackgroundColor=0xFF9AAEC7,
        {
          TextView,
          id="hyzmw",
          text="还原至明文",
          textColor=0xffffffff,
          layout_width="fill",
          layout_height="fill",
          gravity="center",
          onClick=function()
          电码文本=""
            if srwb.text~=""then
              for i=1,#srwb.text do
                if string.byte(srwb.text,i)==46 then
                  电码文本=电码文本.."点"
                elseif string.byte(srwb.text,i)==45 then
                  电码文本=电码文本.."杠"
                else
                  电码文本=电码文本..srwb.text:sub(i,i)
                end
              end
              if 电码文本:sub(#电码文本,#电码文本)~=" " then
                电码文本=电码文本.." "
              end
              scwb.text=电码文本:sub(2,#电码文本):gsub("/"," "):gsub("杠杠杠点点点 ",":"):gsub("杠杠点点杠杠 ",","):gsub("杠点杠点杠点 ",";"):gsub("点点杠杠点点 ","?"):gsub("杠点杠点杠杠 ","!"):gsub("点点杠杠点杠 ","_"):gsub("点杠点点杠点 ",'"'):gsub("点杠杠点杠点 ","@"):gsub("点杠杠杠杠点 ","'"):gsub("点杠点杠点杠 ","."):gsub("杠点杠杠点杠 ",")"):gsub("杠点点点杠 ","="):gsub("杠杠杠杠杠 ","0"):gsub("点杠杠杠杠 ","1"):gsub("点点杠杠杠 ","2"):gsub("点点点杠杠 ","3"):gsub("点点点点杠 ","4"):gsub("点点点点点 ","5"):gsub("杠点点点点 ","6"):gsub("杠杠点点点 ","7"):gsub("杠杠杠点点 ","8"):gsub("杠杠杠杠点 ","9"):gsub("杠点杠杠点 ","("):gsub("点杠杠点 ","p"):gsub("杠杠点 ","g"):gsub("杠点杠点 ","c"):gsub("杠点点杠点 ","/"):gsub("点点杠点 ","f"):gsub("点杠点 ","r"):gsub("杠点 ","n"):gsub("杠点点点 ","b"):gsub("点点点点 ","h"):gsub("点杠点点 ","l"):gsub("杠杠点点 ","z"):gsub("杠点点 ","d"):gsub("点点点 ","s"):gsub("点点 ","i"):gsub("杠点杠杠 ","y"):gsub("点杠杠 ","w"):gsub("点杠杠杠 ","j"):gsub("杠杠杠 ","o"):gsub("杠杠 ","m"):gsub("杠杠点杠 ","q"):gsub("杠点杠 ","k"):gsub("点点点杠 ","v"):gsub("杠点点杠 ","x"):gsub("点点杠 ","u"):gsub("点杠 ","a"):gsub("点 ","e"):gsub("杠 ","t")
            else
              提示"请输入文本.."
            end
          end,
        },
      },
      {
        CardView,
        layout_marginLeft="12dp",
        layout_gravity="center",
        layout_weight="1",
        layout_height="45dp",
        radius="22.5dp",
        elevation=0,
        cardBackgroundColor=0xFF68AFE5,
        {
          TextView,
          id="zwmsdm",
          text="转为摩斯电码",
          textColor=0xffffffff,
          gravity="center",
          layout_width="fill",
          layout_height="fill",
          onClick=function()
          正常文本=""
            if srwb.text~=""then
              for i=1,#srwb.text do
                if string.byte(srwb.text,i)==46 then
                  正常文本=正常文本..".-.-.- "
                elseif string.byte(srwb.text,i)==40 then
                  正常文本=正常文本.."-.--. "
                elseif string.byte(srwb.text,i)==41 then
                  正常文本=正常文本.."-.--.- "
                else
                  正常文本=正常文本..srwb.text:sub(i,i)
                end
              end
              scwb.text=" "..string.lower(正常文本):gsub("a",".- "):gsub("b","-... "):gsub("c","-.-. "):gsub("d","-.. "):gsub("e",". "):gsub("f","..-. "):gsub("g","--. "):gsub("h",".... "):gsub("i",".. "):gsub("j",".--- "):gsub("k","-.- "):gsub("l",".-.. "):gsub("m","-- "):gsub("n","-. "):gsub("o","--- "):gsub("p",".--. "):gsub("q","--.- "):gsub("r",".-. "):gsub("s","... "):gsub("t","- "):gsub("u","..- "):gsub("v","...- "):gsub("w",".-- "):gsub("x","-..- "):gsub("y","-.-- "):gsub("z","--.. "):gsub("1",".---- "):gsub("2","..--- "):gsub("3","...-- "):gsub("4","....- "):gsub("5","..... "):gsub("6","-.... "):gsub("7","--... "):gsub("8","---.. "):gsub("9","----. "):gsub("0","----- "):gsub(":","---... "):gsub(",","--..-- "):gsub(";","-.-.-. "):gsub("?","..--.. "):gsub("=","-...- "):gsub("'",".----. "):gsub("/","-..-. "):gsub("!","-.-.-- "):gsub("_","..--.- "):gsub('"',".-..-. "):gsub("@",".--.-. ")
            else
              提示"请输入文本.."
            end
          end,
        },
      },
    },
    {
      LinearLayout,
      layout_width=w,
      orientation="vertical",
      layout_weight="1",
      {
        EditText,
        id="scwb",
        gravity="top",
        padding="16dp",
        layout_width=w,
        layout_weight="1",
        hint="内容输出..",
        hintTextColor=0xffa1a1a1,
        textColor=0xff000000,
        backgroundColor=0xffffffff,
      },
      {
        LinearLayout,
        layout_height=math.sqrt(2*(28/32*geth(toolbar)^2))-(28/32*geth(toolbar)),
      },
      {
        ImageView,
        id="fznr",
        padding="16dp",
        layout_width="56dp",
        layout_height="56dp",
        layout_gravity="right",
        src="http://shp.qpic.cn/collector/2530648358/936bf7ca-d0f1-4f81-b0d1-ddd28b7255a3/0",
        onClick=function()复制文本(scwb.text)提示"复制完成"end,
      },
    },
  },
}
msdmbj=PopupWindow(loadlayout(摩斯电码布局))
msdmbj.setFocusable(true)
msdmbj.setWidth(w)
msdmbj.setHeight(h)
msdmbj.setTouchable(true)
msdmbj.setOutsideTouchable(true)
msdmbj.showAtLocation(fltBtn.Parent,0,0,0)
波纹(fznr,0xFFE2E2E2)波纹(hyzmw,0xFF92A4BC)波纹(zwmsdm,0xFF63A5D7)
颜色(scwb,0xFF68AFE5)颜色(srwb,0xFF68AFE5)
end
function encode(data)
  local Base64=luajava.bindClass("android.util.Base64")
  return Base64.encodeToString(String(data).getBytes(),Base64.NO_WRAP);
end
function decode(data)
  local Base64=luajava.bindClass("android.util.Base64")
  return String(Base64.decode(data,Base64.DEFAULT)).toString()
end
function Base64编码转换()
local dbh=h-geth(toolbar)-getStatusBarHeight()
Base64编码转换布局={
  LinearLayout,
  orientation="vertical",
  backgroundColor=0xFF9AAEC7,
  {
    LinearLayout,
    layout_marginTop=getStatusBarHeight(),
    layout_width=w,
    layout_height=geth(toolbar),
    backgroundColor=0xFF9AAEC7,
    {
      TextView,
      layout_marginLeft="16dp",
      layout_gravity="center",
      textColor=0xffffffff,
      text="Base64编码转换",
    },
  },
  {
    LinearLayout,
    layout_width=w,
    layout_height=dbh,
    backgroundColor=0xffffffff,
    orientation="vertical",
    {
      EditText,
      id="srwb",
      gravity="top",
      padding="16dp",
      layout_width="fill",
      layout_weight="1",
      hint="请输入内容..",
      hintTextColor=0xffa1a1a1,
      textColor=0xff000000,
      backgroundColor=0xffffffff,
    },
    {
      LinearLayout,
      padding="24dp",
      layout_width=w,
      backgroundColor=0xFFF5F5F5,
      orientation="horizontal",
      {
        CardView,
        layout_weight="1",
        layout_height="45dp",
        radius="22.5dp",
        layout_marginRight="12dp",
        elevation=0,
        cardBackgroundColor=0xFF9AAEC7,
        {
          TextView,
          id="jiema",
          text="解码",
          textColor=0xffffffff,
          layout_width="fill",
          layout_height="fill",
          gravity="center",
          onClick=function()
            if srwb.text~=""then
              scwb.text=decode(srwb.text)
            else
              提示"请输入文本.."
            end
          end,
        },
      },
      {
        CardView,
        layout_marginLeft="12dp",
        layout_gravity="center",
        layout_weight="1",
        layout_height="45dp",
        radius="22.5dp",
        elevation=0,
        cardBackgroundColor=0xFF68AFE5,
        {
          TextView,
          id="bianma",
          text="编码",
          textColor=0xffffffff,
          gravity="center",
          layout_width="fill",
          layout_height="fill",
          onClick=function()
            if srwb.text~=""then
              scwb.text=encode(srwb.text)
            else
              提示"请输入文本.."
            end
          end,
        },
      },
    },
    {
      LinearLayout,
      layout_width=w,
      orientation="vertical",
      layout_weight="1",
      {
        EditText,
        id="scwb",
        gravity="top",
        padding="16dp",
        layout_width=w,
        layout_weight="1",
        hint="转换输出..",
        hintTextColor=0xffa1a1a1,
        textColor=0xff000000,
        backgroundColor=0xffffffff,
      },
      {
        LinearLayout,
        layout_height=math.sqrt(2*(28/32*geth(toolbar)^2))-(28/32*geth(toolbar)),
      },
      {
        ImageView,
        id="fzsc",
        padding="16dp",
        layout_width="56dp",
        layout_height="56dp",
        layout_gravity="right",
        src="http://shp.qpic.cn/collector/2530648358/936bf7ca-d0f1-4f81-b0d1-ddd28b7255a3/0",
        onClick=function()复制文本(scwb.text)提示"复制完成"end,
      },
    },
  },
}
base64bmzhbj=PopupWindow(loadlayout(Base64编码转换布局))
base64bmzhbj.setFocusable(true)
base64bmzhbj.setWidth(w)
base64bmzhbj.setHeight(h)
base64bmzhbj.setTouchable(true)
base64bmzhbj.setOutsideTouchable(true)
base64bmzhbj.showAtLocation(fltBtn.Parent,0,0,0)
波纹(fzsc,0xFFE2E2E2)波纹(jiema,0xFF92A4BC)波纹(bianma,0xFF63A5D7)
颜色(scwb,0xFF68AFE5)颜色(srwb,0xFF68AFE5)
end
function 随机数生成()
随机数生成布局={
  LinearLayout,
  layout_width=w,
  layout_height=h,
  orientation="vertical",
  backgroundColor=0xFF9AAEC7,
  {
    LinearLayout,
    layout_width=w,
    layout_height=geth(toolbar),
    backgroundColor=0xFF9AAEC7,
    layout_marginTop=getStatusBarHeight(),
    {
      TextView,
      layout_marginLeft="16dp",
      layout_gravity="center",
      textColor=0xffffffff,
      text="随机数生成",
    },
  },
  {
    FrameLayout,
    layout_width=w,
    layout_height="fill",
    backgroundColor=0xFFFFFFFF,
    {
      LinearLayout,
      layout_width="fill",
      layout_height="56dp",
      layout_margin="24dp",
      orientation="horizontal",
      {
        EditText,
        id="zxz",
        textSize="13sp",
        paddingLeft="8dp",
        layout_height="fill",
        paddingRight="8dp",
        inputType="number",
        hint="请输入最小值..",
        textColor=0xFF000000,
        hintTextColor=0xFF979797,
        backgroundColor=0xFFF5F5F5,
        layout_width=(w-104/32*geth(toolbar))/2,
      },
      {
        ImageView,
        padding="16dp",
        layout_height="fill",
        layout_width="56dp",
        ColorFilter=0xFF747474,
        backgroundColor=0xFFEEEEEE,
        src="http://shp.qpic.cn/collector/2530648358/46da9399-5069-47b4-b596-fdae5f4bab8f/0",
      },
      {
        EditText,
        id="zdz",
        textSize="13sp",
        layout_weight="1",
        paddingLeft="8dp",
        layout_height="fill",
        paddingRight="8dp",
        inputType="number",
        hint="请输入最大值..",
        textColor=0xFF000000,
        hintTextColor=0xFF979797,
        backgroundColor=0xFFF5F5F5,
        layout_width=(w-104/32*geth(toolbar))/2,
      },
    },
    {
      CardView,
      elevation=0,
      radius="120dp",
      layout_width="240dp",
      layout_height="240dp",
      layout_gravity="center",
      cardBackgroundColor=0xFFC2CEDC,
      {
        CardView,
        elevation=0,
        radius="100dp",
        layout_width="200dp",
        layout_height="200dp",
        layout_gravity="center",
        cardBackgroundColor=0xFF9AAEC7,
        {
          TextView,
          id="sjs",
          gravity="center",
          textSize="28sp",
          layout_gravity="center",
          textColor=0xFFFFFFFF,
          Typeface=Typeface.DEFAULT_BOLD,
        },
      },
    },
    {
      CardView,
      elevation=0,
      radius="24dp",
      layout_height="48dp",
      layout_width="240dp",
      layout_marginBottom="56dp",
      layout_gravity="center|bottom",
      cardBackgroundColor=0xFF68AFE5,
      onClick=function()
        if zxz.text~="" and zdz.text~="" then
          sjs.setText(tostring(math.random(zxz.text,zdz.text)))
          scsjs.setText("继续")
        else
          提示"值为空,请先输入值。"
        end
      end,
      {
        TextView,
        id="scsjs",
        text="生成",
        textColor=0xFFFFFFFF,
        layout_gravity="center",
      },
    },
  },
}
sjsscbj=PopupWindow(loadlayout(随机数生成布局))
sjsscbj.setFocusable(true)
sjsscbj.setWidth(w)
sjsscbj.setHeight(h)
sjsscbj.setTouchable(true)
sjsscbj.setOutsideTouchable(true)
sjsscbj.showAtLocation(fltBtn.Parent,0,0,0)
颜色(zxz,0xFF68AFE5)颜色(zdz,0xFF68AFE5)
end
function BiliBili封面获取()
bilibili封面获取布局={
  LinearLayout,
  id="bjbj",
  layout_width=w,
  layout_height=h,
  backgroundColor=0x80000000,
  {
    CardView,
    id="bjkp",
    radius="10dp",
    layout_width=w,
    layout_gravity="bottom",
    layout_marginBottom="-10dp",
    cardBackgroundColor=0xFFFFFFFF,
    {
      LinearLayout,
      layout_width=w,
      orientation="vertical",
      {
        LinearLayout,
        layout_width=w,
        paddingTop="24dp",
        paddingLeft="32dp",
        paddingRight="24dp",
        orientation="horizontal",
        {
          TextView,
          textSize="17sp",
          layout_weight="1",
          text="BiliBili封面获取",
          layout_gravity="center",
          textColor=0xFF000000,
          Typeface=Typeface.DEFAULT_BOLD,
        },
        {
          ImageView,
          padding="15dp",
          id="gbbilibilifmhqbj",
          layout_width="55dp",
          layout_height="55dp",
          layout_gravity="center",
          ColorFilter=0xFF707070,
          src="http://shp.qpic.cn/collector/2530648358/6a4d61ec-a43b-454e-87c7-3a471e95e51a/0",
          onClick=function()关闭BiliBili封面获取布局()end,
        },
      },
      {
        LinearLayout,
        layout_height="7dp",
      },
      {
        LinearLayout,
        layout_width=w,
        paddingLeft="32dp",
        paddingRight="32dp",
        orientation="vertical",
        {
          TextView,
          textSize="12sp",
          paddingLeft="2dp",
          textColor=0xFF68AFE5,
          text="请输入视频Av号..",
        },
        {
          EditText,
          id="avh",
          singleLine=true,
          layout_width="fill",
          textColor=0xFF000000,
        },
      },
      {
        LinearLayout,
        gravity="right",
        layout_width=w,
        paddingTop="17dp",
        paddingRight="32dp",
        paddingBottom="43dp",
        {
          LinearLayout,
          layout_height="46dp",
          {
            CardView,
            radius="5dp",
            layout_gravity="center",
            cardBackgroundColor=0xFF68AFE5,
            {
              TextView,
              text="获取",
              gravity="center",
              layout_height="36dp",
              layout_width="87.5dp",
              textColor=0xFFFFFFFF,
              onClick=function()
                关闭BiliBili封面获取布局()
                Http.get("https://m.bilibili.com/video/av"..avh.text..".html?",nil,"utf8",nil,function(code,content)
                  获取标题=content:match("<title>(.-)</title>")
                  if 获取标题=="什么都没找到" then
                    提示("获取失败。")
                  else
                    图片链接=content:match('<meta property="og:image" content="(.-)"/>'):match("(.+)@")
                    获取到BiliBili封面布局={
                      LinearLayout,
                      id="bjbj",
                      layout_width=w,
                      layout_height=h,
                      background="#80000000",
                      {
                        CardView,
                        id="bjkp",
                        visibility=4,
                        radius="10dp",
                        layout_width=w,
                        layout_gravity="bottom",
                        layout_marginBottom="-10dp",
                        cardBackgroundColor=0xFFFFFFFF,
                        {
                          LinearLayout,
                          layout_width=w,
                          padding="36.5dp",
                          orientation="vertical",
                          paddingBottom="46.5dp",
                          {
                            ImageView,
                            id="fmtp",
                            src=图片链接,
                            layout_gravity="center",
                            layout_marginTop="8.5dp",
                          },
                          {
                            LinearLayout,
                            layout_width="fill",
                            orientation="horizontal",
                            layout_marginTop="25dp",
                            {
                              LinearLayout,
                              id="xzfm",
                              padding="16.25dp",
                              orientation="horizontal",
                              layout_width=0.5*(w-73/32*geth(toolbar)),
                              onClick=function()
                                保存链接图片(图片链接,"/storage/emulated/0/Pictures/UTBC浏览器/"..os.date("%Y%m%d%H%M%S").."_bilibili.png")
                              end,
                              {
                                ImageView,
                                layout_width="23.5dp",
                                layout_height="23.5dp",
                                ColorFilter=0xFF68AFE5,
                                src="http://shp.qpic.cn/collector/2530648358/57e3e182-77f4-4dae-afab-85fc5363a9b0/0",
                              },
                              {
                                TextView,
                                gravity="right",
                                text="保存封面",
                                layout_width="fill",
                                layout_gravity="center",
                                textColor=0xFF000000,
                              },
                            },
                            {
                              LinearLayout,
                              id="fxfm",
                              padding="16.25dp",
                              orientation="horizontal",
                              layout_width=0.5*(w-73/32*geth(toolbar)),
                              onClick=function()分享文本(图片链接)end,
                              {
                                ImageView,
                                layout_width="23.5dp",
                                layout_height="23.5dp",
                                ColorFilter=0xFF68AFE5,
                                src="http://shp.qpic.cn/collector/2530648358/83fdbc58-9c2d-4975-a02a-94ff4bdd8a5c/0",
                              },
                              {
                                TextView,
                                gravity="right",
                                text="分享封面",
                                layout_width="fill",
                                layout_gravity="center",
                                textColor=0xFF000000,
                              },
                            },
                          },
                        },
                      },
                    }
                    hqdbilibilifmbj=PopupWindow(loadlayout(获取到BiliBili封面布局))
                    hqdbilibilifmbj.setFocusable(true)
                    hqdbilibilifmbj.setWidth(w)
                    hqdbilibilifmbj.setHeight(h)
                    hqdbilibilifmbj.setTouchable(true)
                    hqdbilibilifmbj.setOutsideTouchable(true)
                    hqdbilibilifmbj.showAtLocation(fltBtn.Parent,0,0,0)
                    波纹方(xzfm,0xFFB3D7F1)波纹方(fxfm,0xFFB3D7F1)
                    ti=Ticker()
                    ti.Period=10
                    ti.onTick=function()
                      if geth(fmtp)~=0 then
                        ti.stop()
                        bjkp.setVisibility(0)
                        位移动画(bjkp,200,0,0,geth(bjkp),0)
                        bjkpsety=0
                        bjbj.onTouch=function(v,e)
                        a=e.getAction()&255
                        if a==MotionEvent.ACTION_DOWN then
                          if e.getY()>=h-geth(bjkp) then
                            csdjwz=e.getY()
                          else
                            csdjwz=h+1
                          end
                        elseif a==MotionEvent.ACTION_MOVE then
                          if csdjwz==h+1 then
                          elseif csdjwz>e.getY() then
                            csdjwz=e.getY()
                          else
                            bjkpsety=h-geth(bjkp)+e.getY()-csdjwz+10/32*geth(toolbar)
                            bjkp.setY(bjkpsety)
                          end
                        elseif  a==MotionEvent.ACTION_UP then
                          if csdjwz==h+1 then
                            位移动画(bjkp,200,0,0,0,geth(bjkp))
                            task(199,function()
                              hqdbilibilifmbj.dismiss()
                            end)
                          elseif bjkpsety>=h-0.5*geth(bjkp) then
                            位移动画(bjkp,200,0,0,0,geth(bjkp))
                            task(199,function()
                              hqdbilibilifmbj.dismiss()
                            end)
                          else
                            bjkp.setY(h-geth(bjkp)+10/32*geth(toolbar))
                            位移动画(bjkp,150,0,0,bjkpsety-(h-geth(bjkp)+10/32*geth(toolbar)),0)
                          end
                        end
                        return true
                        end
                      end
                    end
                    ti.start()
                  end
                end)
              end,
            },
          },
        },
      },
    },
  },
}
bilibilifmhqbj=PopupWindow(loadlayout(bilibili封面获取布局))
bilibilifmhqbj.setFocusable(true)
bilibilifmhqbj.setWidth(w)
bilibilifmhqbj.setHeight(h)
bilibilifmhqbj.setTouchable(true)
bilibilifmhqbj.setOutsideTouchable(true)
bilibilifmhqbj.showAtLocation(fltBtn.Parent,0,0,0)
波纹(gbbilibilifmhqbj,0xFFE2E2E2)
位移动画(bjkp,200,0,0,geth(bjkp),0)
activity.getSystemService(Context.INPUT_METHOD_SERVICE).toggleSoftInput(0,InputMethodManager.RESULT_SHOWN)
function 关闭BiliBili封面获取布局()
  位移动画(bjkp,200,0,0,0,geth(bjkp))
  task(199,function()
    activity.getSystemService(Context.INPUT_METHOD_SERVICE).hideSoftInputFromWindow(avh.getWindowToken(),0)
    bilibilifmhqbj.dismiss()
  end)
end
颜色(avh,0xFF68AFE5)
avh.getBackground().setColorFilter(PorterDuffColorFilter(0xFF68AFE5,PorterDuff.Mode.SRC_ATOP));
bjkpsety=0
bjbj.onTouch=function(v,e)
  a=e.getAction()&255
  if a==MotionEvent.ACTION_DOWN then
    if e.getY()>=h-geth(bjkp) then
      csdjwz=e.getY()
    else
      csdjwz=h+1
    end
  elseif a==MotionEvent.ACTION_MOVE then
    if csdjwz==h+1 then
    elseif csdjwz>e.getY() then
      csdjwz=e.getY()
    else
      bjkpsety=h-geth(bjkp)+e.getY()-csdjwz+10/32*geth(toolbar)
      bjkp.setY(bjkpsety)
    end
  elseif  a==MotionEvent.ACTION_UP then
    if csdjwz==h+1 then
      关闭BiliBili封面获取布局()
    elseif bjkpsety>=h-0.5*geth(bjkp) then
      关闭BiliBili封面获取布局()
    else
      bjkp.setY(h-geth(bjkp)+10/32*geth(toolbar))
      位移动画(bjkp,150,0,0,bjkpsety-(h-geth(bjkp)+10/32*geth(toolbar)),0)
    end
  end
  return true
end
end
function MD5(str)
  local HexTable = {"0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"}
  local A = 0x67452301
  local B = 0xefcdab89
  local C = 0x98badcfe
  local D = 0x10325476
  local S11 = 7
  local S12 = 12
  local S13 = 17
  local S14 = 22
  local S21 = 5
  local S22 = 9
  local S23 = 14
  local S24 = 20
  local S31 = 4
  local S32 = 11
  local S33 = 16
  local S34 = 23
  local S41 = 6
  local S42 = 10
  local S43 = 15
  local S44 = 21
  local function F(x,y,z)
    return (x & y) | ((~x) & z)
  end
  local function G(x,y,z)
    return (x & z) | (y & (~z))
  end
  local function H(x,y,z)
    return x ~ y ~ z
  end
  local function I(x,y,z)
    return y ~ (x | (~z))
  end
  local function FF(a,b,c,d,x,s,ac)
    a = a + F(b,c,d) + x + ac
    a = (((a & 0xffffffff) << s) | ((a & 0xffffffff) >> 32 - s)) + b
    return a & 0xffffffff
  end
  local function GG(a,b,c,d,x,s,ac)
    a = a + G(b,c,d) + x + ac
    a = (((a & 0xffffffff) << s) | ((a & 0xffffffff) >> 32 - s)) + b
    return a & 0xffffffff
  end
  local function HH(a,b,c,d,x,s,ac)
    a = a + H(b,c,d) + x + ac
    a = (((a & 0xffffffff) << s) | ((a & 0xffffffff) >> 32 - s)) + b
    return a & 0xffffffff
  end
  local function II(a,b,c,d,x,s,ac)
    a = a + I(b,c,d) + x + ac
    a = (((a & 0xffffffff) << s) | ((a & 0xffffffff) >> 32 - s)) + b
    return a & 0xffffffff
  end
  local function MD5StringFill(s)
    local len = s:len()
    local mod512 = len * 8 % 512
    local fillSize = (448 - mod512) // 8
    if mod512 > 448 then
      fillSize = (960 - mod512) // 8
    end
    local rTab = {}
    local byteIndex = 1
    for i = 1,len do
      local index = (i - 1) // 4 + 1
      rTab[index] = rTab[index] or 0
      rTab[index] = rTab[index] | (s:byte(i) << (byteIndex - 1) * 8)
      byteIndex = byteIndex + 1
      if byteIndex == 5 then
        byteIndex = 1
      end
    end
    local b0x80 = false
    local tLen = #rTab
    if byteIndex ~= 1 then
      rTab[tLen] = rTab[tLen] | 0x80 << (byteIndex - 1) * 8
      b0x80 = true
    end
    for i = 1,fillSize // 4 do
      if not b0x80 and i == 1 then
        rTab[tLen + i] = 0x80
       else
        rTab[tLen + i] = 0x0
      end
    end
    local bitLen = math.floor(len * 8)
    tLen = #rTab
    rTab[tLen + 1] = bitLen & 0xffffffff
    rTab[tLen + 2] = bitLen >> 32
    return rTab
  end
  function string.md5(s)
    local fillTab = MD5StringFill(s)
    local result = {A,B,C,D}
    for i = 1,#fillTab // 16 do
      local a = result[1]
      local b = result[2]
      local c = result[3]
      local d = result[4]
      local offset = (i - 1) * 16 + 1
      a = FF(a, b, c, d, fillTab[offset + 0], S11, 0xd76aa478)
      d = FF(d, a, b, c, fillTab[offset + 1], S12, 0xe8c7b756)
      c = FF(c, d, a, b, fillTab[offset + 2], S13, 0x242070db)
      b = FF(b, c, d, a, fillTab[offset + 3], S14, 0xc1bdceee)
      a = FF(a, b, c, d, fillTab[offset + 4], S11, 0xf57c0faf)
      d = FF(d, a, b, c, fillTab[offset + 5], S12, 0x4787c62a)
      c = FF(c, d, a, b, fillTab[offset + 6], S13, 0xa8304613)
      b = FF(b, c, d, a, fillTab[offset + 7], S14, 0xfd469501)
      a = FF(a, b, c, d, fillTab[offset + 8], S11, 0x698098d8)
      d = FF(d, a, b, c, fillTab[offset + 9], S12, 0x8b44f7af)
      c = FF(c, d, a, b, fillTab[offset + 10], S13, 0xffff5bb1)
      b = FF(b, c, d, a, fillTab[offset + 11], S14, 0x895cd7be)
      a = FF(a, b, c, d, fillTab[offset + 12], S11, 0x6b901122)
      d = FF(d, a, b, c, fillTab[offset + 13], S12, 0xfd987193)
      c = FF(c, d, a, b, fillTab[offset + 14], S13, 0xa679438e)
      b = FF(b, c, d, a, fillTab[offset + 15], S14, 0x49b40821)
      a = GG(a, b, c, d, fillTab[offset + 1], S21, 0xf61e2562)
      d = GG(d, a, b, c, fillTab[offset + 6], S22, 0xc040b340)
      c = GG(c, d, a, b, fillTab[offset + 11], S23, 0x265e5a51)
      b = GG(b, c, d, a, fillTab[offset + 0], S24, 0xe9b6c7aa)
      a = GG(a, b, c, d, fillTab[offset + 5], S21, 0xd62f105d)
      d = GG(d, a, b, c, fillTab[offset + 10], S22, 0x2441453)
      c = GG(c, d, a, b, fillTab[offset + 15], S23, 0xd8a1e681)
      b = GG(b, c, d, a, fillTab[offset + 4], S24, 0xe7d3fbc8)
      a = GG(a, b, c, d, fillTab[offset + 9], S21, 0x21e1cde6)
      d = GG(d, a, b, c, fillTab[offset + 14], S22, 0xc33707d6)
      c = GG(c, d, a, b, fillTab[offset + 3], S23, 0xf4d50d87)
      b = GG(b, c, d, a, fillTab[offset + 8], S24, 0x455a14ed)
      a = GG(a, b, c, d, fillTab[offset + 13], S21, 0xa9e3e905)
      d = GG(d, a, b, c, fillTab[offset + 2], S22, 0xfcefa3f8)
      c = GG(c, d, a, b, fillTab[offset + 7], S23, 0x676f02d9)
      b = GG(b, c, d, a, fillTab[offset + 12], S24, 0x8d2a4c8a)
      a = HH(a, b, c, d, fillTab[offset + 5], S31, 0xfffa3942)
      d = HH(d, a, b, c, fillTab[offset + 8], S32, 0x8771f681)
      c = HH(c, d, a, b, fillTab[offset + 11], S33, 0x6d9d6122)
      b = HH(b, c, d, a, fillTab[offset + 14], S34, 0xfde5380c)
      a = HH(a, b, c, d, fillTab[offset + 1], S31, 0xa4beea44)
      d = HH(d, a, b, c, fillTab[offset + 4], S32, 0x4bdecfa9)
      c = HH(c, d, a, b, fillTab[offset + 7], S33, 0xf6bb4b60)
      b = HH(b, c, d, a, fillTab[offset + 10], S34, 0xbebfbc70)
      a = HH(a, b, c, d, fillTab[offset + 13], S31, 0x289b7ec6)
      d = HH(d, a, b, c, fillTab[offset + 0], S32, 0xeaa127fa)
      c = HH(c, d, a, b, fillTab[offset + 3], S33, 0xd4ef3085)
      b = HH(b, c, d, a, fillTab[offset + 6], S34, 0x4881d05)
      a = HH(a, b, c, d, fillTab[offset + 9], S31, 0xd9d4d039)
      d = HH(d, a, b, c, fillTab[offset + 12], S32, 0xe6db99e5)
      c = HH(c, d, a, b, fillTab[offset + 15], S33, 0x1fa27cf8)
      b = HH(b, c, d, a, fillTab[offset + 2], S34, 0xc4ac5665)
      a = II(a, b, c, d, fillTab[offset + 0], S41, 0xf4292244)
      d = II(d, a, b, c, fillTab[offset + 7], S42, 0x432aff97)
      c = II(c, d, a, b, fillTab[offset + 14], S43, 0xab9423a7)
      b = II(b, c, d, a, fillTab[offset + 5], S44, 0xfc93a039)
      a = II(a, b, c, d, fillTab[offset + 12], S41, 0x655b59c3)
      d = II(d, a, b, c, fillTab[offset + 3], S42, 0x8f0ccc92)
      c = II(c, d, a, b, fillTab[offset + 10], S43, 0xffeff47d)
      b = II(b, c, d, a, fillTab[offset + 1], S44, 0x85845dd1)
      a = II(a, b, c, d, fillTab[offset + 8], S41, 0x6fa87e4f)
      d = II(d, a, b, c, fillTab[offset + 15], S42, 0xfe2ce6e0)
      c = II(c, d, a, b, fillTab[offset + 6], S43, 0xa3014314)
      b = II(b, c, d, a, fillTab[offset + 13], S44, 0x4e0811a1)
      a = II(a, b, c, d, fillTab[offset + 4], S41, 0xf7537e82)
      d = II(d, a, b, c, fillTab[offset + 11], S42, 0xbd3af235)
      c = II(c, d, a, b, fillTab[offset + 2], S43, 0x2ad7d2bb)
      b = II(b, c, d, a, fillTab[offset + 9], S44, 0xeb86d391)
      result[1] = result[1] + a
      result[2] = result[2] + b
      result[3] = result[3] + c
      result[4] = result[4] + d
      result[1] = result[1] & 0xffffffff
      result[2] = result[2] & 0xffffffff
      result[3] = result[3] & 0xffffffff
      result[4] = result[4] & 0xffffffff
    end
    local retStr = ""
    for i = 1,4 do
      for _ = 1,4 do
        local temp = result[i] & 0x0F
        local str = HexTable[temp + 1]
        result[i] = result[i] >> 4
        temp = result[i] & 0x0F
        retStr = retStr .. HexTable[temp + 1] .. str
        result[i] = result[i] >> 4
      end
    end
    return retStr
  end
  return string.md5(str)
end
function MD5加密()
local dbh=h-geth(toolbar)-getStatusBarHeight()
MD5加密布局={
  LinearLayout,
  orientation="vertical",
  backgroundColor=0xFF9AAEC7,
  {
    LinearLayout,
    layout_width=w,
    orientation="horizontal",
    layout_height=geth(toolbar),
    layout_marginTop=getStatusBarHeight(),
    {
      ImageView,
      padding="15dp",
      layout_width="48dp",
      layout_height="48dp",
      ColorFilter=0xffffffff,
      layout_gravity="center",
      src="http://shp.qpic.cn/collector/2530648358/6ce8ce2c-f0ac-4c11-b6c1-2c7daf86ac60/0",
      onClick=function()md5jmbj.dismiss()end,
    },
    {
      TextView,
      text="MD5加密",
      textColor=0xffffffff,
      layout_gravity="center",
    },
  },
  {
    LinearLayout,
    layout_width=w,
    layout_height=dbh,
    orientation="vertical",
    backgroundColor=0xffffffff,
    {
      EditText,
      id="srwb",
      gravity="top",
      padding="16dp",
      layout_width="fill",
      layout_weight="1",
      hint="请输入内容..",
      textColor=0xff000000,
      hintTextColor=0xffa1a1a1,
      backgroundColor=0xffffffff,
    },
    {
      LinearLayout,
      layout_width=w,
      paddingTop="15dp",
      paddingBottom="15dp",
      orientation="horizontal",
      backgroundColor=0xFFFAFAFA,
      {
        LinearLayout,
        layout_width="74dp",
        layout_height="1dp",
        layout_gravity="center",
        background="#FFBABABA",
        layout_marginRight="16.5dp",
      },
      {
        ImageView,
        id="wytpz",
        padding="3dp",
        layout_width="24dp",
        layout_height="24dp",
        layout_gravity="center",
        ColorFilter=0xFF8B8B8B,
        layout_marginRight="16.5dp",
        src="http://shp.qpic.cn/collector/2530648358/9447f207-fea3-4ef1-a687-0c9a9da08a8a/0",
      },
      {
        CardView,
        radius=0,
        elevation=0,
        layout_weight="1",
        layout_height="40dp",
        cardBackgroundColor=0xFF9AAEC7,
        {
          ImageView,
          id="scjmwb",
          padding="9dp",
          layout_width="fill",
          layout_height="fill",
          ColorFilter=0xFFFFFFFF,
          src="http://shp.qpic.cn/collector/2530648358/3f3bb2ba-b563-4c64-ba2a-c2bb8ccedd76/0",
          onClick=function()
            if srwb.text~="" then
              jmwb.text=MD5(srwb.text)
            end
            wytpz.setColorFilter(0xFFBDBDBD)
            wytpy.setColorFilter(0xFFBDBDBD)
          end,
        },
      },
      {
        ImageView,
        id="wytpy",
        rotation=180,
        padding="3dp",
        layout_width="24dp",
        layout_height="24dp",
        layout_gravity="center",
        ColorFilter=0xFF8B8B8B,
        layout_marginLeft="16.5dp",
        src="http://shp.qpic.cn/collector/2530648358/9447f207-fea3-4ef1-a687-0c9a9da08a8a/0",
      },
      {
        LinearLayout,
        layout_width="74dp",
        layout_height="1dp",
        layout_gravity="center",
        background="#FFBABABA",
        layout_marginLeft="16.5dp",
      },
    },
    {
      LinearLayout,
      layout_width=w,
      layout_weight="1",
      orientation="vertical",
      {
        EditText,
        id="jmwb",
        gravity="top",
        padding="16dp",
        layout_width=w,
        hint="加密结果..",
        layout_weight="1",
        textColor=0xff000000,
        hintTextColor=0xffa1a1a1,
        backgroundColor=0xffffffff,
      },
      {
        LinearLayout,
        layout_height=math.sqrt(2*(28/32*geth(toolbar)^2))-(28/32*geth(toolbar)),
      },
      {
        ImageView,
        id="fzjg",
        padding="16dp",
        layout_width="56dp",
        layout_height="56dp",
        layout_gravity="right",
        src="http://shp.qpic.cn/collector/2530648358/936bf7ca-d0f1-4f81-b0d1-ddd28b7255a3/0",
        onClick=function()复制文本(jmwb.text)提示"复制完成"end,
      },
    },
  },
}
md5jmbj=PopupWindow(loadlayout(MD5加密布局))
md5jmbj.setFocusable(true)
md5jmbj.setWidth(w)
md5jmbj.setHeight(h)
md5jmbj.setTouchable(true)
md5jmbj.setOutsideTouchable(true)
md5jmbj.showAtLocation(fltBtn.Parent,0,0,0)
波纹(fzjg,0xFFE2E2E2)波纹(scjmwb,0xFF68AFE5)
颜色(jmwb,0xFF68AFE5)颜色(srwb,0xFF68AFE5)
end
function KSA(key)
  S={}
  for i=1,256 do
    S[i]=i-1
  end
  j=0
  for i=1,256 do
    if i%#key==0 then
      j=(j+S[i]+key[#key])%256
    else
      j=(j+S[i]+key[i%#key])%256
    end
    S[i],S[j+1]=S[j+1],S[i] 
  end
  return S
end
function PRGA(S,n)
  i,j=0,0
  key={}
  while n>0 do
    i=(i+1)%256
    j=(j+S[i+1])%256
    S[i+1],S[j+1]=S[j+1],S[i+1]
    K=S[(S[i+1]+S[j+1])%256+1]
    key[#key+1]=K
    n=n-1
  end
  return key
end
function preparing_key_array(s)
  c={}
  for i=1,#s do
    c[i]=string.byte(s,i)
  end
  return c
end
function RC4加密(str,key)
  key=key
  plaintext=str
  key=preparing_key_array(key)
  S=KSA(key)
  keystream=PRGA(S,#plaintext)
  plaintext=preparing_key_array(plaintext)
  cipher={}
  for i=1,#plaintext do
    cipher[i]=keystream[i]~plaintext[i]
  end
  jmjg=""
  for i=1,#cipher do
    hexv=Integer.toHexString(cipher[i])
    if #hexv==1 then
      jmjg=jmjg.."0"..hexv
    else
      jmjg=jmjg..hexv
    end
  end
  return jmjg
end
function rc4Hex2Dec(Hex)
  Hexs=(Hex:sub(1,1):gsub("a","10"):gsub("b","11"):gsub("c","12"):gsub("d","13"):gsub("e","14"):gsub("f",15))*15
  Hexg=(Hex:sub(2,2)):gsub("a","10"):gsub("b","11"):gsub("c","12"):gsub("d","13"):gsub("e","14"):gsub("f",15)+Hexs/15
  Dec=tonumber(Hexs+Hexg)
  return Dec
end
function RC4解密(str,key)
  key=key
  plaintext=str
  key=preparing_key_array(key)
  S=KSA(key)
  keystream=PRGA(S,#plaintext/2)
  jmjg=""
  for i=1,#keystream do
    jmjg=jmjg..string.char(rc4Hex2Dec(string.lower(plaintext:sub(i*2-1,i*2)))~keystream[i])
  end
  return jmjg
end
function RC4加解密()
local dbh=h-geth(toolbar)-getStatusBarHeight()
RC4加解密布局={
  LinearLayout,
  orientation="vertical",
  backgroundColor=0xFF9AAEC7,
  {
    LinearLayout,
    layout_width=w,
    orientation="horizontal",
    layout_height=geth(toolbar),
    layout_marginTop=getStatusBarHeight(),
    {
      TextView,
      text="RC4加解密",
      textColor=0xffffffff,
      layout_gravity="center",
      layout_marginLeft="16dp",
    },
  },
  {
    LinearLayout,
    layout_width=w,
    layout_height=dbh,
    orientation="vertical",
    backgroundColor=0xffffffff,
    {
      EditText,
      id="srwb",
      gravity="top",
      padding="16dp",
      layout_width="fill",
      layout_weight="1",
      textColor=0xff000000,
      hintTextColor=0xffa1a1a1,
      backgroundColor=0xffffffff,
      hint="请输入内容，点击右侧的图标加密内容，点击左侧的图标解密内容..",
    },
    {
      LinearLayout,
      layout_width=w,
      layout_height="56dp",
      orientation="horizontal",
      background="#FFFAFAFA",
      {
        FrameLayout,
        id="jiemrc4bj",
        layout_width="56dp",
        {
          ImageView,
          id="jiemrc4",
          padding="16dp",
          layout_width="56dp",
          layout_height="56dp",
          ColorFilter=0xFFFFFFFF,
          src="http://shp.qpic.cn/collector/2530648358/8bc118fd-159d-4544-8131-5ca10c71678e/0",
          onClick=function()
            if srwb.text~="" and rc4key.text~="" and #srwb.text%2==0 then
              miwen=string.lower(srwb.text):gsub("a",""):gsub("b",""):gsub("c",""):gsub("d",""):gsub("e",""):gsub("f",""):gsub("0",""):gsub("1",""):gsub("2",""):gsub("3",""):gsub("4",""):gsub("5",""):gsub("6",""):gsub("7",""):gsub("8",""):gsub("9","")
              if miwen=="" then
                jmwb.text=RC4解密(srwb.text,rc4key.text)
              end
            end
          end,
        },
      },
      {
        EditText,
        id="rc4key",
        singleLine=true,
        layout_weight="1",
        hint="请输入密钥..",
        layout_gravity="center",
        textColor=0xFF000000,
        background="#FFFAFAFA",
        hintTextColor=0xffa1a1a1,
      },
      {
        FrameLayout,
        id="jiamrc4bj",
        layout_width="56dp",
        {
          ImageView,
          id="jiamrc4",
          padding="16dp",
          layout_width="56dp",
          layout_height="56dp",
          ColorFilter=0xFFFFFFFF,
          src="http://shp.qpic.cn/collector/2530648358/074ecb47-7dc6-4efa-a075-a31ce1d8ff56/0",
          onClick=function()
            if srwb.text~="" and rc4key.text~="" then
              jmwb.text=RC4加密(srwb.text,rc4key.text)
            end
          end,
        },
      },
    },
    {
      LinearLayout,
      layout_width=w,
      layout_weight="1",
      orientation="vertical",
      {
        EditText,
        id="jmwb",
        gravity="top",
        padding="16dp",
        layout_width=w,
        hint="内容输出..",
        layout_weight="1",
        textColor=0xff000000,
        hintTextColor=0xffa1a1a1,
        backgroundColor=0xffffffff,
      },
      {
        LinearLayout,
        layout_height=math.sqrt(2*(28/32*geth(toolbar)^2))-(28/32*geth(toolbar)),
      },
      {
        ImageView,
        id="fzjg",
        padding="16dp",
        layout_width="56dp",
        layout_height="56dp",
        layout_gravity="right",
        src="http://shp.qpic.cn/collector/2530648358/936bf7ca-d0f1-4f81-b0d1-ddd28b7255a3/0",
        onClick=function()复制文本(jmwb.text)提示"复制完成"end,
      },
    },
  },
}
rc4jjmbj=PopupWindow(loadlayout(RC4加解密布局))
rc4jjmbj.setFocusable(true)
rc4jjmbj.setWidth(w)
rc4jjmbj.setHeight(h)
rc4jjmbj.setTouchable(true)
rc4jjmbj.setOutsideTouchable(true)
rc4jjmbj.showAtLocation(fltBtn.Parent,0,0,0)
jiemrc4bj.setBackgroundDrawable(GradientDrawable(GradientDrawable.Orientation.LEFT_RIGHT,{0xFF9AAEC7,0xFFFAFAFA}))
jiamrc4bj.setBackgroundDrawable(GradientDrawable(GradientDrawable.Orientation.LEFT_RIGHT,{0xFFFAFAFA,0xFF9AAEC7}))
波纹(fzjg,0xFFE2E2E2)波纹方(jiemrc4,0xFFA3B5C3)波纹方(jiamrc4,0xFFA3B5C3)
颜色(jmwb,0xFF68AFE5)颜色(srwb,0xFF68AFE5)颜色(rc4key,0xFF68AFE5)
end
function 网页源码获取()
网页源码获取布局={
  LinearLayout,
  id="bjbj",
  layout_width=w,
  layout_height=h,
  backgroundColor=0x80000000,
  {
    CardView,
    id="bjkp",
    radius="10dp",
    layout_width=w,
    layout_gravity="bottom",
    layout_marginBottom="-10dp",
    cardBackgroundColor=0xFFFFFFFF,
    {
      LinearLayout,
      layout_width=w,
      orientation="vertical",
      {
        LinearLayout,
        layout_width=w,
        paddingTop="24dp",
        paddingLeft="32dp",
        paddingRight="24dp",
        orientation="horizontal",
        {
          TextView,
          textSize="17sp",
          layout_weight="1",
          text="网页源码获取",
          layout_gravity="center",
          textColor=0xFF000000,
          Typeface=Typeface.DEFAULT_BOLD,
        },
        {
          ImageView,
          padding="15dp",
          id="gbwyymhqbj",
          layout_width="55dp",
          layout_height="55dp",
          layout_gravity="center",
          ColorFilter=0xFF707070,
          src="http://shp.qpic.cn/collector/2530648358/6a4d61ec-a43b-454e-87c7-3a471e95e51a/0",
          onClick=function()关闭网页源码获取布局()end,
        },
      },
      {
        LinearLayout,
        layout_height="7dp",
      },
      {
        LinearLayout,
        layout_width=w,
        paddingLeft="32dp",
        paddingRight="32dp",
        orientation="vertical",
        {
          TextView,
          textSize="12sp",
          paddingLeft="2dp",
          textColor=0xFF68AFE5,
          text="请输入链接..",
        },
        {
          EditText,
          id="ljwb",
          singleLine=true,
          layout_width="fill",
          textColor=0xFF000000,
        },
      },
      {
        LinearLayout,
        gravity="right",
        layout_width=w,
        paddingTop="17dp",
        paddingRight="32dp",
        paddingBottom="43dp",
        {
          LinearLayout,
          layout_height="46dp",
          {
            CardView,
            radius="5dp",
            layout_gravity="center",
            cardBackgroundColor=0xFF68AFE5,
            {
              TextView,
              text="确定",
              gravity="center",
              layout_height="36dp",
              layout_width="87.5dp",
              textColor=0xFFFFFFFF,
              onClick=function()
                关闭网页源码获取布局()
                if ljwb.text:sub(1,7)~="http://" and ljwb.text:sub(1,8)~="https://" then
                  lj="https://"..ljwb.text
                else
                  lj=ljwb.text
                end
                header={
                  ["User-Agent"]= "okhttp/3.11.0",
                }
                task(500,function()
                  Http.get(lj,nil,"utf8",header,function(code,content)
                    if code==-1 then
                      提示"获取失败。"
                    else
                      获取到网页源码布局={
                        LinearLayout,
                        layout_width=w,
                        layout_height=h,
                        orientation="vertical",
                        backgroundColor=0xFFFFFFFF,
                        {
                          FrameLayout,
                          {
                            ScrollView,
                            id="wyymhd",
                            layout_width=w,
                            VerticalScrollBarEnabled=false,
                            layout_height=h-getStatusBarHeight(),
                            {
                              TextView,
                              id="wyymwb",
                              text=content,
                              padding="17dp",
                              textSize="16sp",
                              layout_width="fill",
                              paddingTop="73dp",
                              textColor=0xFF000000,
                              layout_height=h-getStatusBarHeight(),
                            },
                          },
                          {
                            LinearLayout,
                            id="wyymdl",
                            layout_width=w,
                            layout_height="56dp",
                            orientation="horizontal",
                            backgroundColor=0xFF9AAEC7,
                            {
                              ImageView,
                              padding="13dp",
                              layout_width="48dp",
                              layout_height="48dp",
                              ColorFilter=0xffffffff,
                              layout_gravity="center",
                              src="http://shp.qpic.cn/collector/2530648358/6ce8ce2c-f0ac-4c11-b6c1-2c7daf86ac60/0",
                              onClick=function()hqdwyymbj.dismiss()end,
                            },
                            {
                              TextView,
                              textSize="20sp",
                              text="网页源码",
                              layout_weight="1",
                              textColor=0xffffffff,
                              paddingLeft="17dp",
                              layout_gravity="center",
                            },
                            {
                              ImageView,
                              id="wyymcd",
                              padding="13dp",
                              layout_width="48dp",
                              layout_height="48dp",
                              ColorFilter=0xffffffff,
                              layout_gravity="center",
                              src="http://shp.qpic.cn/collector/2530648358/431c581a-d8af-49c0-bacb-608f48a29e58/0",
                              onClick=function()
                                items={
                                  ListView,
                                  id="lb",
                                  DividerHeight=0,
                                  layout_width="fill",
                                  items={"复制","分享","导出"},
                                }
                                圆角对话框()
                                .设置圆角("5dp")
                                .添加布局(items)
                                .显示(function()
                                  lb.setOnItemClickListener(AdapterView.OnItemClickListener{onItemClick=function(parent, v, pos,id)
                                    pop.dismiss()
                                    if id==1 then
                                      复制文本(content)提示"复制完成"
                                    elseif id==2 then
                                      分享文本(content)
                                    else
                                      time=os.date("%Y-%m-%d-%H:%M:%S")
                                      File("/storage/emulated/0/Download/Export_"..time..".txt").createNewFile()
                                      io.open("/storage/emulated/0/Download/Export_"..time..".txt","w+"):write(content):close()
                                      提示("已保存在 /storage/emulated/0/Download/Export_"..time..".txt")
                                    end
                                  end})
                                end)
                              end,
                            },
                          },
                        },
                      }
                      hqdwyymbj=PopupWindow(loadlayout(获取到网页源码布局))
                      hqdwyymbj.setFocusable(true)
                      hqdwyymbj.setWidth(w)
                      hqdwyymbj.setHeight(h)
                      hqdwyymbj.setTouchable(true)
                      hqdwyymbj.setOutsideTouchable(true)
                      hqdwyymbj.showAtLocation(fltBtn.Parent,0,0,0)
                      wyymdlsety=0
                      wyymhd.setOnScrollChangeListener(ScrollView.OnScrollChangeListener{
                      onScrollChange=function(v,nowx,nowy,oldx,oldy)
                        if nowy>=0 and nowy<=wyymwb.getHeight()-h+getStatusBarHeight() then
                          if wyymdlsety+nowy-oldy>=0 and wyymdlsety+nowy-oldy<=56/32*geth(toolbar)then
                            wyymdlsety=wyymdlsety+nowy-oldy
                            wyymdl.setY(-wyymdlsety)
                          else
                            if wyymdlsety+nowy-oldy>56/32*geth(toolbar)then
                              wyymdlsety=56/32*geth(toolbar)
                              wyymdl.setY(-wyymdlsety)
                            else
                              wyymdlsety=0
                              wyymdl.setY(-56/32*wyymdlsety)
                            end
                          end
                        end
                      end
                    })
                    end
                  end)
                end)
              end,
            },
          },
        },
      },
    },
  },
}
wyymhqbj=PopupWindow(loadlayout(网页源码获取布局))
wyymhqbj.setFocusable(true)
wyymhqbj.setWidth(w)
wyymhqbj.setHeight(h)
wyymhqbj.setTouchable(true)
wyymhqbj.setOutsideTouchable(true)
wyymhqbj.showAtLocation(fltBtn.Parent,0,0,0)
波纹(gbwyymhqbj,0xFFE2E2E2)
位移动画(bjkp,200,0,0,geth(bjkp),0)
activity.getSystemService(Context.INPUT_METHOD_SERVICE).toggleSoftInput(0,InputMethodManager.RESULT_SHOWN)
function 关闭网页源码获取布局()
  位移动画(bjkp,200,0,0,0,geth(bjkp))
  task(199,function()
    activity.getSystemService(Context.INPUT_METHOD_SERVICE).hideSoftInputFromWindow(ljwb.getWindowToken(),0)
    wyymhqbj.dismiss()
  end)
end
颜色(ljwb,0xFF68AFE5)
ljwb.getBackground().setColorFilter(PorterDuffColorFilter(0xFF68AFE5,PorterDuff.Mode.SRC_ATOP));
bjkpsety=0
bjbj.onTouch=function(v,e)
  a=e.getAction()&255
  if a==MotionEvent.ACTION_DOWN then
    if e.getY()>=h-geth(bjkp) then
      csdjwz=e.getY()
    else
      csdjwz=h+1
    end
  elseif a==MotionEvent.ACTION_MOVE then
    if csdjwz==h+1 then
    elseif csdjwz>e.getY() then
      csdjwz=e.getY()
    else
      bjkpsety=h-geth(bjkp)+e.getY()-csdjwz+10/32*geth(toolbar)
      bjkp.setY(bjkpsety)
    end
  elseif  a==MotionEvent.ACTION_UP then
    if csdjwz==h+1 then
      关闭网页源码获取布局()
    elseif bjkpsety>=h-0.5*geth(bjkp) then
      关闭网页源码获取布局()
    else
      bjkp.setY(h-geth(bjkp)+10/32*geth(toolbar))
      位移动画(bjkp,150,0,0,bjkpsety-(h-geth(bjkp)+10/32*geth(toolbar)),0)
    end
  end
  return true
end
end
function q0(str)
  for i=1,#str+1 do
    if i==#str+1 then
      str="0"
    elseif str:sub(i,i)~="0" then
      str=str:sub(i,#str)
      break
    end
  end
  return str
end
function 进制转换()
进制转换布局={
  LinearLayout,
  layout_width=w,
  layout_height=h,
  orientation="vertical",
  backgroundColor=0xFFFFFFFF,
  {
    TextView,
    id="srzf",
    visibility=8,
    maxLines="2",
    padding="16dp",
    layout_width=w,
    textSize="20sp",
    layout_height="60dp",
    textColor=0xFF000000,
    layout_marginTop="16dp",
    Typeface=Typeface.DEFAULT_BOLD,
  },
  {
    TextView,
    id="lzf",
    text="0",
    padding="16dp",
    layout_width=w,
    textSize="20sp",
    layout_height="60dp",
    textColor=0xFF000000,
    layout_marginTop="16dp",
    Typeface=Typeface.DEFAULT_BOLD,
  },
  {
    LinearLayout,
    layout_width="fill",
    layout_height="3dp",
    layout_marginLeft="16dp",
    layout_marginRight="16dp",
    backgroundColor=0xFF68AFE5,
  },
  {
    LinearLayout,
    padding="16dp",
    layout_width=w,
    orientation="vertical",
    layout_marginTop="16dp",
    {
      LinearLayout,
      layout_width="fill",
      orientation="horizontal",
      {
        Button,
        id="Binan",
        text="BIN",
        textSize="16sp",
        textColor=0xFFFFFFFF,
        layout_marginRight="16dp",
        onClick=function()
          fromjz="Bin"
          srzf.setVisibility(8)lzf.setVisibility(0)
          srzf.text="" Binwb.text="" Octwb.text="" Decwb.text="" Hexwb.text=""
          sr2.setTextColor(0xFFB2B2B2)sr3.setTextColor(0xFFB2B2B2)sr4.setTextColor(0xFFB2B2B2)sr5.setTextColor(0xFFB2B2B2)sr6.setTextColor(0xFFB2B2B2)sr7.setTextColor(0xFFB2B2B2)sr8.setTextColor(0xFFB2B2B2)sr9.setTextColor(0xFFB2B2B2)srA.setTextColor(0xFFB2B2B2)srB.setTextColor(0xFFB2B2B2)srC.setTextColor(0xFFB2B2B2)srD.setTextColor(0xFFB2B2B2)srE.setTextColor(0xFFB2B2B2)srF.setTextColor(0xFFB2B2B2)
          波纹(sr2,0x0)波纹(sr3,0x0)波纹(sr4,0x0)波纹(sr5,0x0)波纹(sr6,0x0)波纹(sr7,0x0)波纹(sr8,0x0)波纹(sr9,0x0)波纹(srA,0x0)波纹(srB,0x0)波纹(srC,0x0)波纹(srD,0x0)波纹(srE,0x0)波纹(srF,0x0)
          Binan.getBackground().setColorFilter(PorterDuffColorFilter(0xFF68AFE5,PorterDuff.Mode.SRC_ATOP))
          Octan.getBackground().setColorFilter(PorterDuffColorFilter(0xFF9E9E9E,PorterDuff.Mode.SRC_ATOP))
          Decan.getBackground().setColorFilter(PorterDuffColorFilter(0xFF9E9E9E,PorterDuff.Mode.SRC_ATOP))
          Hexan.getBackground().setColorFilter(PorterDuffColorFilter(0xFF9E9E9E,PorterDuff.Mode.SRC_ATOP))
        end,
      },
      {
        TextView,
        id="Binwb",
        maxLines=3,
        text="\n\n\n",
        ellipsize="end",
        textSize="18sp",
        layout_weight="1",
        layout_width="fill",
        paddingBottom="12dp",
        textColor=0xFF727272,
        layout_marginTop="-10dp",
        onClick=function()
          if Binwb.text~="" then
            复制文本(Binwb.text)
            提示"复制完成"
          end
        end
      },
    },
    {
      LinearLayout,
      layout_width="fill",
      orientation="horizontal",
      {
        Button,
        id="Octan",
        text="OCT",
        textSize="16sp",
        textColor=0xFFFFFFFF,
        layout_marginRight="16dp",
        onClick=function()
          fromjz="Oct"
          srzf.setVisibility(8)lzf.setVisibility(0)
          srzf.text="" Binwb.text="" Octwb.text="" Decwb.text="" Hexwb.text=""
          sr8.setTextColor(0xFFB2B2B2)sr9.setTextColor(0xFFB2B2B2)srA.setTextColor(0xFFB2B2B2)srB.setTextColor(0xFFB2B2B2)srC.setTextColor(0xFFB2B2B2)srD.setTextColor(0xFFB2B2B2)srE.setTextColor(0xFFB2B2B2)srF.setTextColor(0xFFB2B2B2)
          波纹(sr8,0x0)波纹(sr9,0x0)波纹(srA,0x0)波纹(srB,0x0)波纹(srC,0x0)波纹(srD,0x0)波纹(srE,0x0)波纹(srF,0x0)
          sr2.setTextColor(0xFF000000)sr3.setTextColor(0xFF000000)sr4.setTextColor(0xFF000000)sr5.setTextColor(0xFF000000)sr6.setTextColor(0xFF000000)sr7.setTextColor(0xFF000000)
          波纹(sr2,0xFF68AFE5)波纹(sr3,0xFF68AFE5)波纹(sr4,0xFF68AFE5)波纹(sr5,0xFF68AFE5)波纹(sr6,0xFF68AFE5)波纹(sr7,0xFF68AFE5)
          Binan.getBackground().setColorFilter(PorterDuffColorFilter(0xFF9E9E9E,PorterDuff.Mode.SRC_ATOP))
          Octan.getBackground().setColorFilter(PorterDuffColorFilter(0xFF68AFE5,PorterDuff.Mode.SRC_ATOP))
          Decan.getBackground().setColorFilter(PorterDuffColorFilter(0xFF9E9E9E,PorterDuff.Mode.SRC_ATOP))
          Hexan.getBackground().setColorFilter(PorterDuffColorFilter(0xFF9E9E9E,PorterDuff.Mode.SRC_ATOP))
        end
      },
      {
        TextView,
        id="Octwb",
        maxLines=3,
        text="\n\n\n",
        ellipsize="end",
        textSize="18sp",
        layout_weight="1",
        layout_width="fill",
        paddingBottom="12dp",
        textColor=0xFF727272,
        layout_marginTop="-10dp",
        onClick=function()
          if Octwb.text~="" then
            复制文本(Octwb.text)
            提示"复制完成"
          end
        end
      },
    },
    {
      LinearLayout,
      layout_width="fill",
      orientation="horizontal",
      {
        Button,
        id="Decan",
        text="DEC",
        textSize="16sp",
        textColor=0xFFFFFFFF,
        layout_marginRight="16dp",
        onClick=function()
          fromjz="Dec"
          srzf.setVisibility(8)lzf.setVisibility(0)
          srzf.text="" Binwb.text="" Octwb.text="" Decwb.text="" Hexwb.text=""
          srA.setTextColor(0xFFB2B2B2)srB.setTextColor(0xFFB2B2B2)srC.setTextColor(0xFFB2B2B2)srD.setTextColor(0xFFB2B2B2)srE.setTextColor(0xFFB2B2B2)srF.setTextColor(0xFFB2B2B2)
          波纹(srA,0x0)波纹(srB,0x0)波纹(srC,0x0)波纹(srD,0x0)波纹(srE,0x0)波纹(srF,0x0)
          sr2.setTextColor(0xFF000000)sr3.setTextColor(0xFF000000)sr4.setTextColor(0xFF000000)sr5.setTextColor(0xFF000000)sr6.setTextColor(0xFF000000)sr7.setTextColor(0xFF000000)sr8.setTextColor(0xFF000000)sr9.setTextColor(0xFF000000)
          波纹(sr2,0xFF68AFE5)波纹(sr3,0xFF68AFE5)波纹(sr4,0xFF68AFE5)波纹(sr5,0xFF68AFE5)波纹(sr6,0xFF68AFE5)波纹(sr7,0xFF68AFE5)波纹(sr8,0xFF68AFE5)波纹(sr9,0xFF68AFE5)
          Binan.getBackground().setColorFilter(PorterDuffColorFilter(0xFF9E9E9E,PorterDuff.Mode.SRC_ATOP))
          Octan.getBackground().setColorFilter(PorterDuffColorFilter(0xFF9E9E9E,PorterDuff.Mode.SRC_ATOP))
          Decan.getBackground().setColorFilter(PorterDuffColorFilter(0xFF68AFE5,PorterDuff.Mode.SRC_ATOP))
          Hexan.getBackground().setColorFilter(PorterDuffColorFilter(0xFF9E9E9E,PorterDuff.Mode.SRC_ATOP))
        end
      },
      {
        TextView,
        id="Decwb",
        maxLines=3,
        text="\n\n\n",
        ellipsize="end",
        textSize="18sp",
        layout_weight="1",
        layout_width="fill",
        paddingBottom="12dp",
        textColor=0xFF727272,
        layout_marginTop="-10dp",
        onClick=function()
          if Decwb.text~="" then
            复制文本(Decwb.text)
            提示"复制完成"
          end
        end
      },
    },
    {
      LinearLayout,
      layout_width="fill",
      orientation="horizontal",
      {
        Button,
        id="Hexan",
        text="HEX",
        textSize="16sp",
        textColor=0xFFFFFFFF,
        layout_marginRight="16dp",
        onClick=function()
          fromjz="Hex"
          srzf.setVisibility(8)lzf.setVisibility(0)
          srzf.text="" Binwb.text="" Octwb.text="" Decwb.text="" Hexwb.text=""          
          sr2.setTextColor(0xFF000000)sr3.setTextColor(0xFF000000)sr4.setTextColor(0xFF000000)sr5.setTextColor(0xFF000000)sr6.setTextColor(0xFF000000)sr7.setTextColor(0xFF000000)sr8.setTextColor(0xFF000000)sr9.setTextColor(0xFF000000)srA.setTextColor(0xFF000000)srB.setTextColor(0xFF000000)srC.setTextColor(0xFF000000)srD.setTextColor(0xFF000000)srE.setTextColor(0xFF000000)srF.setTextColor(0xFF000000)
          波纹(sr2,0xFF68AFE5)波纹(sr3,0xFF68AFE5)波纹(sr4,0xFF68AFE5)波纹(sr5,0xFF68AFE5)波纹(sr6,0xFF68AFE5)波纹(sr7,0xFF68AFE5)波纹(sr8,0xFF68AFE5)波纹(sr9,0xFF68AFE5)波纹(srA,0xFF68AFE5)波纹(srB,0xFF68AFE5)波纹(srC,0xFF68AFE5)波纹(srD,0xFF68AFE5)波纹(srE,0xFF68AFE5)波纹(srF,0xFF68AFE5)
          Binan.getBackground().setColorFilter(PorterDuffColorFilter(0xFF9E9E9E,PorterDuff.Mode.SRC_ATOP))
          Octan.getBackground().setColorFilter(PorterDuffColorFilter(0xFF9E9E9E,PorterDuff.Mode.SRC_ATOP))
          Decan.getBackground().setColorFilter(PorterDuffColorFilter(0xFF9E9E9E,PorterDuff.Mode.SRC_ATOP))
          Hexan.getBackground().setColorFilter(PorterDuffColorFilter(0xFF68AFE5,PorterDuff.Mode.SRC_ATOP))
        end
      },
      {
        TextView,
        id="Hexwb",
        maxLines=3,
        text="\n\n\n",
        ellipsize="end",
        textSize="18sp",
        layout_weight="1",
        layout_width="fill",
        paddingBottom="12dp",
        textColor=0xFF727272,
        layout_marginTop="-10dp",
        onClick=function()
          if Hexwb.text~="" then
            复制文本(Hexwb.text)
            提示"复制完成"
          end
        end
      },
    },
  },
  {
    LinearLayout,
    padding="16dp",
    layout_width=w,
    layout_height="fill",
    orientation="horizontal",
    {
      LinearLayout,
      layout_height="fill",
      orientation="vertical",
      layout_width=(w-geth(toolbar))/5,
      {
        TextView,
        id="sr1",
        text="1",
        gravity="center",
        textSize="15.6sp",
        layout_width="fill",
        layout_weight="1",
        textColor=0xFF000000,
        Typeface=Typeface.DEFAULT_BOLD,
        onClick=function()
          srzf.setVisibility(0)lzf.setVisibility(8)
          srzf.text=srzf.text.."1"
          if fromjz=="Bin" then
            Binwb.text=q0(srzf.text)
            Octwb.text=q0(Bin2Oct(srzf.text))
            Decwb.text=Bin2Dec(srzf.text)
            Hexwb.text=q0(string.upper(Bin2Hex(srzf.text)))
          elseif fromjz=="Oct" then
            Octwb.text=q0(srzf.text)
            Binwb.text=Oct2Bin(srzf.text)
            Decwb.text=Bin2Dec(Binwb.text)
            Hexwb.text=Bin2Hex(Binwb.text)
          elseif fromjz=="Dec" then
            Decwb.text=q0(srzf.text)
            Binwb.text=Dec2Bin(srzf.text)
            Octwb.text=Bin2Oct(Binwb.text)
            Hexwb.text=Bin2Hex(Binwb.text)
          else
            Hexwb.text=q0(srzf.text)
            Binwb.text=Hex2Bin(srzf.text)
            Octwb.text=Bin2Oct(Binwb.text)
            Decwb.text=Bin2Dec(Binwb.text)
          end
        end
      },
      {
        TextView,
        id="sr4",
        text="4",
        gravity="center",
        textSize="15.6sp",
        layout_width="fill",
        layout_weight="1",
        textColor=0xFF000000,
        Typeface=Typeface.DEFAULT_BOLD,
        onClick=function()
          if fromjz~="Bin" then
            srzf.setVisibility(0)lzf.setVisibility(8)
            srzf.text=srzf.text.."4"
          end
          if fromjz=="Oct" then
            Octwb.text=q0(srzf.text)
            Binwb.text=Oct2Bin(srzf.text)
            Decwb.text=Bin2Dec(Binwb.text)
            Hexwb.text=Bin2Hex(Binwb.text)
          elseif fromjz=="Dec" then
            Decwb.text=q0(srzf.text)
            Binwb.text=Dec2Bin(srzf.text)
            Octwb.text=Bin2Oct(Binwb.text)
            Hexwb.text=Bin2Hex(Binwb.text)
          elseif fromjz=="Hex" then
            Hexwb.text=q0(srzf.text)
            Binwb.text=Hex2Bin(srzf.text)
            Octwb.text=Bin2Oct(Binwb.text)
            Decwb.text=Bin2Dec(Binwb.text)
          end
        end
      },
      {
        TextView,
        id="sr7",
        text="7",
        gravity="center",
        textSize="15.6sp",
        layout_width="fill",
        layout_weight="1",
        textColor=0xFF000000,
        Typeface=Typeface.DEFAULT_BOLD,
        onClick=function()
          if fromjz~="Bin" then
            srzf.setVisibility(0)lzf.setVisibility(8)
            srzf.text=srzf.text.."7"
          end
          if fromjz=="Oct" then
            Octwb.text=q0(srzf.text)
            Binwb.text=Oct2Bin(srzf.text)
            Decwb.text=Bin2Dec(Binwb.text)
            Hexwb.text=Bin2Hex(Binwb.text)
          elseif fromjz=="Dec" then
            Decwb.text=q0(srzf.text)
            Binwb.text=Dec2Bin(srzf.text)
            Octwb.text=Bin2Oct(Binwb.text)
            Hexwb.text=Bin2Hex(Binwb.text)
          elseif fromjz=="Hex" then
            Hexwb.text=q0(srzf.text)
            Binwb.text=Hex2Bin(srzf.text)
            Octwb.text=Bin2Oct(Binwb.text)
            Decwb.text=Bin2Dec(Binwb.text)
          end
        end
      },
      {
        TextView,
        id="sr0",
        text="0",
        gravity="center",
        textSize="15.6sp",
        layout_width="fill",
        layout_weight="1",
        textColor=0xFF000000,
        Typeface=Typeface.DEFAULT_BOLD,
        onClick=function()
          srzf.setVisibility(0)lzf.setVisibility(8)
          srzf.text=srzf.text.."0"
          if fromjz=="Bin" then
            Binwb.text=q0(srzf.text)
            Octwb.text=q0(Bin2Oct(srzf.text))
            Decwb.text=Bin2Dec(srzf.text)
            Hexwb.text=q0(string.upper(Bin2Hex(srzf.text)))
          elseif fromjz=="Oct" then
            Octwb.text=q0(srzf.text)
            Binwb.text=Oct2Bin(srzf.text)
            Decwb.text=Bin2Dec(Binwb.text)
            Hexwb.text=Bin2Hex(Binwb.text)
          elseif fromjz=="Dec" then
            Decwb.text=q0(srzf.text)
            Binwb.text=Dec2Bin(srzf.text)
            Octwb.text=Bin2Oct(Binwb.text)
            Hexwb.text=Bin2Hex(Binwb.text)
          else
            Hexwb.text=q0(srzf.text)
            Binwb.text=Hex2Bin(srzf.text)
            Octwb.text=Bin2Oct(Binwb.text)
            Decwb.text=Bin2Dec(Binwb.text)
          end
        end
      },
    },
    {
      LinearLayout,
      layout_height="fill",
      orientation="vertical",
      layout_width=(w-geth(toolbar))/5,
      {
        TextView,
        id="sr2",
        text="2",
        gravity="center",
        textSize="15.6sp",
        layout_width="fill",
        layout_weight="1",
        textColor=0xFF000000,
        Typeface=Typeface.DEFAULT_BOLD,
        onClick=function()
          if fromjz~="Bin" then
            srzf.setVisibility(0)lzf.setVisibility(8)
            srzf.text=srzf.text.."2"
          end
          if fromjz=="Oct" then
            Octwb.text=q0(srzf.text)
            Binwb.text=Oct2Bin(srzf.text)
            Decwb.text=Bin2Dec(Binwb.text)
            Hexwb.text=Bin2Hex(Binwb.text)
          elseif fromjz=="Dec" then
            Decwb.text=q0(srzf.text)
            Binwb.text=Dec2Bin(srzf.text)
            Octwb.text=Bin2Oct(Binwb.text)
            Hexwb.text=Bin2Hex(Binwb.text)
          elseif fromjz=="Hex" then
            Hexwb.text=q0(srzf.text)
            Binwb.text=Hex2Bin(srzf.text)
            Octwb.text=Bin2Oct(Binwb.text)
            Decwb.text=Bin2Dec(Binwb.text)
          end
        end
      },
      {
        TextView,
        id="sr5",
        text="5",
        gravity="center",
        textSize="15.6sp",
        layout_width="fill",
        layout_weight="1",
        textColor=0xFF000000,
        Typeface=Typeface.DEFAULT_BOLD,
        onClick=function()
          if fromjz~="Bin" then
            srzf.setVisibility(0)lzf.setVisibility(8)
            srzf.text=srzf.text.."5"
          end
          if fromjz=="Oct" then
            Octwb.text=q0(srzf.text)
            Binwb.text=Oct2Bin(srzf.text)
            Decwb.text=Bin2Dec(Binwb.text)
            Hexwb.text=Bin2Hex(Binwb.text)
          elseif fromjz=="Dec" then
            Decwb.text=q0(srzf.text)
            Binwb.text=Dec2Bin(srzf.text)
            Octwb.text=Bin2Oct(Binwb.text)
            Hexwb.text=Bin2Hex(Binwb.text)
          elseif fromjz=="Hex" then
            Hexwb.text=q0(srzf.text)
            Binwb.text=Hex2Bin(srzf.text)
            Octwb.text=Bin2Oct(Binwb.text)
            Decwb.text=Bin2Dec(Binwb.text)
          end
        end
      },
      {
        TextView,
        id="sr8",
        text="8",
        gravity="center",
        textSize="15.6sp",
        layout_width="fill",
        layout_weight="1",
        textColor=0xFF000000,
        Typeface=Typeface.DEFAULT_BOLD,
        onClick=function()
          if fromjz~="Bin" and fromjz~="Oct" then
            srzf.setVisibility(0)lzf.setVisibility(8)
            srzf.text=srzf.text.."8"
          end
          if fromjz=="Dec" then
            Decwb.text=q0(srzf.text)
            Binwb.text=Dec2Bin(srzf.text)
            Octwb.text=Bin2Oct(Binwb.text)
            Hexwb.text=Bin2Hex(Binwb.text)
          elseif fromjz=="Hex" then
            Hexwb.text=q0(srzf.text)
            Binwb.text=Hex2Bin(srzf.text)
            Octwb.text=Bin2Oct(Binwb.text)
            Decwb.text=Bin2Dec(Binwb.text)
          end
        end
      },
      {
        TextView,
        id="qksy",
        text="CLR",
        gravity="center",
        textSize="15.6sp",
        layout_width="fill",
        layout_weight="1",
        textColor=0xFF68AFE5,
        Typeface=Typeface.DEFAULT_BOLD,
        onClick=function()
          Binwb.text="" Octwb.text="" Decwb.text="" Hexwb.text=""
          srzf.text="" srzf.setVisibility(8)lzf.setVisibility(0)
        end
      },
    },
    {
      LinearLayout,
      layout_height="fill",
      orientation="vertical",
      layout_width=(w-geth(toolbar))/5,
      {
        TextView,
        id="sr3",
        text="3",
        gravity="center",
        textSize="15.6sp",
        layout_width="fill",
        layout_weight="1",
        textColor=0xFF000000,
        Typeface=Typeface.DEFAULT_BOLD,
        onClick=function()
          if fromjz~="Bin" then
            srzf.setVisibility(0)lzf.setVisibility(8)
            srzf.text=srzf.text.."3"
          end
          if fromjz=="Oct" then
            Octwb.text=q0(srzf.text)
            Binwb.text=Oct2Bin(srzf.text)
            Decwb.text=Bin2Dec(Binwb.text)
            Hexwb.text=Bin2Hex(Binwb.text)
          elseif fromjz=="Dec" then
            Decwb.text=q0(srzf.text)
            Binwb.text=Dec2Bin(srzf.text)
            Octwb.text=Bin2Oct(Binwb.text)
            Hexwb.text=Bin2Hex(Binwb.text)
          elseif fromjz=="Hex" then
            Hexwb.text=q0(srzf.text)
            Binwb.text=Hex2Bin(srzf.text)
            Octwb.text=Bin2Oct(Binwb.text)
            Decwb.text=Bin2Dec(Binwb.text)
          end
        end
      },
      {
        TextView,
        id="sr6",
        text="6",
        gravity="center",
        textSize="15.6sp",
        layout_width="fill",
        layout_weight="1",
        textColor=0xFF000000,
        Typeface=Typeface.DEFAULT_BOLD,
        onClick=function()
          if fromjz~="Bin" then
            srzf.setVisibility(0)lzf.setVisibility(8)
            srzf.text=srzf.text.."6"
          end
          if fromjz=="Oct" then
            Octwb.text=q0(srzf.text)
            Binwb.text=Oct2Bin(srzf.text)
            Decwb.text=Bin2Dec(Binwb.text)
            Hexwb.text=Bin2Hex(Binwb.text)
          elseif fromjz=="Dec" then
            Decwb.text=q0(srzf.text)
            Binwb.text=Dec2Bin(srzf.text)
            Octwb.text=Bin2Oct(Binwb.text)
            Hexwb.text=Bin2Hex(Binwb.text)
          elseif fromjz=="Hex" then
            Hexwb.text=q0(srzf.text)
            Binwb.text=Hex2Bin(srzf.text)
            Octwb.text=Bin2Oct(Binwb.text)
            Decwb.text=Bin2Dec(Binwb.text)
          end
        end
      },
      {
        TextView,
        id="sr9",
        text="9",
        gravity="center",
        textSize="15.6sp",
        layout_width="fill",
        layout_weight="1",
        textColor=0xFF000000,
        Typeface=Typeface.DEFAULT_BOLD,
        onClick=function()
          if fromjz~="Bin" and fromjz~="Oct" then
            srzf.setVisibility(0)lzf.setVisibility(8)
            srzf.text=srzf.text.."9"
          end
          if fromjz=="Dec" then
            Decwb.text=q0(srzf.text)
            Binwb.text=Dec2Bin(srzf.text)
            Octwb.text=Bin2Oct(Binwb.text)
            Hexwb.text=Bin2Hex(Binwb.text)
          elseif fromjz=="Hex" then
            Hexwb.text=q0(srzf.text)
            Binwb.text=Hex2Bin(srzf.text)
            Octwb.text=Bin2Oct(Binwb.text)
            Decwb.text=Bin2Dec(Binwb.text)
          end
        end
      },
      {
        TextView,
        id="scyw",
        text="DEL",
        gravity="center",
        textSize="15.6sp",
        layout_width="fill",
        layout_weight="1",
        textColor=0xFF68AFE5,
        Typeface=Typeface.DEFAULT_BOLD,
        onClick=function()
          srzf.text=srzf.text:sub(1,#srzf.text-1)
          if srzf.text=="" then
            Binwb.text="" Octwb.text="" Decwb.text="" Hexwb.text=""
            srzf.setVisibility(8)lzf.setVisibility(0)
          else
            if fromjz=="Bin" then
              Binwb.text=q0(srzf.text)
              Octwb.text=Bin2Oct(Binwb.text)
              Decwb.text=Bin2Dec(Binwb.text)
              Hexwb.text=Bin2Hex(Binwb.text)
            elseif fromjz=="Oct" then
              Octwb.text=q0(srzf.text)
              Binwb.text=Oct2Bin(srzf.text)
              Decwb.text=Bin2Dec(Binwb.text)
              Hexwb.text=Bin2Hex(Binwb.text)
            elseif fromjz=="Dec" then
              Decwb.text=q0(srzf.text)
              Binwb.text=Dec2Bin(srzf.text)
              Octwb.text=Bin2Oct(Binwb.text)
              Hexwb.text=Bin2Hex(Binwb.text)
            else
              Hexwb.text=q0(srzf.text)
              Binwb.text=Hex2Bin(srzf.text)
              Octwb.text=Bin2Oct(Binwb.text)
              Decwb.text=Bin2Dec(Binwb.text)
            end
          end
        end
      },
    },
    {
      LinearLayout,
      layout_height="fill",
      orientation="vertical",
      layout_width=(w-geth(toolbar))/5,
      {
        TextView,
        id="srA",
        text="A",
        gravity="center",
        textSize="15.6sp",
        layout_width="fill",
        layout_weight="1",
        textColor=0xFFB2B2B2,
        Typeface=Typeface.DEFAULT_BOLD,
        onClick=function()
          if fromjz=="Hex" then
            srzf.setVisibility(0)lzf.setVisibility(8)
            srzf.text=srzf.text.."A"
            Hexwb.text=q0(srzf.text)
            Binwb.text=Hex2Bin(srzf.text)
            Octwb.text=Bin2Oct(Binwb.text)
            Decwb.text=Bin2Dec(Binwb.text)
          end
        end
      },
      {
        TextView,
        id="srC",
        text="C",
        gravity="center",
        textSize="15.6sp",
        layout_width="fill",
        layout_weight="1",
        textColor=0xFFB2B2B2,
        Typeface=Typeface.DEFAULT_BOLD,
        onClick=function()
          if fromjz=="Hex" then
            srzf.setVisibility(0)lzf.setVisibility(8)
            srzf.text=srzf.text.."C"
            Hexwb.text=q0(srzf.text)
            Binwb.text=Hex2Bin(srzf.text)
            Octwb.text=Bin2Oct(Binwb.text)
            Decwb.text=Bin2Dec(Binwb.text)
          end
        end
      },
      {
        TextView,
        id="srE",
        text="E",
        gravity="center",
        textSize="15.6sp",
        layout_width="fill",
        layout_weight="1",
        textColor=0xFFB2B2B2,
        Typeface=Typeface.DEFAULT_BOLD,
        onClick=function()
          if fromjz=="Hex" then
            srzf.setVisibility(0)lzf.setVisibility(8)
            srzf.text=srzf.text.."E"
            Hexwb.text=q0(srzf.text)
            Binwb.text=Hex2Bin(srzf.text)
            Octwb.text=Bin2Oct(Binwb.text)
            Decwb.text=Bin2Dec(Binwb.text)
          end
        end
      },
      {
        TextView,
        layout_width="fill",
        layout_weight="1",
      },
    },
    {
      LinearLayout,
      layout_height="fill",
      orientation="vertical",
      layout_width=(w-geth(toolbar))/5,
      {
        TextView,
        id="srB",
        text="B",
        gravity="center",
        textSize="15.6sp",
        layout_width="fill",
        layout_weight="1",
        textColor=0xFFB2B2B2,
        Typeface=Typeface.DEFAULT_BOLD,
        onClick=function()
          if fromjz=="Hex" then
            srzf.setVisibility(0)lzf.setVisibility(8)
            srzf.text=srzf.text.."B"
            Hexwb.text=q0(srzf.text)
            Binwb.text=Hex2Bin(srzf.text)
            Octwb.text=Bin2Oct(Binwb.text)
            Decwb.text=Bin2Dec(Binwb.text)
          end
        end
      },
      {
        TextView,
        id="srD",
        text="D",
        gravity="center",
        textSize="15.6sp",
        layout_width="fill",
        layout_weight="1",
        textColor=0xFFB2B2B2,
        Typeface=Typeface.DEFAULT_BOLD,
        onClick=function()
          if fromjz=="Hex" then
            srzf.setVisibility(0)lzf.setVisibility(8)
            srzf.text=srzf.text.."D"
            Hexwb.text=q0(srzf.text)
            Binwb.text=Hex2Bin(srzf.text)
            Octwb.text=Bin2Oct(Binwb.text)
            Decwb.text=Bin2Dec(Binwb.text)
          end
        end
      },
      {
        TextView,
        id="srF",
        text="F",
        gravity="center",
        textSize="15.6sp",
        layout_width="fill",
        layout_weight="1",
        textColor=0xFFB2B2B2,
        Typeface=Typeface.DEFAULT_BOLD,
        onClick=function()
          if fromjz=="Hex" then
            srzf.setVisibility(0)lzf.setVisibility(8)
            srzf.text=srzf.text.."F"
            Hexwb.text=q0(srzf.text)
            Binwb.text=Hex2Bin(srzf.text)
            Octwb.text=Bin2Oct(Binwb.text)
            Decwb.text=Bin2Dec(Binwb.text)
          end
        end
      },
      {
        TextView,
        layout_width="fill",
        layout_weight="1",
      },
    },
  },
}
jzzhbj=PopupWindow(loadlayout(进制转换布局))
jzzhbj.setFocusable(true)
jzzhbj.setWidth(w)
jzzhbj.setHeight(h)
jzzhbj.setTouchable(true)
jzzhbj.setOutsideTouchable(true)
jzzhbj.showAtLocation(fltBtn.Parent,0,0,0)
波纹方(Binwb,0xFFE0E0E0)波纹方(Octwb,0xFFE0E0E0)波纹方(Decwb,0xFFE0E0E0)波纹方(Hexwb,0xFFE0E0E0)
波纹(qksy,0xFF68AFE5)波纹(scyw,0xFF68AFE5)波纹(sr0,0xFF68AFE5)波纹(sr1,0xFF68AFE5)波纹(sr2,0xFF68AFE5)波纹(sr3,0xFF68AFE5)波纹(sr4,0xFF68AFE5)波纹(sr5,0xFF68AFE5)波纹(sr6,0xFF68AFE5)波纹(sr7,0xFF68AFE5)波纹(sr8,0xFF68AFE5)波纹(sr9,0xFF68AFE5)
fromjz="Dec"
seth(Binwb,geth(Binwb)+12/32*geth(toolbar))seth(Octwb,geth(Octwb)+12/32*geth(toolbar))seth(Decwb,geth(Decwb)+12/32*geth(toolbar))seth(Hexwb,geth(Hexwb)+12/32*geth(toolbar))
Binwb.text="" Octwb.text="" Decwb.text="" Hexwb.text=""
Binwb.setLineSpacing(1.3,1.3)Octwb.setLineSpacing(1.3,1.3)Decwb.setLineSpacing(1.3,1.3)Hexwb.setLineSpacing(1.3,1.3)
Binan.getBackground().setColorFilter(PorterDuffColorFilter(0xFF9E9E9E,PorterDuff.Mode.SRC_ATOP))
Octan.getBackground().setColorFilter(PorterDuffColorFilter(0xFF9E9E9E,PorterDuff.Mode.SRC_ATOP))
Decan.getBackground().setColorFilter(PorterDuffColorFilter(0xFF68AFE5,PorterDuff.Mode.SRC_ATOP))
Hexan.getBackground().setColorFilter(PorterDuffColorFilter(0xFF9E9E9E,PorterDuff.Mode.SRC_ATOP))
end
function 归属地查询()
local dbh=h-geth(toolbar)-getStatusBarHeight()
归属地查询布局={
  LinearLayout,
  orientation="vertical",
  backgroundColor=0xFF9AAEC7,
  {
    LinearLayout,
    layout_width=w,
    orientation="horizontal",
    layout_height=geth(toolbar),
    layout_marginTop=getStatusBarHeight(),
    {
      ImageView,
      padding="15dp",
      layout_width="48dp",
      layout_height="48dp",
      ColorFilter=0xffffffff,
      layout_gravity="center",
      src="http://shp.qpic.cn/collector/2530648358/6ce8ce2c-f0ac-4c11-b6c1-2c7daf86ac60/0",
      onClick=function()gsdcxbj.dismiss()end,
    },
    {
      TextView,
      text="归属地查询",
      textColor=0xffffffff,
      layout_gravity="center",
    },
  },
  {
    LinearLayout,
    layout_width=w,
    layout_height=dbh,
    orientation="vertical",
    backgroundColor=0xffffffff,
    {
      EditText,
      id="srwb",
      gravity="top",
      padding="16dp",
      layout_width="fill",
      layout_weight="1",
      InputType="number",
      hint="请输入手机号..",
      textColor=0xff000000,
      hintTextColor=0xffa1a1a1,
      backgroundColor=0xffffffff,
    },
    {
      LinearLayout,
      layout_width=w,
      paddingTop="15dp",
      paddingBottom="15dp",
      orientation="horizontal",
      backgroundColor=0xFFFAFAFA,
      {
        LinearLayout,
        layout_width="74dp",
        layout_height="1dp",
        layout_gravity="center",
        background="#FFBABABA",
        layout_marginRight="16.5dp",
      },
      {
        ImageView,
        id="wytpz",
        padding="3dp",
        layout_width="24dp",
        layout_height="24dp",
        layout_gravity="center",
        ColorFilter=0xFF8B8B8B,
        layout_marginRight="16.5dp",
        src="http://shp.qpic.cn/collector/2530648358/9447f207-fea3-4ef1-a687-0c9a9da08a8a/0",
      },
      {
        CardView,
        radius=0,
        elevation=0,
        layout_weight="1",
        layout_height="40dp",
        cardBackgroundColor=0xFF9AAEC7,
        {
          ImageView,
          id="cxan",
          padding="9dp",
          layout_width="fill",
          layout_height="fill",
          ColorFilter=0xFFFFFFFF,
          src="http://shp.qpic.cn/collector/2530648358/3f3bb2ba-b563-4c64-ba2a-c2bb8ccedd76/0",
          onClick=function()
            if srwb.text~="" then
              Http.get("https://tcc.taobao.com/cc/json/mobile_tel_segment.htm?tel="..srwb.text,nil,"GBK",nil,function(code,content)
                if code==200 then
                  if not content:find"province:''" then
                    xqwb.text="归属地为"..content:match("province:'(.-)'").."，运营商为"..content:match("catName:'(.-)'").."。"
                  end
                end
              end)
            end
            wytpz.setColorFilter(0xFFBDBDBD)
            wytpy.setColorFilter(0xFFBDBDBD)
          end,
        },
      },
      {
        ImageView,
        id="wytpy",
        rotation=180,
        padding="3dp",
        layout_width="24dp",
        layout_height="24dp",
        layout_gravity="center",
        ColorFilter=0xFF8B8B8B,
        layout_marginLeft="16.5dp",
        src="http://shp.qpic.cn/collector/2530648358/9447f207-fea3-4ef1-a687-0c9a9da08a8a/0",
      },
      {
        LinearLayout,
        layout_width="74dp",
        layout_height="1dp",
        layout_gravity="center",
        background="#FFBABABA",
        layout_marginLeft="16.5dp",
      },
    },
    {
      LinearLayout,
      layout_width=w,
      layout_weight="1",
      orientation="vertical",
      {
        EditText,
        id="xqwb",
        gravity="top",
        padding="16dp",
        layout_width=w,
        layout_weight="1",
        textColor=0xff000000,
        hintTextColor=0xffa1a1a1,
        backgroundColor=0xffffffff,
      },
      {
        LinearLayout,
        layout_height=math.sqrt(2*(28/32*geth(toolbar)^2))-(28/32*geth(toolbar)),
      },
      {
        ImageView,
        id="fzjg",
        padding="16dp",
        layout_width="56dp",
        layout_height="56dp",
        layout_gravity="right",
        src="http://shp.qpic.cn/collector/2530648358/936bf7ca-d0f1-4f81-b0d1-ddd28b7255a3/0",
        onClick=function()复制文本(xqwb.text)提示"复制完成"end,
      },
    },
  },
}
gsdcxbj=PopupWindow(loadlayout(归属地查询布局))
gsdcxbj.setFocusable(true)
gsdcxbj.setWidth(w)
gsdcxbj.setHeight(h)
gsdcxbj.setTouchable(true)
gsdcxbj.setOutsideTouchable(true)
gsdcxbj.showAtLocation(fltBtn.Parent,0,0,0)
波纹(fzjg,0xFFE2E2E2)波纹(cxan,0xFF68AFE5)
颜色(xqwb,0xFF68AFE5)颜色(srwb,0xFF68AFE5)
end
function 历史上的今天()
  lssjbj=nil
  历史上的今天布局={
    LinearLayout,
    layout_width=w,
    layout_height=h,
    orientation="vertical",
    backgroundColor=0xFFFFFFFF,
    {
      FrameLayout,
      {
        ScrollView,
        id="lssdjthd",
        layout_width=w,
        VerticalScrollBarEnabled=false,
        layout_height=h-getStatusBarHeight(),
        {
          LinearLayout,
          id="sjlb",
          layout_width="fill",
          paddingTop="56dp",
        },
      },
      {
        LinearLayout,
        id="lssdjtdl",
        layout_width=w,
        layout_height="56dp",
        orientation="horizontal",
        backgroundColor=0xFF9AAEC7,
        {
          ImageView,
          padding="13dp",
          layout_width="48dp",
          layout_height="48dp",
          ColorFilter=0xffffffff,
          layout_gravity="center",
          src="http://shp.qpic.cn/collector/2530648358/6ce8ce2c-f0ac-4c11-b6c1-2c7daf86ac60/0",
          onClick=function()lssdjtbj.dismiss()end,
        },
        {
          TextView,
          textSize="20sp",
          layout_weight="1",
          textColor=0xffffffff,
          paddingLeft="17dp",
          text="历史上的今天",
          layout_gravity="center",
        },
        {
          ImageView,
          id="qhrq",
          padding="13dp",
          layout_width="48dp",
          layout_height="48dp",
          ColorFilter=0xffffffff,
          layout_gravity="center",
          src="http://shp.qpic.cn/collector/2530648358/e47001d6-67c4-4775-91c5-2866fb390334/0",
          onClick=function()
            切换日期布局={
              LinearLayout,
              id="bjbj",
              layout_width=w,
              layout_height=h,
              backgroundColor=0x80000000,
              {
                CardView,
                id="bjkp",
                radius="10dp",
                layout_width=w,
                layout_gravity="bottom",
                layout_marginBottom="-10dp",
                cardBackgroundColor=0xFFFFFFFF,
                {
                  LinearLayout,
                  layout_width=w,
                  orientation="vertical",
                  {
                    LinearLayout,
                    layout_width=w,
                    paddingTop="24dp",
                    paddingLeft="32dp",
                    paddingRight="24dp",
                    orientation="horizontal",
                    {
                      TextView,
                      textSize="17sp",
                      layout_weight="1",
                      text="切换日期",
                      layout_gravity="center",
                      textColor=0xFF000000,
                      Typeface=Typeface.DEFAULT_BOLD,
                    },
                    {
                      ImageView,
                      padding="15dp",
                      id="gbqhrqbj",
                      layout_width="55dp",
                      layout_height="55dp",
                      layout_gravity="center",
                      ColorFilter=0xFF707070,
                      src="http://shp.qpic.cn/collector/2530648358/6a4d61ec-a43b-454e-87c7-3a471e95e51a/0",
                      onClick=function()关闭切换日期布局()end,
                    },
                  },
                  {
                    LinearLayout,
                    layout_height="7dp",
                  },
                  {
                    LinearLayout,
                    layout_width=w,
                    paddingLeft="32dp",
                    paddingRight="32dp",
                    orientation="vertical",
                    {
                      TextView,
                      textSize="12sp",
                      paddingLeft="2dp",
                      textColor=0xFF68AFE5,
                      text="请输入月份与日期，如0903,1001,0727",
                    },
                    {
                      EditText,
                      id="rqwb",
                      singleLine=true,
                      layout_width="fill",
                      textColor=0xFF000000,
                    },
                  },
                  {
                    LinearLayout,
                    gravity="right",
                    layout_width=w,
                    paddingTop="17dp",
                    paddingRight="32dp",
                    paddingBottom="43dp",
                    {
                      LinearLayout,
                      layout_height="46dp",
                      {
                        CardView,
                        radius="5dp",
                        layout_gravity="center",
                        cardBackgroundColor=0xFF68AFE5,
                        {
                          TextView,
                          text="前往",
                          gravity="center",
                          layout_height="36dp",
                          layout_width="87.5dp",
                          textColor=0xFFFFFFFF,
                          onClick=function()
                            关闭切换日期布局()
                            task(200,function()
                              获取历史事件(rqwb.text)
                            end)
                          end,
                        },
                      },
                    },
                  },
                },
              },
            }
            qhrqbj=PopupWindow(loadlayout(切换日期布局))
            qhrqbj.setFocusable(true)
            qhrqbj.setWidth(w)
            qhrqbj.setHeight(h)
            qhrqbj.setTouchable(true)
            qhrqbj.setOutsideTouchable(true)
            qhrqbj.showAtLocation(fltBtn.Parent,0,0,0)
            波纹(gbqhrqbj,0xFFE2E2E2)
            位移动画(bjkp,200,0,0,geth(bjkp),0)
            activity.getSystemService(Context.INPUT_METHOD_SERVICE).toggleSoftInput(0,InputMethodManager.RESULT_SHOWN)
            function 关闭切换日期布局()
              位移动画(bjkp,200,0,0,0,geth(bjkp))
              task(199,function()
                activity.getSystemService(Context.INPUT_METHOD_SERVICE).hideSoftInputFromWindow(rqwb.getWindowToken(),0)
                qhrqbj.dismiss()
              end)
            end
            颜色(rqwb,0xFF68AFE5)
            rqwb.getBackground().setColorFilter(PorterDuffColorFilter(0xFF68AFE5,PorterDuff.Mode.SRC_ATOP));
            bjkpsety=0
            bjbj.onTouch=function(v,e)
              a=e.getAction()&255
              if a==MotionEvent.ACTION_DOWN then
                if e.getY()>=h-geth(bjkp) then
                  csdjwz=e.getY()
                 else
                  csdjwz=h+1
                end
               elseif a==MotionEvent.ACTION_MOVE then
                if csdjwz==h+1 then
                 elseif csdjwz>e.getY() then
                  csdjwz=e.getY()
                 else
                  bjkpsety=h-geth(bjkp)+e.getY()-csdjwz+10/32*geth(toolbar)
                  bjkp.setY(bjkpsety)
                end
               elseif a==MotionEvent.ACTION_UP then
                if csdjwz==h+1 then
                  关闭切换日期布局()
                 elseif bjkpsety>=h-0.5*geth(bjkp) then
                  关闭切换日期布局()
                 else
                  bjkp.setY(h-geth(bjkp)+10/32*geth(toolbar))
                  位移动画(bjkp,150,0,0,bjkpsety-(h-geth(bjkp)+10/32*geth(toolbar)),0)
                end
              end
              return true
            end
          end,
        },
      },
    },
  }
  lssdjtbj=PopupWindow(loadlayout(历史上的今天布局))
  lssdjtbj.setFocusable(true)
  lssdjtbj.setWidth(w)
  lssdjtbj.setHeight(h)
  lssdjtbj.setTouchable(true)
  lssdjtbj.setOutsideTouchable(true)
  lssdjtbj.showAtLocation(fltBtn.Parent,0,0,0)
  function 获取历史事件(time)
    if time then
      url="http://www.lssdjt.com/"..tointeger(time:sub(1,2)).."/"..tointeger(time:sub(3,4))
     else
      url="http://www.lssdjt.com/"
    end
    if lssjbj then
      lssjbj.setVisibility(8)
    end
    Http.get(url,nil,"utf8",nil,function(code,content)
      if code==200 then
        lssdjtsj=content:match('<ul class="list clearfix">(.-)</ul>')
        dgsj=lssdjtsj:gmatch('<li(.-)</a>')
        事件文字={}事件时间={}事件图片={}
        for i in dgsj do
          事件文字[#事件文字+1]=i:match("<i>(.-)</i>")
          事件时间[#事件时间+1]=i:match("<em>(.-)</em>"):match("(.+)年")
          事件图片链接=i:match('rel="(.-)"')
          if 事件图片链接==nil then
            collectgarbage("collect")
            事件图片[#事件图片+1]=""
           else
            事件图片[#事件图片+1]=事件图片链接
          end
        end
        单个事件适配布局=[[
{
  LinearLayout,
  padding="24dp",
  layout_width="fill",
  orientation="vertical",
  {
    TextView,
    text="事件时间",
    textSize="30sp",
    textColor=0xff000000,
    layout_marginBottom="16dp",
    Typeface=Typeface.DEFAULT_BOLD,
  },
  {
    CardView,
    radius="4dp",
    layout_width="fill",
    {
      FrameLayout,
      layout_width="fill",
      {
        ImageView,
        src="事件图片",
        layout_width="fill",
        去除layout_height=(w-1.5*geth(toolbar))/loadbitmap("事件图片").getWidth()*loadbitmap("事件图片").getHeight(),                
      },
      {
        LinearLayout,
        padding="16dp",
        layout_width="fill",
        layout_gravity="bottom",
        backgroundColor=0xE53C3C3C,
        {
          TextView,
          textColor=0xffffffff,
          text="事件文字",
          textSize="16sp",
        },
      },
    },
  },
},
]]
        历史事件布局=""
        for i=#事件文字,1,-1 do
          if 事件图片[i]=="" or (not 事件图片[i]:find"http") then
            collectgarbage("collect")
            历史事件布局=历史事件布局..单个事件适配布局:gsub("事件文字",事件文字[i]):gsub("事件时间",事件时间[i]):gsub("事件图片",事件图片[i]):gsub("去除","--")
           else
            历史事件布局=历史事件布局..单个事件适配布局:gsub("事件文字",事件文字[i]):gsub("事件时间",事件时间[i]):gsub("事件图片",事件图片[i]):gsub("去除","")
          end
        end
        历史事件布局=[[{
LinearLayout,
id="lssjbj",
orientation="vertical",
layout_width="fill",
]]..历史事件布局.."}"
        b=loadstring("return "..历史事件布局)历史事件布局=b()
        sjlb.addView(loadlayout(历史事件布局))
        lssdjtdlsety=0
        lssdjthd.setOnScrollChangeListener(ScrollView.OnScrollChangeListener{
          onScrollChange=function(v,nowx,nowy,oldx,oldy)
            if nowy>=0 and nowy<=sjlb.getHeight()-h+getStatusBarHeight() then
              if lssdjtdlsety+nowy-oldy>=0 and lssdjtdlsety+nowy-oldy<=56/32*geth(toolbar)then
                lssdjtdlsety=lssdjtdlsety+nowy-oldy
                lssdjtdl.setY(-lssdjtdlsety)
               else
                if lssdjtdlsety+nowy-oldy>56/32*geth(toolbar)then
                  lssdjtdlsety=56/32*geth(toolbar)
                  lssdjtdl.setY(-lssdjtdlsety)
                 else
                  lssdjtdlsety=0
                  lssdjtdl.setY(-56/32*lssdjtdlsety)
                end
              end
            end
          end
        })
      end
    end)
  end
  获取历史事件()
end
function 全球IP查询()
全球IP查询布局={
  LinearLayout,
  layout_width=w,
  layout_height=h,
  orientation="vertical",
  backgroundColor=0xFFFFFFFF,
  {
    LinearLayout,
    layout_width=w,
    layout_height="32dp",
    backgroundColor=0xFF9AAEC7,
    {
      TextView,
      text="全球IP查询",
      textColor=0xffffffff,
      layout_gravity="center",
      paddingLeft="13dp",
    },
  },
  {
    LinearLayout,
    layout_width="fill",
    layout_height="96dp",
    paddingTop="24dp",
    paddingLeft="24dp",
    paddingRight="24dp",
    paddingBottom="16dp",
    {
      CardView,
      elevation=0,
      radius="4dp",
      layout_width="fill",
      {
        LinearLayout,
        layout_width="fill",
        orientation="horizontal",
        {
          EditText,
          id="ipwb",
          padding="16dp",
          singleLine=true,
          layout_height="56dp",
          layout_weight="1",
          hintTextColor=0xFFA1A1A1,
          backgroundColor=0xFFFAFAFA,
          hint="请输入要查询的IP地址",
        },
        {
          ImageView,
          id="cxip",
          colorFilter=0xFFFFFFFF,
          layout_width="64dp",
          padding="16dp",
          paddingLeft="24dp",
          src="http://shp.qpic.cn/collector/2530648358/4801ab8c-3258-4d1b-aad2-40740e2456f8/0",
          onClick=function()
            获取IP信息(ipwb.text)
          end,
        },
      },
    },
  },
  {
    TextView,
    paddingLeft="24dp",
    text="使用我的IP地址",
    textColor=0xFF68AFE5,
    onClick=function()
      获取IP信息()
    end,
  },
  {
    ScrollView,
    padding="24dp",
    {
      LinearLayout,
      id="ipxqbj",
      visibility=4,
      layout_width="fill",
      orientation="vertical",
      {
        LinearLayout,
        layout_width="fill",
        orientation="horizontal",
        {
          LinearLayout,
          padding="16.5dp",
          orientation="horizontal",
          layout_width=(w-1.5*geth(toolbar))/2,
          {
            TextView,
            text="国家",
            textSize="16sp",
            textColor=0xFF68AFE5,
          },
          {
            TextView,
            id="gjwb",
            textColor=0xFF6E6E6E,
            layout_marginLeft="16.25dp",
          },
        },
        {
          LinearLayout,
          padding="16.5dp",
          orientation="horizontal",
          layout_width=(w-1.5*geth(toolbar))/2,
          {
            TextView,
            text="地区",
            textSize="16sp",
            textColor=0xFF68AFE5,
          },
          {
            TextView,
            id="dqwb",
            textColor=0xFF6E6E6E,
            layout_marginLeft="16.25dp",
          },
        },
      },
      {
        LinearLayout,
        layout_width="fill",
        orientation="horizontal",
        {
          LinearLayout,
          padding="16.5dp",
          orientation="horizontal",
          layout_width=(w-1.5*geth(toolbar))/2,
          {
            TextView,
            text="城市",
            textSize="16sp",
            textColor=0xFF68AFE5,
          },
          {
            TextView,
            id="cswb",
            textColor=0xFF6E6E6E,
            layout_marginLeft="16.25dp",
          },
        },
        {
          LinearLayout,
          padding="16.5dp",
          orientation="horizontal",
          layout_width=(w-1.5*geth(toolbar))/2,
          {
            TextView,
            text="城市代码",
            textSize="16sp",
            textColor=0xFF68AFE5,
          },
          {
            TextView,
            id="csdmwb",
            textColor=0xFF6E6E6E,
            layout_marginLeft="16.25dp",
          },
        },
      },
      {
        LinearLayout,
        layout_width="fill",
        orientation="horizontal",
        {
          LinearLayout,
          padding="16.5dp",
          orientation="horizontal",
          layout_width=(w-1.5*geth(toolbar))/2,
          {
            TextView,
            text="区/县",
            textSize="16sp",
            textColor=0xFF68AFE5,
          },
          {
            TextView,
            id="qxwb",
            textColor=0xFF6E6E6E,
            layout_marginLeft="16.25dp",
          },
        },
        {
          LinearLayout,
          padding="16.5dp",
          orientation="horizontal",
          layout_width=(w-1.5*geth(toolbar))/2,
          {
            TextView,
            text="运营商",
            textSize="16sp",
            textColor=0xFF68AFE5,
          },
          {
            TextView,
            id="yyswb",
            textColor=0xFF6E6E6E,
            layout_marginLeft="16.25dp",
          },
        },
      },
      {
        LinearLayout,
        layout_width="fill",
        orientation="horizontal",
        {
          LinearLayout,
          padding="16.5dp",
          orientation="horizontal",
          layout_width=(w-1.5*geth(toolbar))/2,
          {
            TextView,
            text="IP地址",
            textSize="16sp",
            textColor=0xFF68AFE5,
          },
          {
            TextView,
            id="ipdzwb",
            textColor=0xFF6E6E6E,
            layout_marginLeft="16.25dp",
          },
        },
        {
          LinearLayout,
          padding="16.5dp",
          orientation="horizontal",
          layout_width=(w-1.5*geth(toolbar))/2,
          {
            TextView,
            text="经度",
            textSize="16sp",
            textColor=0xFF68AFE5,
          },
          {
            TextView,
            id="jdwb",
            textColor=0xFF6E6E6E,
            layout_marginLeft="16.25dp",
          },
        },
      },
      {
        LinearLayout,
        layout_width="fill",
        orientation="horizontal",
        {
          LinearLayout,
          padding="16.5dp",
          orientation="horizontal",
          layout_width=(w-1.5*geth(toolbar))/2,
          {
            TextView,
            text="纬度",
            textSize="16sp",
            textColor=0xFF68AFE5,
          },
          {
            TextView,
            id="wdwb",
            textColor=0xFF6E6E6E,
            layout_marginLeft="16.25dp",
          },
        },
      },
    },
  },
}
qqipcxbj=PopupWindow(loadlayout(全球IP查询布局))
qqipcxbj.setFocusable(true)
qqipcxbj.setWidth(w)
qqipcxbj.setHeight(h)
qqipcxbj.setTouchable(true)
qqipcxbj.setOutsideTouchable(true)
qqipcxbj.showAtLocation(fltBtn.Parent,0,0,0)
颜色(ipwb,0xFF68AFE5)
cxip.setBackgroundDrawable(GradientDrawable(GradientDrawable.Orientation.LEFT_RIGHT,{0xFFFAFAFA,0xFF9AAEC7}))
--[[function 获取IP信息(ip)
  if ip then
    url="https://www.ipip.net/ip/"..ipwb.text..".html"
  else
    url="https://www.ipip.net/ip/"
  end
  Http.get(url,nil,"utf8",nil,function(code,content)
    if code==200 then
      位置=content:match('720px;">(.-)</span>')
      国家文本=位置:match("(.+) "):match("(.+) "):match("(.+) ")
      地区文本=位置:match(国家文本.." (.+)"):match("(.+) "):match("(.+) ")
      城市文本=位置:match(地区文本.." (.+)"):match("(.+) ")
      区县文本=位置:match(城市文本.." (.+)")
      运营商文本=content:match("运营商(.-)</tr>"):match('46px;">(.-)</span>')
      ip地址文本=content:match("当前IP(.+)</span>"):match('html">(.-)</a>')
      经纬度=content:match("地区中心经纬度(.-)</span>"):match('46px;">(.+)')
      纬度文本=经纬度:match("(.+),")
      经度文本=经纬度:match(", (.+)")
      gjwb.text=国家文本
      dqwb.text=地区文本
      cswb.text=城市文本
      qxwb.text=区县文本
      yyswb.text=运营商文本
      ipdzwb.text=ip地址文本
      jdwb.text=经度文本
      wdwb.text=纬度文本
    end
  end)
end]]
function 获取IP信息(ip)
  if ip then
    url="http://whois.pconline.com.cn/ipJson.jsp?json=true&ip="..ip
    url2="http://ip-api.com/json/"..ip
  else
    url="http://whois.pconline.com.cn/ipJson.jsp?json=true"
    url2="http://ip-api.com/json/"
  end
  Http.get(url,nil,"GBK",nil,function(code,content)
    if code==200 then
      Http.get(url2,nil,"GBK",nil,function(code,content2)
        if code==200 then
          ipxqbj.setVisibility(0)
          dqwb.text=content:match('"pro":"(.-)"')
          cswb.text=content:match('"city":"(.-)"')
          csdmwb.text=content:match('"cityCode":"(.-)"')
          yyswb.text=content:match('"addr":"(.-)"'):match(" (.+)")
          ipdzwb.text=content:match('"ip":"(.-)"')
          gjwb.text=content2:match('"country":"(.-)"')
          jdwb.text=content2:match('"lon":(.-),"')
          wdwb.text=content2:match('"lat":(.-),"')
        else
          提示"查询失败"
        end
      end)
    else
      提示"查询失败"
    end
  end)
end
end
function 垃圾分类查询()
item={
  LinearLayout,
  orientation="vertical",
  {
    LinearLayout,
    padding="24dp",
    layout_width=w,
    orientation="horizontal",
    {
      ImageView,
      id="ljzltp",
      padding="2dp",
      layout_width="31dp",
      layout_height="31dp",
      layout_gravity="center",
    },
    {
      LinearLayout,
      layout_weight="1",
      orientation="vertical",
      layout_marginLeft="25dp",
      {
        TextView,
        id="ljmc",
        textSize="16sp",
        textColor=0xFF000000,
        Typeface=Typeface.DEFAULT_BOLD,
      },
      {
        TextView,
        id="ljzl",
        textColor=0xFF6E6E6E,
        layout_marginTop="8.5dp",
      },
    },
    {
      ImageView,
      layout_width="24dp",
      layout_height="24dp",
      layout_gravity="center",
      ColorFilter=0xFF6E6E6E,
      src="http://shp.qpic.cn/collector/2530648358/df4540cf-e4b0-4b2a-a660-3c6853451b3d/0",
    },
  },
  {
    LinearLayout,
    layout_width=w,
    layout_height="7.5dp",
    backgroundColor=0xFFF5F5F5,
  },
}
垃圾分类查询布局={
  LinearLayout,
  layout_height=h,
  orientation="vertical",
  backgroundColor=0xFFFFFFFF,
  {
    LinearLayout,
    padding="24dp",
    layout_width=w,
    elevation="2dp",
    orientation="vertical",
    layout_marginTop="-24dp",
    backgroundColor=0xFF9AAEC7,
    {
      LinearLayout,
      layout_height="32dp",
      {
        TextView,
        text="垃圾分类查询",
        textColor=0xffffffff,
        layout_gravity="center",
        Typeface=Typeface.DEFAULT_BOLD,
      },
    },
    {
      CardView,
      id="kddhk",
      radius="4dp",
      elevation=0,
      Focusable=true,
      layout_width="fill",
      layout_height="48dp",
      FocusableInTouchMode=true,
      CardBackgroundColor=0xffffffff,
      {
        LinearLayout,
        orientation="horizontal",
        {
          FrameLayout,
          layout_weight="1",
          layout_gravity="center",
          {
            LinearLayout,
            layout_width=w,
          },
          {
            EditText,
            id="ljmcwb",
            singleLine=true,
            textSize="14sp",
            singleLine=true,
            layout_width="fill",
            paddingLeft="16dp",
            hint="你是什么垃圾?",
            textColor=0xff000000,
            hintTextColor=0xFFB6B6B6,
            backgroundColor=0xffffffff,
          },
        },
        {
          ImageView,
          id="cxlj",
          padding="11dp",
          layout_width="48dp",
          layout_height="48dp",
          layout_gravity="center",
          ColorFilter=0xFFB6B6B6,
          src="http://shp.qpic.cn/collector/2530648358/4801ab8c-3258-4d1b-aad2-40740e2456f8/0",
          onClick=function()
            Http.get("https://api.applet.woobx.cn/garbage.htm?name="..ljmcwb.text,nil,"utf8",nil,function(code,content)
              if code==200 then
                if content:find"name" then
                  ljlb=content:match('"newslist":(.+)')
                  垃圾名称={}垃圾种类={}垃圾图片={}垃圾解释={}类似垃圾={}垃圾处理={}
                  JSON=import"cjson"
                  if ljlb:sub(#ljlb-3,#ljlb-3)=="}" then
                    json_o=JSON.decode(ljlb:sub(1,#ljlb-2))
                  else
                    json_o=JSON.decode(ljlb:sub(1,#ljlb-3))
                  end
                  for i,v in ipairs(json_o) do
                    垃圾名称[i]=v.name
                    垃圾解释[i]=v.explain
                    类似垃圾[i]=v.contain
                    垃圾处理[i]=v.tip
                    if v.type==0 then
                      垃圾种类[i]="可回收垃圾"
                      垃圾图片[i]="http://shp.qpic.cn/collector/2530648358/5832fcde-e425-4afd-9a7e-d872aa2f50dd/0"
                    elseif v.type==1 then
                      垃圾种类[i]="有害垃圾"
                      垃圾图片[i]="http://shp.qpic.cn/collector/2530648358/41b8dea8-c9f5-4999-96d7-eec4316184fa/0"
                    elseif v.type==2 then
                      垃圾种类[i]="湿(厨余)垃圾"
                      垃圾图片[i]="http://shp.qpic.cn/collector/2530648358/60a42684-9190-4c43-9a6c-f4163c66a302/0"
                    elseif v.type==3 then
                      垃圾种类[i]="干垃圾"
                      垃圾图片[i]="http://shp.qpic.cn/collector/2530648358/e64ccbce-18c8-412b-9e73-2b0f87642f5c/0"
                    end
                  end
                  data={}
                  for i=1,#垃圾名称 do
                    table.insert(data,{ljzltp=垃圾图片[i],ljmc=垃圾名称[i],ljzl=垃圾种类[i]})
                  end
                  adp=LuaAdapter(activity,data,item)
                  ljxqlb.Adapter=adp
                  ljxqlb.onItemClick=function(l,v,p,id)
                    查看垃圾详细信息(垃圾种类[id],垃圾解释[id],类似垃圾[id],垃圾处理[id])
                  end
                else
                  提示"查询错误。"
                end
              else
                提示"查询失败。"
              end
            end)
          end,
        },
      },
    },
  },
  {
    ListView,
    id="ljxqlb",
    DividerHeight=0,
    layout_width="fill",
    VerticalScrollBarEnabled=false,
    layout_height=h-getStatusBarHeight()-3.25*geth(toolbar),
  },
}
ljflcxbj=PopupWindow(loadlayout(垃圾分类查询布局))
ljflcxbj.setFocusable(true).setWidth(w).setHeight(h).setTouchable(true).setOutsideTouchable(true).showAtLocation(fltBtn.Parent,0,0,0)
颜色(ljmcwb,0xFF60ACE5)波纹(cxlj,0xFFE2E2E2)
function 查看垃圾详细信息(ljzl,ljjs,lslj,ljcl)
  查看垃圾详细信息布局={
    LinearLayout,
    id="bjbj",
    layout_width=w,
    layout_height=h,
    backgroundColor=0x80000000,
    {
      CardView,
      id="bjkp",
      radius="10dp",
      layout_width=w,
      layout_gravity="bottom",
      layout_marginBottom="-10dp",
      cardBackgroundColor=0xFFFFFFFF,
      {
        LinearLayout,
        layout_width=w,
        orientation="vertical",
        {
          LinearLayout,
          layout_width=w,
          paddingTop="24dp",
          paddingLeft="32dp",
          paddingRight="24dp",
          orientation="horizontal",
          {
            ImageView,
            layout_width="24dp",
            layout_height="24dp",
            layout_gravity="center",
            ColorFilter=0xFF9AAEC7,
            src="http://shp.qpic.cn/collector/2530648358/382bcee3-8685-4b5b-9be6-c766388ce2ca/0"
          },
          {
            TextView,
            textSize="17sp",
            layout_weight="1",
            text=ljzl.."是什么？",
            layout_gravity="center",
            textColor=0xFF000000,
            layout_marginLeft="16dp",
            Typeface=Typeface.DEFAULT_BOLD,
          },
          {
            ImageView,
            padding="15dp",
            id="gbckljxxxxbj",
            layout_width="55dp",
            layout_height="55dp",
            layout_gravity="center",
            ColorFilter=0xFF707070,
            src="http://shp.qpic.cn/collector/2530648358/6a4d61ec-a43b-454e-87c7-3a471e95e51a/0",
            onClick=function()关闭查看垃圾详细信息布局()end,
          },
        },
        {
          LinearLayout,
          paddingTop="8dp",
          paddingLeft="32dp",
          paddingRight="32dp",
          orientation="vertical",
          paddingBottom="24dp",
          {
            TextView,
            text=ljjs,
            textColor=0xFF6E6E6E,
          },
          {
            TextView,
            textSize="17sp",
            textColor=0xFF000000,
            text="有什么常见的"..ljzl,
            layout_marginTop="16dp",
            Typeface=Typeface.DEFAULT_BOLD,
          },
          {
            TextView,
            text=lslj,
            textColor=0xFF6E6E6E,
            layout_marginTop="16dp",
          },
        },
        {
          TextView,
          text=ljcl,
          padding="24dp",
          textColor=0xFF6E6E6E,
          backgroundColor=0xFFF5F5F5,
        },
      },
    },
  }
  ckljxxxxbj=PopupWindow(loadlayout(查看垃圾详细信息布局))
  ckljxxxxbj.setFocusable(true).setWidth(w).setHeight(h).setTouchable(true).setOutsideTouchable(true).showAtLocation(fltBtn.Parent,0,0,0)
  波纹(gbckljxxxxbj,0xFFE2E2E2)
  位移动画(bjkp,200,0,0,geth(bjkp),0)
  function 关闭查看垃圾详细信息布局()
    位移动画(bjkp,200,0,0,0,geth(bjkp))
    task(199,function()
      ckljxxxxbj.dismiss()
    end)
  end
  bjkpsety=0
  bjbj.onTouch=function(v,e)
    a=e.getAction()&255
    if a==MotionEvent.ACTION_DOWN then
      if e.getY()>=h-geth(bjkp) then
        csdjwz=e.getY()
       else
        csdjwz=h+1
      end
     elseif a==MotionEvent.ACTION_MOVE then
      if csdjwz==h+1 then
       elseif csdjwz>e.getY() then
        csdjwz=e.getY()
       else
        bjkpsety=h-geth(bjkp)+e.getY()-csdjwz+10/32*geth(toolbar)
        bjkp.setY(bjkpsety)
      end
     elseif a==MotionEvent.ACTION_UP then
      if csdjwz==h+1 then
        关闭查看垃圾详细信息布局()
       elseif bjkpsety>=h-0.5*geth(bjkp) then
        关闭查看垃圾详细信息布局()
       else
        bjkp.setY(h-geth(bjkp)+10/32*geth(toolbar))
        位移动画(bjkp,150,0,0,bjkpsety-(h-geth(bjkp)+10/32*geth(toolbar)),0)
      end
    end
    return true
  end
end
end
function 打字板()
文本颜色=io.open("/data/data/"..activity.getPackageName().."/打字板"):read("*a"):match('"文本颜色":"(.-)"')
背景色=io.open("/data/data/"..activity.getPackageName().."/打字板"):read("*a"):match('"背景色":"(.-)"')
打字板布局={
  LinearLayout,
  layout_width=w,
  layout_height=h,
  backgroundColor=0xFFFFFFFF,
  {
    FrameLayout,
    id="dzbbjys",
    layout_width=w,
    layout_height=h,
    backgroundColor=背景色,
    {
      TextView,
      text=" ",
      id="dzbwb",
      rotation=90,
      layout_width=h,
      padding="20dp",
      textSize="90sp",
      textColor=文本颜色,
      layout_gravity="center",
      Typeface=Typeface.DEFAULT_BOLD,
    },
    {
      ImageView,
      id="szdzbtp",
      padding="25dp",
      layout_width="72dp",
      layout_height="72dp",
      ColorFilter=0xFF6C6C6C,
      layout_gravity="right|bottom",
      src="http://shp.qpic.cn/collector/2530648358/1892b051-d8b1-4e06-a399-e0529fc91647/0",
      onClick=function()
        文本颜色=io.open("/data/data/"..activity.getPackageName().."/打字板"):read("*a"):match('"文本颜色":"(.-)"')
        背景色=io.open("/data/data/"..activity.getPackageName().."/打字板"):read("*a"):match('"背景色":"(.-)"')
        修改打字板布局={
          LinearLayout,
          id="bjbj",
          layout_width=w,
          layout_height=h,
          backgroundColor=0x80000000,
          {
            CardView,
            id="bjkp",
            radius="10dp",
            layout_width=w,
            layout_gravity="bottom",
            layout_marginBottom="-10dp",
            cardBackgroundColor=0xFFFFFFFF,
            {
              LinearLayout,
              layout_width=w,
              orientation="vertical",
              {
                LinearLayout,
                layout_width=w,
                paddingTop="24dp",
                paddingLeft="32dp",
                paddingRight="24dp",
                orientation="horizontal",
                {
                  ImageView,
                  layout_width="24dp",
                  layout_height="24dp",
                  layout_gravity="center",
                  ColorFilter=0xFF9AAEC7,
                  src="http://shp.qpic.cn/collector/2530648358/1892b051-d8b1-4e06-a399-e0529fc91647/0",
                },
                {
                  TextView,
                  text="设置",
                  textSize="17sp",
                  layout_weight="1",
                  layout_gravity="center",
                  textColor=0xFF000000,
                  layout_marginLeft="16dp",
                  Typeface=Typeface.DEFAULT_BOLD,
                },
                {
                  ImageView,
                  padding="15dp",
                  id="gbxgdzbbj",
                  layout_width="55dp",
                  layout_height="55dp",
                  layout_gravity="center",
                  ColorFilter=0xFF707070,
                  src="http://shp.qpic.cn/collector/2530648358/6a4d61ec-a43b-454e-87c7-3a471e95e51a/0",
                  onClick=function()关闭修改打字板布局()end,
                },
              },
              {
                LinearLayout,
                layout_height="7dp",
              },
              {
                LinearLayout,
                layout_width=w,
                paddingLeft="32dp",
                paddingRight="32dp",
                orientation="vertical",
                {
                  TextView,
                  textSize="12sp",
                  paddingLeft="2dp",
                  textColor=0xFF68AFE5,
                  text="请输入文本..",
                },
                {
                   EditText,
                   id="srdzbwb",
                   layout_width="fill",
                   textColor=0xFF000000,
                   text=io.open("/data/data/"..activity.getPackageName().."/打字板"):read("*a"):match('"文本":"(.-)"'),
                },
                {
                  LinearLayout,
                  id="xzwbysbj",
                  padding="24dp",
                  layout_width="fill",
                  orientation="horizontal",
                  layout_marginTop="17.5dp",
                  onClick=function()
                    选择打字板颜色(xzwbys,"文本颜色")
                  end,
                  {
                    CardView,
                    elevation=0,
                    radius="12dp",
                    layout_width="24dp",
                    layout_height="24dp",
                    cardBackgroundColor=0xFFA4A4A4,
                    {
                      CardView,
                      id="xzwbys",
                      elevation=0,
                      radius="10.5dp",
                      layout_width="21dp",
                      layout_height="21dp",
                      layout_gravity="center",
                      cardBackgroundColor=文本颜色,
                    },
                  },
                  {
                    TextView,
                    textSize="16sp",
                    text="文本颜色",
                    layout_gravity="center",
                    textColor=0xFF000000,
                    layout_marginLeft="25dp",
                  },
                },
                {
                  LinearLayout,
                  id="xzbjsbj",
                  padding="24dp",
                  layout_width="fill",
                  orientation="horizontal",
                  onClick=function()
                    选择打字板颜色(xzbjs,"背景色")
                  end,
                  {
                    CardView,
                    elevation=0,
                    radius="12dp",
                    layout_width="24dp",
                    layout_height="24dp",
                    cardBackgroundColor=0xFFA4A4A4,
                    {
                      CardView,
                      id="xzbjs",
                      elevation=0,
                      radius="10.5dp",
                      layout_width="21dp",
                      layout_height="21dp",
                      layout_gravity="center",
                      cardBackgroundColor=背景色,
                    },
                  },
                  {
                    TextView,
                    textSize="16sp",
                    text="背景色",
                    layout_gravity="center",
                    textColor=0xFF000000,
                    layout_marginLeft="25dp",
                  },
                },
              },
              {
                LinearLayout,
                gravity="right",
                layout_width=w,
                paddingTop="17dp",
                paddingRight="32dp",
                paddingBottom="34dp",
                {
                  LinearLayout,
                  layout_height="46dp",
                  {
                    CardView,
                    radius="5dp",
                    layout_gravity="center",
                    cardBackgroundColor=0xFF68AFE5,
                    {
                      TextView,
                      text="确定",
                      gravity="center",
                      layout_height="36dp",
                      layout_width="87.5dp",
                      textColor=0xFFFFFFFF,
                      onClick=function()
                        关闭修改打字板布局()
                        dzbbjys.setBackgroundColor(tonumber(背景色))
                        dzbwb.text=srdzbwb.text
                        dzbwb.setTextColor(tonumber(文本颜色))
                        xrdzbsz='"文本":"'..srdzbwb.text..'"\n"文本颜色":"'..文本颜色..'"\n"背景色":"'..背景色..'"'
                        io.open("/data/data/"..activity.getPackageName().."/打字板","w+"):write(xrdzbsz):close()
                        task(10,function()
                          if dzbwb.getHeight()>dzbdhgd then
                            dzbwb.setGravity(0)
                          else
                            dzbwb.setGravity(17)
                          end
                        end)
                      end,
                    },
                  },
                },
              },
            },
          },
        }
        xgdzbbj=PopupWindow(loadlayout(修改打字板布局))
        xgdzbbj.setFocusable(true).setWidth(w).setHeight(h).setTouchable(true).setOutsideTouchable(true).showAtLocation(fltBtn.Parent,0,0,0)
        波纹(gbxgdzbbj,0xFFE2E2E2)波纹方(xzwbysbj,0xFFD0D0D0)波纹方(xzbjsbj,0xFFD0D0D0)
        位移动画(bjkp,200,0,0,geth(bjkp),0)
        activity.getSystemService(Context.INPUT_METHOD_SERVICE).toggleSoftInput(0,InputMethodManager.RESULT_SHOWN)
        function 关闭修改打字板布局()
          位移动画(bjkp,200,0,0,0,geth(bjkp))
          task(199,function()
             activity.getSystemService(Context.INPUT_METHOD_SERVICE).hideSoftInputFromWindow(srdzbwb.getWindowToken(),0)
             xgdzbbj.dismiss()
          end)
        end
        颜色(srdzbwb,0xFF68AFE5)
        srdzbwb.getBackground().setColorFilter(PorterDuffColorFilter(0xFF68AFE5,PorterDuff.Mode.SRC_ATOP));
        bjkpsety=0
        bjbj.onTouch=function(v,e)
          a=e.getAction()&255
          if a==MotionEvent.ACTION_DOWN then
            if e.getY()>=h-geth(bjkp) then
              csdjwz=e.getY()
            else
              csdjwz=h+1
            end
          elseif a==MotionEvent.ACTION_MOVE then
            if csdjwz==h+1 then
            elseif csdjwz>e.getY() then
              csdjwz=e.getY()
            else
              bjkpsety=h-geth(bjkp)+e.getY()-csdjwz+10/32*geth(toolbar)
              bjkp.setY(bjkpsety)
            end
          elseif a==MotionEvent.ACTION_UP then
            if csdjwz==h+1 then
              关闭修改打字板布局()
            elseif bjkpsety>=h-0.5*geth(bjkp) then
              关闭修改打字板布局()
            else
              bjkp.setY(h-geth(bjkp)+10/32*geth(toolbar))
              位移动画(bjkp,150,0,0,bjkpsety-(h-geth(bjkp)+10/32*geth(toolbar)),0)
            end
          end
          return true
        end
      end,
    },
  },
}
dzbbj=PopupWindow(loadlayout(打字板布局))
dzbbj.setFocusable(true).setWidth(w).setHeight(h).setTouchable(true).setOutsideTouchable(true).showAtLocation(fltBtn.Parent,0,0,0)
波纹(szdzbtp,0x22000000)
activity.getWindow().addFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN)
task(10,function()
  dzbdhgd=dzbwb.getHeight()
  dzbwb.text=io.open("/data/data/"..activity.getPackageName().."/打字板"):read("*a"):match('"文本":"(.-)"')
  task(10,function()
    if dzbwb.getHeight()>dzbdhgd then
      dzbwb.setGravity(0)
    else
      dzbwb.setGravity(17)
    end
  end)
end)
dzbbj.onDismiss=function()
  activity.getWindow().clearFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN)
end
function 选择打字板颜色(id,zl)
  import'com.flask.colorpicker.*'
  import'com.flask.colorpicker.slider.*'
  选择打字板颜色布局={
    LinearLayout,
    gravity="center",
    layout_width=w,
    layout_height=h,
    backgroundColor=0x80000000,
    onClick=function()
      dzbxzysbj.dismiss()
    end,
    {
      CardView,
      elevation="5dp",
      layout_marginTop=getStatusBarHeight()/2,
      {
        LinearLayout,
        orientation="vertical",
        layout_width="86%w",
        backgroundColor=0xFFFFFFFF,
        {
          TextView,
          paddingTop="18dp",
          paddingLeft="24dp",
          paddingRight="24dp",
          textSize="20sp",
          text="选择颜色",
          textColor=0xFF000000,
        },
        {
          LinearLayout,
          padding="24dp",
          orientation="vertical",
          {
            ColorPickerView,
            id="cpv",
          },
          {
            LightnessSlider,
            id="cpv1",
            layout_height="36dp",
          },
          {
            AlphaSlider,
            id="cpv2",
            layout_height="36dp",
          },
        },
        {
          LinearLayout,
          gravity="right",
          layout_width="fill",
          paddingTop="4.5dp",
          paddingRight="12.5dp",
          paddingBottom="4.5dp",
          orientation="horizontal",
          {
            LinearLayout,
            layout_width="63.5dp",
            layout_height="46dp",
            {
              TextView,
              id="qxan",
              text="取消",
              gravity="center",
              layout_width="fill",
              layout_height="36dp",
              layout_gravity="center",
              textColor=0xFF68AFE5,
              onClick=function()
                dzbxzysbj.dismiss()
              end,
            },
          },
          {
            LinearLayout,
            layout_width="63.5dp",
            layout_height="46dp",
            {
              TextView,
              id="qdan",
              text="确定",
              gravity="center",
              layout_width="fill",
              layout_height="36dp",
              layout_gravity="center",
              textColor=0xFF68AFE5,
              onClick=function()
                dzbxzysbj.dismiss()
                id.setCardBackgroundColor(cpv.getSelectedColor())
                if zl=="文本颜色" then
                  文本颜色="0x"..Integer.toHexString(cpv.getSelectedColor())
                else
                  背景色="0x"..Integer.toHexString(cpv.getSelectedColor())
                end
              end,
            },
          },
        },
      },
    },
  }
  dzbxzysbj=PopupWindow(loadlayout(选择打字板颜色布局))
  dzbxzysbj.setFocusable(true).setWidth(w).setHeight(h).setTouchable(true).setOutsideTouchable(true).showAtLocation(fltBtn.Parent,0,0,0)
  波纹方(qxan,0xFFE5F2FA)波纹方(qdan,0xFFE5F2FA)
  cpv.setLightnessSlider(cpv1)cpv.setAlphaSlider(cpv2)cpv.setDensity(12)
  cpv.onTouch=function()
    cpv1.setColor(cpv.getSelectedColor())
    cpv2.setColor(cpv.getSelectedColor())
  end
  cpv1.onTouch=function()
    cpv2.setColor(cpv.getSelectedColor())
  end
  if zl=="文本颜色" then
    cpv.setColor(tonumber(文本颜色),true)
  else
    cpv.setColor(tonumber(背景色),true)
  end
end
end
function 画板()
  画板布局={
    LinearLayout,
    layout_width=w,
    layout_height=h,
    orientation="vertical",
    backgroundColor=0xFF9AAEC7,
    {
      LinearLayout,
      layout_width=w,
      layout_height="32dp",
      orientation="horizontal",
      layout_marginTop=getStatusBarHeight(),
      backgroundColor=0xFF9AAEC7,
      {
        ImageView,
        padding="15dp",
        layout_width="48dp",
        layout_height="48dp",
        ColorFilter=0xffffffff,
        layout_gravity="center",
        src="http://shp.qpic.cn/collector/2530648358/6ce8ce2c-f0ac-4c11-b6c1-2c7daf86ac60/0",
        onClick=function()hbbj.dismiss()end,
      },
      {
        TextView,
        text="画板",
        layout_weight="1",
        textColor=0xffffffff,
        paddingLeft="17dp",
        layout_gravity="center",
      },
      {
        ImageView,
        padding="15dp",
        layout_width="48dp",
        layout_height="48dp",
        ColorFilter=0xffffffff,
        layout_gravity="center",
        src="http://shp.qpic.cn/collector/2530648358/13f9b9f6-4f99-48fb-bb7e-952c45aa3cac/0",
        onClick=function()
          DrawingChaceCapture("/storage/emulated/0/Pictures/UTBC浏览器/"..os.date("%Y%m%d%H%M%S.jpg"),hbhbbj)
        end,
      },
    },
    {
      LinearLayout,
      id="hbhbbj",
      backgroundColor=0xFFFFFFFF,
     {
        ImageView,
        id="hbhb",
        layout_width=w,
        layout_height=h-getStatusBarHeight()-2.75*geth(toolbar),
      },
    },
    {
      LinearLayout,
      layout_width=w,
      layout_height="56dp",
      orientation="horizontal",
      backgroundColor=0xFFFFAFAFA,
      {
        ImageView,
        padding="16dp",
        layout_width=w/5,
        layout_height="fill",
        ColorFilter=0xFF757575,
        src="http://shp.qpic.cn/collector/2530648358/83b13d27-e89f-46a8-9131-a5571a1deb2b/0",
        onClick=function()
          if 画板撤销[撤销笔数-1] then
            hbhb.setImageBitmap(画板撤销[撤销笔数-1])
            canvas.drawBitmap(画板撤销[撤销笔数-1],Matrix(),paint)
            撤销笔数=撤销笔数-2
          end
        end,
      },
      {
        ImageView,
        padding="16dp",
        layout_width=w/5,
        layout_height="fill",
        ColorFilter=0xFF757575,
        src="http://shp.qpic.cn/collector/2530648358/4cd35b24-97cb-4d70-867d-2753f15c3813/0",
        onClick=function()
          if 画板撤销[撤销笔数+2] then
            hbhb.setImageBitmap(画板撤销[撤销笔数+2])
            canvas.drawBitmap(画板撤销[撤销笔数+2],Matrix(),paint)
            撤销笔数=撤销笔数+2
          end
        end,
      },
      {
        ImageView,
        id="hbtp",
        padding="16dp",
        layout_width=w/5,
        layout_height="fill",
        ColorFilter=0xFF757575,
        backgroundColor=0xFFCBCBCB,
        src="http://shp.qpic.cn/collector/2530648358/4ccc5392-1f7d-41ce-9573-a34efa6fb64f/0",
        onClick=function()
          hbtp.setBackgroundColor(0xFFCBCBCB)
          xptp.setBackgroundColor(0x0)
          笔="画笔"
        end,
      },
      {
        ImageView,
        id="xptp",
        layout_width=w/5,
        layout_height="fill",
        ColorFilter=0xFF757575,
        src="http://shp.qpic.cn/collector/2530648358/726ffe8b-099f-41f9-af4d-4722497caf17/0",
        onClick=function()
          xptp.setBackgroundColor(0xFFCBCBCB)
          hbtp.setBackgroundColor(0xFFFAFAFA)
          笔="橡皮"
        end,
      },
      {
        ImageView,
        id="qkhb",
        padding="16dp",
        layout_width=w/5,
        layout_height="fill",
        ColorFilter=0xFF757575,
        src="http://shp.qpic.cn/collector/2530648358/c5794b00-8e26-4e15-88cf-008d722098cd/0",
        onClick=function()
          if 画板撤销[1] then
            hbhb.setImageBitmap(画板撤销[1])
            canvas.drawBitmap(画板撤销[1],Matrix(),paint)
            for i=1,#画板撤销 do
              luajava.clear(画板撤销[i])
              画板撤销[i]=nil
            end
            撤销笔数=0
          end
        end,
      },
    },
  }
  hbbj=PopupWindow(loadlayout(画板布局))
  hbbj.setFocusable(true).setWidth(w).setHeight(h).setTouchable(true).setOutsideTouchable(true).showAtLocation(fltBtn.Parent,0,0,0)
  collectgarbage("collect")
  if 画板撤销 then
    for i=1,#画板撤销 do
      luajava.clear(画板撤销[i])
    end
  end
  画板撤销={}波纹(qkhb,0xFFDDDDDD)
  撤销笔数=0 笔="画笔"
  bitmapcopy=Bitmap.createBitmap(w,h-getStatusBarHeight()-2.75*geth(toolbar),Bitmap.Config.ARGB_8888)
  canvas=Canvas(bitmapcopy)
  canvas.drawColor(Color.WHITE)
  paint=Paint()
  canvas.drawBitmap(bitmapcopy, Matrix(), paint)
  paint.setAntiAlias(true)
  paint.setStyle(Paint.Style.STROKE)
  paint.setStrokeCap(Paint.Cap.ROUND)
  hbhb.onTouch=function(v,e)
    if e.action==0 then
      x1 = e.getX()
      y1 = e.getY()
      collectgarbage("collect")
      bitmapcopyj=Bitmap.createBitmap(w,h-getStatusBarHeight()-2.75*geth(toolbar),Bitmap.Config.ARGB_8888)
      canvasj=Canvas(bitmapcopyj)
      canvasj.drawBitmap(bitmapcopy,Matrix(),paint)
      画板撤销[#画板撤销+1]=bitmapcopyj
      elseif e.action==2 then
      canvas.drawBitmap(bitmapcopy, Matrix(), paint)
      if 笔=="画笔" then
        paint.setColor(Color.BLACK)
        paint.setStrokeWidth(7)
      else
        paint.setColor(Color.WHITE)
        paint.setStrokeWidth(63)
      end
      x2 = e.getX()
      y2 = e.getY()
      canvas.drawLine(x1,y1,x2,y2,paint)
      x1 = x2
      y1 = y2
      hbhb.setImageBitmap(bitmapcopy)
    else
      collectgarbage("collect")
      for i=撤销笔数+2,#画板撤销 do
        luajava.clear(画板撤销[i])
        画板撤销[i]=nil
      end
      bitmapcopyj=Bitmap.createBitmap(w,h-getStatusBarHeight()-2.75*geth(toolbar),Bitmap.Config.ARGB_8888)
      canvasj=Canvas(bitmapcopyj)
      canvasj.drawBitmap(bitmapcopy, Matrix(), paint)
      画板撤销[#画板撤销+1]=bitmapcopyj
      撤销笔数=#画板撤销
    end
    return true
  end
end
function 汇率转换()
hlbc=io.open("/data/data/"..activity.getPackageName().."/汇率"):read("*a")
fromq=hlbc:match('fromq="(.-)"')fromdh=hlbc:match('fromdh="(.-)"')toq=hlbc:match('toq="(.-)"')todh=hlbc:match('todh="(.-)"')
function 获取汇率(fromdh,todh,je)
  if je~="" then
    Http.get("http://qq.ip138.com/hl.asp?from="..fromdh.."&to="..todh.."&q="..je,nil,"utf8",nil,function(code,content)
      if code==200 then
        zhjg.text=content:match("</p></td><td><p>(.-)</p></td></tr></table></tr>"):match("</p></td><td><p>(.+)"):match("</p></td><td><p>(.+)").." "..todh
      end
    end)
  end
end
汇率转换布局={
  LinearLayout,
  layout_width=w,
  layout_height=h,
  orientation="vertical",
  backgroundColor=0xFF9AAEC7,
  {
    LinearLayout,
    elevation="5dp",
    layout_width=w,
    orientation="horizontal",
    backgroundColor=0xFF9AAEC7,
    layout_height=geth(toolbar)+getStatusBarHeight(),
    {
      TextView,
      text="汇率转换",
      layout_weight="1",
      paddingLeft="17dp",
      textColor=0xffffffff,
      layout_gravity="center",
      paddingTop=getStatusBarHeight(),
    },
  },
  {
    LinearLayout,
    layout_width=w,
    layout_height="fill",
    paddingLeft="24dp",
    paddingRight="24dp",
    orientation="vertical",
    backgroundColor=0xFFFFFFFF,
    {
      TextView,
      id="zhjg",
      text="0000",
      gravity="right",
      textSize="30sp",
      layout_width="fill",
      textColor=0xFF000000,
      layout_marginTop="56dp",
      Typeface=Typeface.DEFAULT_BOLD,
    },
    {
      LinearLayout,
      layout_width="fill",
      layout_marginTop="48dp",
      orientation="horizontal",
      {
        Button,
        id="fromqian",
        text=fromq,
        layout_width="96dp",
        textColor=0xFFFFFFFF,
        onClick=function()
          选择钱(fromqian,"from")
        end,
      },
      {
        ImageView,
        id="jhft",
        padding="7dp",
        layout_weight="1",
        layout_height="39.5dp",
        layout_gravity="center",
        ColorFilter=0xFF757575,
        src="http://shp.qpic.cn/collector/2530648358/1cfe9b59-5bf6-4d23-b68f-72dd10bb5a14/0",
        onClick=function()
          io.open("/data/data/"..activity.getPackageName().."/汇率","w+"):write('fromq="'..toq..'"\nfromdh="'..todh..'"\ntoq="'..fromq..'"\ntodh="'..fromdh..'"'):close()
          hlbc=io.open("/data/data/"..activity.getPackageName().."/汇率"):read("*a")
          fromq=hlbc:match('fromq="(.-)"')fromdh=hlbc:match('fromdh="(.-)"')toq=hlbc:match('toq="(.-)"')todh=hlbc:match('todh="(.-)"')
          fromqian.text=fromq toqian.text=toq
          获取汇率(fromdh,todh,jewb.text)
        end,
      },
      {
        Button,
        id="toqian",
        text=toq,
        layout_width="96dp",
        textColor=0xFFFFFFFF,
        onClick=function()
          选择钱(toqian,"to")
        end,
      },
    },
    {
      LinearLayout,
      layout_width="fill",
      orientation="horizontal",
      layout_marginTop="40dp",
      {
        LinearLayout,
        layout_weight="1",
        orientation="vertical",
        {
          TextView,
          textSize="11sp",
          text="请输入金额..",
          paddingLeft="4dp",
          textColor=0xFF68AFE5,
        },
        {
          EditText,
          id="jewb",
          layout_width="fill",
          textColor=0xFF000000,
        },
      },
      {
        Button,
        id="zhan",
        text="转换",
        layout_width="96dp",
        textColor=0xFFFFFFFF,
        layout_gravity="bottom",
        layout_marginLeft="17dp",
        layout_marginRight="-3dp",
        onClick=function()
          获取汇率(fromdh,todh,jewb.text)
        end,
      },
    },
  },
}
hlzhbj=PopupWindow(loadlayout(汇率转换布局))
hlzhbj.setFocusable(true).setWidth(w).setHeight(h).setTouchable(true).setOutsideTouchable(true).showAtLocation(fltBtn.Parent,0,0,0)
颜色(jewb,0xFF68AFE5)波纹(jhft,0xFFD0D0D0)
import "android.text.method.DigitsKeyListener"
jewb.setKeyListener(DigitsKeyListener.getInstance(".0123456789"))
fromqian.getBackground().setColorFilter(PorterDuffColorFilter(0xFF9AAEC7,PorterDuff.Mode.SRC_ATOP))
toqian.getBackground().setColorFilter(PorterDuffColorFilter(0xFF68AFE5,PorterDuff.Mode.SRC_ATOP))
zhan.getBackground().setColorFilter(PorterDuffColorFilter(0xFF68AFE5,PorterDuff.Mode.SRC_ATOP))
jewb.getBackground().setColorFilter(PorterDuffColorFilter(0xFF68AFE5,PorterDuff.Mode.SRC_ATOP));
function 选择钱(id,zl)
  选择钱布局={
    ListView,
    id="lb",
    dividerHeight=0,
    layout_width="fill",
    VerticalScrollBarEnabled=false,
    layout_height=h-getStatusBarHeight()-2*geth(toolbar),
    items={"美元","人民币","印尼卢比","新西兰元","新加坡元","泰国铢","瑞典克朗","日元","瑞士法郎","卢布","菲律宾比索","港币","林吉特","欧元","印度卢比","丹麦克朗","加拿大元","挪威克朗","阿联酋迪拉姆","沙特里亚尔","巴西里亚尔","澳门元","南非兰特","土耳其里拉","韩国元","新台币","澳大利亚元","英镑"}
  }
  圆角对话框()
  .设置圆角("10dp")
  .添加布局(选择钱布局)
  .显示(function()
    lb.onItemClick=function(l,v,p,i)
      id.text=v.text
      if zl=="from" then
        xrhl=io.open("/data/data/"..activity.getPackageName().."/汇率"):read("*a"):gsub('fromq="'..fromq..'"','fromq="'..v.text..'"'):gsub('fromdh="'..fromdh..'"','fromdh="'..v.text:gsub("美元","USD"):gsub("人民币","CNY"):gsub("印尼卢比","IDR"):gsub("新西兰元","NZD"):gsub("新加坡元","SGD"):gsub("泰国铢","THB"):gsub("瑞典克朗","SEK"):gsub("日元","JPY"):gsub("瑞士法郎","CHF"):gsub("卢布","RUB"):gsub("菲律宾比索","PHP"):gsub("港币","HKD"):gsub("林吉特","MYR"):gsub("欧元","EUR"):gsub("印度卢比","INR"):gsub("丹麦克朗","DKK"):gsub("加拿大元","CAD"):gsub("挪威克朗","NOK"):gsub("阿联酋迪拉姆","AED"):gsub("沙特里亚尔","SAR"):gsub("巴西里亚尔","BRL"):gsub("澳门元","MOP"):gsub("南非兰特","ZAR"):gsub("土耳其里拉","TRY"):gsub("韩国元","KRW"):gsub("新台币","TWD"):gsub("澳大利亚元","AUD"):gsub("英镑","GBP")..'"')
        io.open("/data/data/"..activity.getPackageName().."/汇率","w+"):write(xrhl):close()
      else
        xrhl=io.open("/data/data/"..activity.getPackageName().."/汇率"):read("*a"):gsub('toq="'..toq..'"','toq="'..v.text..'"'):gsub('todh="'..todh..'"','todh="'..v.text:gsub("美元","USD"):gsub("人民币","CNY"):gsub("印尼卢比","IDR"):gsub("新西兰元","NZD"):gsub("新加坡元","SGD"):gsub("泰国铢","THB"):gsub("瑞典克朗","SEK"):gsub("日元","JPY"):gsub("瑞士法郎","CHF"):gsub("卢布","RUB"):gsub("菲律宾比索","PHP"):gsub("港币","HKD"):gsub("林吉特","MYR"):gsub("欧元","EUR"):gsub("印度卢比","INR"):gsub("丹麦克朗","DKK"):gsub("加拿大元","CAD"):gsub("挪威克朗","NOK"):gsub("阿联酋迪拉姆","AED"):gsub("沙特里亚尔","SAR"):gsub("巴西里亚尔","BRL"):gsub("澳门元","MOP"):gsub("南非兰特","ZAR"):gsub("土耳其里拉","TRY"):gsub("韩国元","KRW"):gsub("新台币","TWD"):gsub("澳大利亚元","AUD"):gsub("英镑","GBP")..'"')
        io.open("/data/data/"..activity.getPackageName().."/汇率","w+"):write(xrhl):close()
      end
      hlbc=io.open("/data/data/"..activity.getPackageName().."/汇率"):read("*a")
      fromq=hlbc:match('fromq="(.-)"')fromdh=hlbc:match('fromdh="(.-)"')toq=hlbc:match('toq="(.-)"')todh=hlbc:match('todh="(.-)"')
      获取汇率(fromdh,todh,jewb.text)
      pop.dismiss()
    end
  end)
end
end
function 大文件清理()
  function dwjqlqx()end
  大文件清理布局={
    LinearLayout,
    layout_width=w,
    layout_height=h,
    orientation="vertical",
    backgroundColor=0xFF9AAEC7,
    {
      LinearLayout,
      layout_width=w,
      layout_height="32dp",
      orientation="horizontal",
      layout_marginTop=getStatusBarHeight(),
      backgroundColor=0xFF9AAEC7,
      {
        ImageView,
        padding="15dp",
        layout_width="48dp",
        layout_height="48dp",
        ColorFilter=0xffffffff,
        layout_gravity="center",
        src="http://shp.qpic.cn/collector/2530648358/6ce8ce2c-f0ac-4c11-b6c1-2c7daf86ac60/0",
        onClick=function()dwjqlbj.dismiss()end,
      },
      {
        TextView,
        id="dwjqlbt",
        text="大文件清理",
        layout_weight="1",
        textColor=0xffffffff,
        paddingLeft="17dp",
        layout_gravity="center",
      },
      {
        ImageView,
        id="qxhdwjqlqx",
        padding="15dp",
        layout_width="48dp",
        layout_height="48dp",
        ColorFilter=0xffffffff,
        layout_gravity="center",
        src="http://shp.qpic.cn/collector/2530648358/b1f989b5-646a-459f-88f3-dd03ffedfa59/0",
        onClick=function()
          dwjqlqx()
        end,
      },
    },
    {
      FrameLayout,
      layout_width=w,
      backgroundColor=0xFFFFFFFF,
      layout_height=h-getStatusBarHeight()-geth(toolbar),
      {
        LinearLayout,
        layout_width=w,
        layout_height="fill",
        orientation="vertical",
        {
          LinearLayout,
          layout_width=w,
          gravity="center|bottom",
          layout_height=(h-getStatusBarHeight()-1.5*geth(toolbar))/2,
          {
            ProgressBar,
            id="pgb",
          },
        },
        {
          TextView,
          id="wjljwb",
          paddingLeft="16dp",
          paddingRight="16dp",
          layout_gravity="center",
          textColor=0xFF6E6E6E,
          layout_marginTop="16dp",
          layout_height=(h-getStatusBarHeight()-1.5*geth(toolbar))/2,
        },
      },
      {
        NestedScrollView,
        id="dwjlbbjbj",
        visibility=4,
        layout_width=w,
        layout_height="fill",
        backgroundColor=0xFFFAFAFA,
        {
          LinearLayout,
          id="dwjlb",
        },
      },
      {
        CardView,
        visibility=4,
        id="dwjqlan",
        radius="28dp",
        elevation="5dp",
        layout_width="56dp",
        layout_height="56dp",
        layout_margin="16dp",
        layout_gravity="right|bottom",
        cardBackgroundColor=0xFF68AFE5,
        layout_marginBottom=16/32*geth(toolbar),
        {
          ImageView,
          padding="16dp",
          layout_width="fill",
          layout_height="fill",
          ColorFilter=0xffffffff,
          layout_gravity="center",
          src="http://shp.qpic.cn/collector/2530648358/c5794b00-8e26-4e15-88cf-008d722098cd/0",
          onClick=function()
            if 待删除文件=="" then
              提示"无文件可清理。"
            else
              圆角对话框()
              .设置标题("警示！")
              .设置消息("确定要删除所选文件吗？删除后将不能恢复。")
              .设置中立按钮("取消")
              .设置积极按钮("确定",function()
                共清理文件大小=0.00
                b=loadstring("return {"..待删除文件.."}")待删除文件路径=b()
                for i=1,#待删除文件路径 do
                  local f=io.open(tostring(ret[待删除文件路径[i]]),'r')
                  if f then
                    io.close(f)
                    共清理文件大小=共清理文件大小+File(tostring(ret[待删除文件路径[i]])).length()
                    os.remove(tostring(ret[待删除文件路径[i]]))
                  end
                  ret[待删除文件路径[i]]=""
                end
                for i=1,#ret do
                  if ret[i]=="" then
                    table.remove(ret,i)
                  end
                end
                for i=1,#ret do
                  if ret[i]=="" then
                    table.remove(ret,i)
                  end
                end
                dwjlbbj.setVisibility(8)
                dwjqlbt.text="大文件清理"
                查找大文件完成(ret)
                if 共清理文件大小>0 then
                  共清理文件大小=tostring(tointeger(共清理文件大小/1048576*1000))
                  if 共清理文件大小:sub(#共清理文件大小,#共清理文件大小)>="5" then
                    共清理文件大小=tostring((共清理文件大小:sub(1,#共清理文件大小-1)+1)/100)
                  else
                    共清理文件大小=tostring(共清理文件大小:sub(1,#共清理文件大小-1)/100)
                  end
                end
                task(150,function()
                  圆角对话框()
                  .设置标题("提示")
                  .设置消息("清理完成,共清理了"..共清理文件大小.."MB。")
                  .设置积极按钮("确定")
                  .显示()
                end)
              end)
              .显示()
            end
          end,
        },
      },
    },
  }
  dwjqlbj=PopupWindow(loadlayout(大文件清理布局))
  dwjqlbj.setFocusable(true).setWidth(w).setHeight(h).setTouchable(true).setOutsideTouchable(true).showAtLocation(fltBtn.Parent,0,0,0)
  pgb.IndeterminateDrawable.setColorFilter(PorterDuffColorFilter(0xFF68AFE5,PorterDuff.Mode.SRC_ATOP))
  function 文件详情(path)
    文件详情布局={
      LinearLayout,
      id="bjbj",
      layout_width=w,
      layout_height=h,
      backgroundColor=0x80000000,
      {
        CardView,
        id="bjkp",
        radius="10dp",
        layout_width=w,
        layout_gravity="bottom",
        layout_marginBottom="-10dp",
        cardBackgroundColor=0xFFFFFFFF,
        {
          LinearLayout,
          layout_width=w,
          orientation="vertical",
          {
            LinearLayout,
            layout_width=w,
            paddingTop="24dp",
            paddingLeft="32dp",
            paddingRight="24dp",
            orientation="horizontal",
            {
              ImageView,
              layout_width="24dp",
              layout_height="24dp",
              layout_gravity="center",
              ColorFilter=0xFF9AAEC7,
              src="http://shp.qpic.cn/collector/2530648358/a23fee1a-c303-4666-a45c-1fbbe9d9e58f/0"
            },
            {
              TextView,
              textSize="17sp",
              layout_weight="1",
              text="文件详情",
              layout_gravity="center",
              textColor=0xFF000000,
              layout_marginLeft="16dp",
              Typeface=Typeface.DEFAULT_BOLD,
            },
            {
              ImageView,
              padding="15dp",
              id="gbwjxqbj",
              layout_width="55dp",
              layout_height="55dp",
              layout_gravity="center",
              ColorFilter=0xFF707070,
              src="http://shp.qpic.cn/collector/2530648358/6a4d61ec-a43b-454e-87c7-3a471e95e51a/0",
              onClick=function()关闭文件详情布局()end,
            },
          },
          {
            LinearLayout,
            paddingLeft="56dp",
            paddingRight="40dp",
            orientation="vertical",
            paddingBottom="10dp",
            {
              TextView,
              text="文件名称",
              textSize="16sp",
              paddingTop="16dp",
              textColor=0xFF68AFE5,
            },
            {
              TextView,
              id="wjmcwb",
              paddingTop="8dp",
              paddingLeft="8dp",
              paddingBottom="16dp",
              textColor=0xFF6E6E6E,
              text=File(path).getName(),
            },
            {
              TextView,
              text="文件路径",
              textSize="16sp",
              paddingTop="16dp",
              textColor=0xFF68AFE5,
            },
            {
              TextView,
              id="ljwb",
              text=path,
              paddingTop="8dp",
              paddingLeft="8dp",
              paddingBottom="16dp",
              textColor=0xFF6E6E6E,
            },
            {
              TextView,
              text="MD5",
              textSize="16sp",
              paddingTop="16dp",
              textColor=0xFF68AFE5,
            },
            {
              TextView,
              id="md5wb",
              text="获取中..",
              paddingTop="8dp",
              paddingLeft="8dp",
              paddingBottom="32dp",
              textColor=0xFF6E6E6E,
            },
          },
        },
      },
    }
    wjxqbj=PopupWindow(loadlayout(文件详情布局))
    wjxqbj.setFocusable(true).setWidth(w).setHeight(h).setTouchable(true).setOutsideTouchable(true).showAtLocation(fltBtn.Parent,0,0,0)
    wjmcwb.onLongClick=function()
      复制文本(wjmcwb.text)
      提示"复制完成"
    end
    ljwb.onLongClick=function()
      复制文本(ljwb.text)
      提示"复制完成"
    end
    md5wb.onLongClick=function()
      复制文本(md5wb.text)
      提示"复制完成"
    end
    波纹(gbwjxqbj,0xFFE2E2E2)
    位移动画(bjkp,200,0,0,geth(bjkp),0)
    function 线程返回文件md5(path)
      if not pcall(function()collectgarbage("collect")md5=require("md5")function md5.sumhexa(k)k=md5.sum(k)return (string.gsub(k, ".", function (c)return string.format("%02x", string.byte(c))end))end local file=io.open(path,"rb")local string=file:read("*a")file:close()call('设置md5文本',md5.sumhexa(string))end) then
        call("设置md5文本","获取失败")
      end
    end
    function 设置md5文本(str)
      md5wb.text=str
    end
    thread(线程返回文件md5,path)
    function 关闭文件详情布局()
      位移动画(bjkp,200,0,0,0,geth(bjkp))
      task(199,function()
        wjxqbj.dismiss()
      end)
    end
    bjkpsety=0
    bjbj.onTouch=function(v,e)
      a=e.getAction()&255
      if a==MotionEvent.ACTION_DOWN then
        if e.getY()>=h-geth(bjkp) then
          csdjwz=e.getY()
        else
          csdjwz=h+1
        end
      elseif a==MotionEvent.ACTION_MOVE then
        if csdjwz==h+1 then
        elseif csdjwz>e.getY() then
          csdjwz=e.getY()
        else
          bjkpsety=h-geth(bjkp)+e.getY()-csdjwz+10/32*geth(toolbar)
          bjkp.setY(bjkpsety)
        end
      elseif a==MotionEvent.ACTION_UP then
        if csdjwz==h+1 then
          关闭文件详情布局()
        elseif bjkpsety>=h-0.5*geth(bjkp) then
          关闭文件详情布局()
        else
          bjkp.setY(h-geth(bjkp)+10/32*geth(toolbar))
          位移动画(bjkp,150,0,0,bjkpsety-(h-geth(bjkp)+10/32*geth(toolbar)),0)
        end
      end
      return true
    end
  end
  function 显示文件路径(str)
    wjljwb.text=str
  end
  function 查找大文件完成(item)
    ret=item dwjlbbjbj.setVisibility(0)待删除文件=""待删除文件个数=0
    大文件列表适配布局=[[{
  LinearLayout,
  backgroundColor=背景颜色,
  {
    LinearLayout,
    layout_width=w,
    id="大文件列表id",
    orientation="vertical",
    onClick=function()
      if fxkid.isChecked()==false then
        fxkid.setChecked(true)
        待删除文件=待删除文件.."位置,"
        待删除文件个数=待删除文件个数+1
       else
        fxkid.setChecked(false)
        待删除文件=待删除文件:gsub("位置,","")
        待删除文件个数=待删除文件个数-1
      end
      if 待删除文件个数>0 then
        dwjqlbt.text="大文件清理("..待删除文件个数..")"
       else
        dwjqlbt.text="大文件清理"
      end
    end,
    {
      LinearLayout,
      layout_width=w,
      paddingTop="17dp",
      paddingLeft="17dp",
      paddingRight="17dp",
      orientation="horizontal",
      {
        FrameLayout,
        layout_width="50dp",
        layout_height="50dp",
        {
          CardView,
          elevation=0,
          radius="25dp",
          layout_width="50dp",
          layout_height="50dp",
          cardBackgroundColor=0xFF9AAEC7,
          {
            TextView,
            textSize="14sp",
            text="文件大小",
            layout_gravity="center",
            textColor=0xFFFFFFFF,
          },
        },
        {
          CardView,
          elevation=0,
          radius="9dp",
          layout_width="18dp",
          layout_height="18dp",
          layout_gravity="right|bottom",
          cardBackgroundColor=dwbjys,
          {
            TextView,
            text="单位",
            textSize="10sp",
            textColor=0xFFFFFFFF,
            layout_gravity="center",Typeface=Typeface.DEFAULT_BOLD,
          },
        },
      },
      {
        LinearLayout,
        layout_weight="1",
        paddingLeft="17dp",
        paddingRight="17dp",
        orientation="vertical",
        layout_gravity="center",
        {
          TextView,
          text="文件名称",
          textSize="16sp",
          textColor=0xFF000000,
        },
        {
          TextView,
          maxLines=1,
          ellipsize="start",
          text="文件父路径",
          textColor=0xFF6E6E6E,
        },
      },
      {
        CheckBox,
        id="fxkid",
        layout_gravity="center",
        onClick=function()
          if fxkid.isChecked()==true then
            待删除文件=待删除文件.."位置,"
            待删除文件个数=待删除文件个数+1
           else
            待删除文件=待删除文件:gsub("位置,","")
            待删除文件个数=待删除文件个数-1
          end
          if 待删除文件个数>0 then
            dwjqlbt.text="大文件清理("..待删除文件个数..")"
           else
            dwjqlbt.text="大文件清理"
          end
        end,
      },
    },
    {
      TextView,
      padding="7dp",
      id="文件详情id",
      text="文件详情",
      layout_gravity="right",
      textColor=0xFF68AFE5,
      layout_marginBottom="8dp",
      layout_marginRight="17.5dp",
      onClick=function()
        文件详情("文件路径")
      end,
    },
  },
},
]]
    大文件列表布局=""大文件列表事件=""大文件清理全选=""取消大文件清理全选=""
    for i=1,#item do
      大文件列表事件=大文件列表事件.."波纹方(大文件列表"..i..",0xFFE9E9E9)波纹方(文件详情"..i..",0xFFE9E9E9)"
      大文件清理全选=大文件清理全选.."dwjlbfxk"..i..".setChecked(true)"
      取消大文件清理全选=取消大文件清理全选.."dwjlbfxk"..i..".setChecked(false)"
      if i%2==1 then
        大文件列表=大文件列表适配布局:gsub("背景颜色","0xFFFFFFFF"):gsub("文件名称",tostring(item[i].name)):gsub("文件路径",tostring(item[i])):gsub("大文件列表id","大文件列表"..i):gsub("文件详情id","文件详情"..i):gsub("fxkid","dwjlbfxk"..i):gsub("位置",i)
        if tostring(File(tostring(item[i])).getParentFile()):match("/storage/emulated/0(.+)")==nil then
          大文件列表=大文件列表:gsub("文件父路径","来自sdcard根目录")
        else
          大文件列表=大文件列表:gsub("文件父路径",tostring(File(tostring(item[i])).getParentFile()):match("/storage/emulated/0(.+)"))
        end
        if File(tostring(item[i])).length()>=1073741824 then
          大文件列表=大文件列表:gsub("单位","G"):gsub("dwbjys","0xFFEC534B")
          文件大小=tostring(tointeger(File(tostring(item[i])).length()/1073741824*100))
          if 文件大小:sub(#文件大小,#文件大小)>="5" then
            大文件列表=大文件列表:gsub("文件大小",tostring((文件大小:sub(1,#文件大小-1)+1)/10))
          else
            大文件列表=大文件列表:gsub("文件大小",tostring((文件大小:sub(1,#文件大小-1))/10))
          end
        else
          大文件列表=大文件列表:gsub("单位","M"):gsub("dwbjys","0xFF68AFE5")
          文件大小=tostring(tointeger(File(tostring(item[i])).length()/1048576*100))
           if 文件大小:sub(#文件大小,#文件大小)>="5" then
            大文件列表=大文件列表:gsub("文件大小",tostring((文件大小:sub(1,#文件大小-1)+1)/10))
          else
            大文件列表=大文件列表:gsub("文件大小",tostring((文件大小:sub(1,#文件大小-1))/10))
          end
        end
        大文件列表布局=大文件列表布局..大文件列表
      else
        大文件列表=大文件列表适配布局:gsub("背景颜色","0xFFF8F8F8"):gsub("文件名称",tostring(item[i].name)):gsub("文件路径",tostring(item[i])):gsub("大文件列表id","大文件列表"..i):gsub("文件详情id","文件详情"..i):gsub("fxkid","dwjlbfxk"..i):gsub("位置",i)
        if tostring(File(tostring(item[i])).getParentFile()):match("/storage/emulated/0(.+)")==nil then
          大文件列表=大文件列表:gsub("文件父路径","来自sdcard根目录")
        else
          大文件列表=大文件列表:gsub("文件父路径",tostring(File(tostring(item[i])).getParentFile()):match("/storage/emulated/0(.+)"))
        end
        if File(tostring(item[i])).length()>=1073741824 then
          大文件列表=大文件列表:gsub("单位","G"):gsub("dwbjys","0xFFEC534B")
          文件大小=tostring(tointeger(File(tostring(item[i])).length()/1073741824*100))
          if 文件大小:sub(#文件大小,#文件大小)>="5" then
            大文件列表=大文件列表:gsub("文件大小",tostring((文件大小:sub(1,#文件大小-1)+1)/10))
          else
            大文件列表=大文件列表:gsub("文件大小",tostring((文件大小:sub(1,#文件大小-1))/10))
          end
        else
          大文件列表=大文件列表:gsub("单位","M"):gsub("dwbjys","0xFF68AFE5")
          文件大小=tostring(tointeger(File(tostring(item[i])).length()/1048576*100))
          if 文件大小:sub(#文件大小,#文件大小)>="5" then
            大文件列表=大文件列表:gsub("文件大小",tostring((文件大小:sub(1,#文件大小-1)+1)/10))
          else
            大文件列表=大文件列表:gsub("文件大小",tostring((文件大小:sub(1,#文件大小-1))/10))
          end
        end
        大文件列表布局=大文件列表布局..大文件列表
      end
    end
    大文件列表布局=[[{
  LinearLayout,
  id="dwjlbbj",
  layout_width="fill",
  layout_height="fill",
  orientation="vertical",
  ]]..大文件列表布局.."}"
  b=loadstring("return "..大文件列表布局)大文件列表布局=b()
  dwjlb.addView(loadlayout(大文件列表布局))
  b=loadstring("return ".."function()"..大文件列表事件.."end")大文件列表事件=b()
  b=loadstring("return ".."function()if djldwjqx then djldwjqx=nil "..取消大文件清理全选.."qxhdwjqlqx.setImageBitmap(loadbitmap('http://shp.qpic.cn/collector/2530648358/b1f989b5-646a-459f-88f3-dd03ffedfa59/0'))待删除文件个数=0 dwjqlbt.text='大文件清理'待删除文件=''else djldwjqx=0 qxhdwjqlqx.setImageBitmap(loadbitmap('http://shp.qpic.cn/collector/2530648358/17ef4ca4-70b8-4288-ace7-b965b13caa89/0'))待删除文件个数="..#item.." if "..#item..">0 then dwjqlbt.setText('大文件清理("..#item..")')end "..大文件清理全选.."待删除文=''for i=1,"..#item.." do 待删除文=待删除文..tostring(i)..','end 待删除文件=待删除文 end end")大文件清理全选=b()
  function dwjlbsj()end
  dwjlbsj=大文件列表事件 dwjlbsj()
  dwjqlqx=大文件清理全选
  dwjqlan.setVisibility(0)
  收缩按钮=ScaleAnimation(1,0,1,0,相对自身,0.5,相对自身,0.5).setDuration(300).setFillAfter(true)
  扩放按钮=ScaleAnimation(0,1,0,1,相对自身,0.5,相对自身,0.5).setDuration(300).setFillAfter(true)
  dwjlbbjbj.setOnScrollChangeListener(NestedScrollView.OnScrollChangeListener{
    onScrollChange=function(v,nowx,nowy,oldx,oldy)
      if nowy>oldy then
        dwjqlan.startAnimation(收缩按钮)
        setw(dwjqlan,0)seth(dwjqlan,0)
      else
        setw(dwjqlan,1.75*geth(toolbar))seth(dwjqlan,1.75*geth(toolbar))
        dwjqlan.startAnimation(扩放按钮)
      end
    end
  })
  collectgarbage("collect")
  end
  function 查找大文件(catalog)
    local ret={}
    require "import"
    import "java.io.File"
    import "java.lang.String"
    function FindFile(catalog)
      local ls=catalog.listFiles() or File{}
      for 次数=0,#ls-1 do
        if 次数==tointeger(#ls/4) or 次数==tointeger(#ls/2) or 次数==tointeger(#ls*0.75) then
          collectgarbage("collect")
        end
        local f=ls[次数]
        if f.isDirectory() then
          call("显示文件路径",tostring(f))
          FindFile(f)
        else
          if File(tostring(f)).length()>=31457280 then
            table.insert(ret,f)
          end
        end
      end
    end
    FindFile(catalog)
    call("查找大文件完成",ret)
    luajava.clear(f)
    collectgarbage("collect")
  end
  collectgarbage("collect")
  thread(查找大文件,File("/storage/emulated/0/"))
end
function 空文件清理()
  qxqlkwj=nil
  空文件清理布局={
    LinearLayout,
    gravity="center",
    layout_width=w,
    layout_height=h,
    {
      CardView,
      elevation="5dp",
      {
        LinearLayout,
        orientation="vertical",
        layout_width="86%w",
        backgroundColor=0xFFFFFFFF,
        {
          TextView,
          id="qlztbt",
          textSize="20sp",
          text="正在清理..",
          paddingTop="18dp",
          paddingLeft="24dp",
          paddingRight="24dp",
          textColor=0xFF000000,
        },
        {
          LinearLayout,
          padding="24dp",
          layout_width="fill",
          orientation="horizontal",
          {
            ProgressBar,
            id="pgb",
            paddingRight="24dp",
          },
          {
            TextView,
            id="qlzt",
            textSize="18sp",
            text="正在扫描..",
            layout_gravity="center",
            textColor=0xFF000000,
          },
        },
        {
          LinearLayout,
          gravity="right",
          layout_width="fill",
          paddingTop="4.5dp",
          paddingRight="12.5dp",
          paddingBottom="4.5dp",
          orientation="horizontal",
          {
            LinearLayout,
            layout_width="63.5dp",
            layout_height="46dp",
            {
              TextView,
              id="qdan",
              text="取消",
              gravity="center",
              layout_width="fill",
              layout_height="36dp",
              layout_gravity="center",
              textColor=0xFF68AFE5,
              onClick=function()
                kwjqlbj.dismiss()
                qxqlkwj=true
              end,
            },
          },
        },
      },
    },
  }
  确认布局={
    LinearLayout,
    gravity="center",
    layout_width=w,
    layout_height=h,
    backgroundColor=0x80000000,
    onClick=function()
      qrbj.dismiss()
    end,
    {
      CardView,
      elevation="5dp",
      layout_marginTop=getStatusBarHeight()/2,
      {
        LinearLayout,
        orientation="vertical",
        layout_width="86%w",
        backgroundColor=0xFFFFFFFF,
        {
          TextView,
          paddingTop="18dp",
          paddingLeft="24dp",
          paddingRight="24dp",
          textSize="20sp",
          text="提示",
          textColor=0xFF000000,
        },
        {
          TextView,
          padding="24dp",
          textSize="18sp",
          textColor=0xFF000000,
          text="你确定清理本机所有空文件吗？"
        },
        {
          LinearLayout,
          gravity="right",
          layout_width="fill",
          paddingTop="4.5dp",
          paddingRight="12.5dp",
          paddingBottom="4.5dp",
          orientation="horizontal",
          {
            LinearLayout,
            layout_width="63.5dp",
            layout_height="46dp",
            {
              TextView,
              id="qxan",
              text="取消",
              gravity="center",
              layout_width="fill",
              layout_height="36dp",
              layout_gravity="center",
              textColor=0xFF68AFE5,
              onClick=function()
                qrbj.dismiss()
              end,
            },
          },
          {
            LinearLayout,
            layout_width="63.5dp",
            layout_height="46dp",
            {
              TextView,
              id="qdan",
              text="确定",
              gravity="center",
              layout_width="fill",
              layout_height="36dp",
              layout_gravity="center",
              textColor=0xFF68AFE5,
              onClick=function()
                qrbj.dismiss()
                dialog=AlertDialog.Builder(this)kwjqlbj=dialog.show()kwjqlbj.setCancelable(false).getWindow().setContentView(loadlayout(空文件清理布局))
                波纹方(qdan,0xFFE5F2FA)pgb.IndeterminateDrawable.setColorFilter(PorterDuffColorFilter(0xFF68AFE5,PorterDuff.Mode.SRC_ATOP))
                collectgarbage("collect")
                thread(查找空文件,File("/storage/emulated/0"))
              end,
            },
          },
        },
      },
    },
  }
  qrbj=PopupWindow(loadlayout(确认布局))
  qrbj.setFocusable(true).setWidth(w).setHeight(h).setTouchable(true).setOutsideTouchable(true).showAtLocation(fltBtn.Parent,0,0,0)
  波纹方(qxan,0xFFE5F2FA)波纹方(qdan,0xFFE5F2FA)
  function 查找空文件完成(个数,time)
    pgb.setVisibility(8)
    qdan.text="确定"
    qlztbt.text="清理完成"
    qlzt.text="共清理了"..个数.."个，耗时"..os.time()-time.."秒。"
  end
  function 设置空文件查找进度(str)
    qlzt.text=str
  end
  function 删除空文件(path)
    if not qxqlkwj then
      os.remove(path)
    end
  end
  function 查找空文件(catalog)
    t=os.time() 个数=0
    require "import"
    import "java.io.File"
    import "java.lang.String"
    function FindFile(catalog)
      local ls=catalog.listFiles()or File{}
      for 次数=0,#ls-1 do
        if 次数==tointeger(#ls/4) or 次数==tointeger(#ls/2) or 次数==tointeger(#ls*0.75) then
          collectgarbage("collect")
        end
        local f=ls[次数]
        if f.isDirectory() then
          FindFile(f)
        else
          if File(tostring(f)).length()==0 then
            call('删除空文件',tostring(f))
            Thread.sleep(70)
            if File(tostring(f)).isFile() then
              break
            else
              个数=个数+1
              call("设置空文件查找进度","已经清理了"..个数.."个空文件")
            end
          end
        end
      end
    end
    FindFile(catalog)
    call('查找空文件完成',个数,t)
    luajava.clear(f)
    collectgarbage("collect")
  end
end
function 空文件夹清理()
  qxqlkwjj=nil
  空文件夹清理布局={
    LinearLayout,
    gravity="center",
    layout_width=w,
    layout_height=h,
    {
      CardView,
      elevation="5dp",
      {
        LinearLayout,
        orientation="vertical",
        layout_width="86%w",
        backgroundColor=0xFFFFFFFF,
        {
          TextView,
          id="qlztbt",
          textSize="20sp",
          text="正在清理..",
          paddingTop="18dp",
          paddingLeft="24dp",
          paddingRight="24dp",
          textColor=0xFF000000,
        },
        {
          LinearLayout,
          padding="24dp",
          layout_width="fill",
          orientation="horizontal",
          {
            ProgressBar,
            id="pgb",
            paddingRight="24dp",
          },
          {
            TextView,
            id="qlzt",
            textSize="18sp",
            text="正在扫描..",
            layout_gravity="center",
            textColor=0xFF000000,
          },
        },
        {
          LinearLayout,
          gravity="right",
          layout_width="fill",
          paddingTop="4.5dp",
          paddingRight="12.5dp",
          paddingBottom="4.5dp",
          orientation="horizontal",
          {
            LinearLayout,
            layout_width="63.5dp",
            layout_height="46dp",
            {
              TextView,
              id="qdan",
              text="取消",
              gravity="center",
              layout_width="fill",
              layout_height="36dp",
              layout_gravity="center",
              textColor=0xFF68AFE5,
              onClick=function()
                kwjjqlbj.dismiss()
                qxqlkwjj=true
              end,
            },
          },
        },
      },
    },
  }
  确认布局={
    LinearLayout,
    gravity="center",
    layout_width=w,
    layout_height=h,
    backgroundColor=0x80000000,
    onClick=function()
      qrbj.dismiss()
    end,
    {
      CardView,
      elevation="5dp",
      layout_marginTop=getStatusBarHeight()/2,
      {
        LinearLayout,
        orientation="vertical",
        layout_width="86%w",
        backgroundColor=0xFFFFFFFF,
        {
          TextView,
          paddingTop="18dp",
          paddingLeft="24dp",
          paddingRight="24dp",
          textSize="20sp",
          text="提示",
          textColor=0xFF000000,
        },
        {
          TextView,
          padding="24dp",
          textSize="18sp",
          textColor=0xFF000000,
          text="你确定清理本机所有空文件夹吗？"
        },
        {
          LinearLayout,
          gravity="right",
          layout_width="fill",
          paddingTop="4.5dp",
          paddingRight="12.5dp",
          paddingBottom="4.5dp",
          orientation="horizontal",
          {
            LinearLayout,
            layout_width="63.5dp",
            layout_height="46dp",
            {
              TextView,
              id="qxan",
              text="取消",
              gravity="center",
              layout_width="fill",
              layout_height="36dp",
              layout_gravity="center",
              textColor=0xFF68AFE5,
              onClick=function()
                qrbj.dismiss()
              end,
            },
          },
          {
            LinearLayout,
            layout_width="63.5dp",
            layout_height="46dp",
            {
              TextView,
              id="qdan",
              text="确定",
              gravity="center",
              layout_width="fill",
              layout_height="36dp",
              layout_gravity="center",
              textColor=0xFF68AFE5,
              onClick=function()
                qrbj.dismiss()
                dialog=AlertDialog.Builder(this)kwjjqlbj=dialog.show()kwjjqlbj.setCancelable(false).getWindow().setContentView(loadlayout(空文件夹清理布局))
                波纹方(qdan,0xFFE5F2FA)pgb.IndeterminateDrawable.setColorFilter(PorterDuffColorFilter(0xFF68AFE5,PorterDuff.Mode.SRC_ATOP))
                collectgarbage("collect")
                thread(查找空文件夹,File("/storage/emulated/0"))
              end,
            },
          },
        },
      },
    },
  }
  qrbj=PopupWindow(loadlayout(确认布局))
  qrbj.setFocusable(true).setWidth(w).setHeight(h).setTouchable(true).setOutsideTouchable(true).showAtLocation(fltBtn.Parent,0,0,0)
  波纹方(qxan,0xFFE5F2FA)波纹方(qdan,0xFFE5F2FA)
  function 查找空文件夹完成(item,time)
    if not qxqlkwjj then
      个数=0
      for i=1,#item do
        if pcall(function()LuaUtil.rmDir(tostring(item[i]))end) then
          个数=个数+1
          qlzt.text="已经清理了"..个数.."个文件夹。"
        end
      end
      pgb.setVisibility(8)
      qdan.text="确定"
      qlztbt.text="清理完成"
      qlzt.text="共清理了"..个数.."个，耗时"..os.time()-time.."秒。"
    end
  end
  function 查找空文件夹(catalog)
    ret={} t=os.time()
    require "import"
    import "java.io.File"
    import "java.lang.String"
    function FindFile(catalog)
      local ls=catalog.listFiles()
      for 次数=0,#ls-1 do
        if 次数==tointeger(#ls/4) or 次数==tointeger(#ls/2) or 次数==tointeger(#ls*0.75) then
          collectgarbage("collect")
        end
        local f=ls[次数]
        if f.isDirectory() then
          if #(f.listFiles() or File{})==0 then
            ff=f
            while tostring(ff):match("/storage/emulated/0(.+)"):find"/" do
              ff=File(tostring(ff)).getParentFile()
              if #(ff.listFiles()or File{})>1 then
                table.insert(ret,f)
                break
              else
                f=File(tostring(f)).getParentFile()
              end
            end
           else
            FindFile(f)
          end
        end
      end
    end
    FindFile(catalog)
    call('查找空文件夹完成',ret,t)
    luajava.clear(f)
    collectgarbage("collect")
  end
end
function 安装包清理()
  qxqlazb=nil
  安装包清理布局={
    LinearLayout,
    gravity="center",
    layout_width=w,
    layout_height=h,
    {
      CardView,
      elevation="5dp",
      {
        LinearLayout,
        orientation="vertical",
        layout_width="86%w",
        backgroundColor=0xFFFFFFFF,
        {
          TextView,
          id="qlztbt",
          textSize="20sp",
          text="正在清理..",
          paddingTop="18dp",
          paddingLeft="24dp",
          paddingRight="24dp",
          textColor=0xFF000000,
        },
        {
          LinearLayout,
          padding="24dp",
          layout_width="fill",
          orientation="horizontal",
          {
            ProgressBar,
            id="pgb",
            paddingRight="24dp",
          },
          {
            TextView,
            id="qlzt",
            textSize="18sp",
            text="正在扫描..",
            layout_gravity="center",
            textColor=0xFF000000,
          },
        },
        {
          LinearLayout,
          gravity="right",
          layout_width="fill",
          paddingTop="4.5dp",
          paddingRight="12.5dp",
          paddingBottom="4.5dp",
          orientation="horizontal",
          {
            LinearLayout,
            layout_width="63.5dp",
            layout_height="46dp",
            {
              TextView,
              id="qdan",
              text="取消",
              gravity="center",
              layout_width="fill",
              layout_height="36dp",
              layout_gravity="center",
              textColor=0xFF68AFE5,
              onClick=function()
                azbqlbj.dismiss()
                qxqlazb=true
              end,
            },
          },
        },
      },
    },
  }
  确认布局={
    LinearLayout,
    gravity="center",
    layout_width=w,
    layout_height=h,
    backgroundColor=0x80000000,
    onClick=function()
      qrbj.dismiss()
    end,
    {
      CardView,
      elevation="5dp",
      layout_marginTop=getStatusBarHeight()/2,
      {
        LinearLayout,
        orientation="vertical",
        layout_width="86%w",
        backgroundColor=0xFFFFFFFF,
        {
          TextView,
          paddingTop="18dp",
          paddingLeft="24dp",
          paddingRight="24dp",
          textSize="20sp",
          text="提示",
          textColor=0xFF000000,
        },
        {
          TextView,
          padding="24dp",
          textSize="18sp",
          textColor=0xFF000000,
          text="你确定清理本机所有安装包文件？！"
        },
        {
          LinearLayout,
          gravity="right",
          layout_width="fill",
          paddingTop="4.5dp",
          paddingRight="12.5dp",
          paddingBottom="4.5dp",
          orientation="horizontal",
          {
            LinearLayout,
            layout_width="63.5dp",
            layout_height="46dp",
            {
              TextView,
              id="qxan",
              text="取消",
              gravity="center",
              layout_width="fill",
              layout_height="36dp",
              layout_gravity="center",
              textColor=0xFF68AFE5,
              onClick=function()
                qrbj.dismiss()
              end,
            },
          },
          {
            LinearLayout,
            layout_width="63.5dp",
            layout_height="46dp",
            {
              TextView,
              id="qdan",
              text="确定",
              gravity="center",
              layout_width="fill",
              layout_height="36dp",
              layout_gravity="center",
              textColor=0xFF68AFE5,
              onClick=function()
                qrbj.dismiss()
                dialog=AlertDialog.Builder(this)azbqlbj=dialog.show()azbqlbj.setCancelable(false).getWindow().setContentView(loadlayout(安装包清理布局))
                波纹方(qdan,0xFFE5F2FA)pgb.IndeterminateDrawable.setColorFilter(PorterDuffColorFilter(0xFF68AFE5,PorterDuff.Mode.SRC_ATOP))
                collectgarbage("collect")
                thread(查找安装包,File("/storage/emulated/0"))
              end,
            },
          },
        },
      },
    },
  }
  qrbj=PopupWindow(loadlayout(确认布局))
  qrbj.setFocusable(true).setWidth(w).setHeight(h).setTouchable(true).setOutsideTouchable(true).showAtLocation(fltBtn.Parent,0,0,0)
  波纹方(qxan,0xFFE5F2FA)波纹方(qdan,0xFFE5F2FA)
  function 查找安装包完成(个数,time)
    pgb.setVisibility(8)
    qdan.text="确定"
    qlztbt.text="清理完成"
    qlzt.text="共清理了"..个数.."个，耗时"..os.time()-time.."秒。"
  end
  function 设置安装包查找进度(str)
    qlzt.text=str
  end
  function 删除安装包(path)
    if not qxqlazb then
      os.remove(path)
    end
  end
  function 查找安装包(catalog)
    t=os.time() 个数=0
    require "import"
    import "java.io.File"
    import "java.lang.String"
    function FindFile(catalog)
      local ls=catalog.listFiles()or File{}
      for 次数=0,#ls-1 do
        if 次数==tointeger(#ls/4) or 次数==tointeger(#ls/2) or 次数==tointeger(#ls*0.75) then
          collectgarbage("collect")
        end
        local f=ls[次数]
        if f.isDirectory() then
          FindFile(f)
        else
          if tostring(f):sub(#tostring(f)-3,#tostring(f))==".apk" then
            call('删除安装包',tostring(f))
            Thread.sleep(70)
            if File(tostring(f)).isFile() then
              break
            else
              个数=个数+1
              call("设置安装包查找进度","已经清理了"..个数.."个安装包")
            end
          end
        end
      end
    end
    FindFile(catalog)
    call('查找安装包完成',个数,t)
    luajava.clear(f)
    collectgarbage("collect")
  end
end
function QQ无用缓存清理()
  qxqlqqwyhc=nil
  QQ无用缓存清理布局={
    LinearLayout,
    gravity="center",
    layout_width=w,
    layout_height=h,
    {
      CardView,
      elevation="5dp",
      {
        LinearLayout,
        orientation="vertical",
        layout_width="86%w",
        backgroundColor=0xFFFFFFFF,
        {
          TextView,
          id="qlztbt",
          textSize="20sp",
          text="正在清理..",
          paddingTop="18dp",
          paddingLeft="24dp",
          paddingRight="24dp",
          textColor=0xFF000000,
        },
        {
          LinearLayout,
          padding="24dp",
          layout_width="fill",
          orientation="horizontal",
          {
            ProgressBar,
            id="pgb",
            paddingRight="24dp",
          },
          {
            TextView,
            id="qlzt",
            textSize="18sp",
            text="正在计算大小..",
            layout_gravity="center",
            textColor=0xFF000000,
          },
        },
        {
          LinearLayout,
          gravity="right",
          layout_width="fill",
          paddingTop="4.5dp",
          paddingRight="12.5dp",
          paddingBottom="4.5dp",
          orientation="horizontal",
          {
            LinearLayout,
            layout_width="63.5dp",
            layout_height="46dp",
            {
              TextView,
              id="qdan",
              text="取消",
              gravity="center",
              layout_width="fill",
              layout_height="36dp",
              layout_gravity="center",
              textColor=0xFF68AFE5,
              onClick=function()
                qqwyhcqlbj.dismiss()
                qxqlqqwyhc=true
              end,
            },
          },
        },
      },
    },
  }
  dialog=AlertDialog.Builder(this)qqwyhcqlbj=dialog.show()qqwyhcqlbj.setCancelable(false).getWindow().setContentView(loadlayout(QQ无用缓存清理布局))
  波纹方(qdan,0xFFE5F2FA)pgb.IndeterminateDrawable.setColorFilter(PorterDuffColorFilter(0xFF68AFE5,PorterDuff.Mode.SRC_ATOP))
  collectgarbage("collect")
  if qlqqwyhcwc then
    qlqqwyhcwc=nil
    thread(getFolderSize,{"/storage/emulated/0/Android/data/com.tencent.mobileqq","/storage/emulated/0/tencent/MobileQQ/poke","/storage/emulated/0/tencent/MobileQQ/.apollo","/storage/emulated/0/tencent/tbs","/storage/emulated/0/Android/data/com.qzone"},function(size,t)
      qlqqwyhcwc=true
      if not qxqlqqwyhc then
        LuaUtil.rmDir("/storage/emulated/0/Android/data/com.tencent.mobileqq")
        LuaUtil.rmDir("/storage/emulated/0/tencent/MobileQQ/poke")
        LuaUtil.rmDir("/storage/emulated/0/tencent/MobileQQ/.apollo")
        LuaUtil.rmDir("/storage/emulated/0/tencent/tbs")
        LuaUtil.rmDir("/storage/emulated/0/Android/data/com.qzone")
        pgb.setVisibility(8)
        qdan.text="确定"
        qlztbt.text="清理完成"
        qlzt.text="共清理了"..size.."，耗时"..os.time()-t.."秒。"
      end
    end)
  end
end
import"android.support.v4.widget.*"
轻工具布局={
  FrameLayout,
  id="qgjfbj",
  layout_width=w,
  layout_height=h,
  {
    LinearLayout,
    orientation="vertical",
    layout_height=h,
    backgroundColor=0xffffffff,
    {
      PageView;
      backgroundColor=0xffffffff,
      layout_height="fill",
      layout_width=w,
      id="pagev2",
      pages={
        {
          FrameLayout,
          layout_width=w,
          layout_height="fill",
          {
            NestedScrollView;
            id="flhd2",
            layout_width="fill",
            layout_height="fill",
            layout_marginTop="8dp",
            layout_marginLeft="8dp",
            layout_marginRight="8dp",
            VerticalScrollBarEnabled=false,
            {
              LinearLayout,
              orientation="vertical",
              {
                LinearLayout,
                layout_width=w,
                layout_height=getStatusBarHeight()+geth(toolbar),
              },
              {
                LinearLayout,
                layout_width="fill",
                layout_height="fill",
                orientation="horizontal",
                {
                  LinearLayout,
                  id="zyyyzl",
                  orientation="vertical",
                  layout_width=0.5*w-geth(toolbar)/4,
                },
                {
                  LinearLayout,
                  id="zyyyyl",
                  orientation="vertical",
                  layout_width=0.5*w-geth(toolbar)/4,
                },
              },
            },
          },
          {
            CardView,
            id="scscyy",
            visibility=4,
            radius="28dp",
            elevation="5dp",
            layout_width="56dp",
            layout_height="56dp",
            layout_margin="16dp",
            layout_gravity="right|bottom",
            cardBackgroundColor=0xFF68AFE5,
            layout_marginBottom=0.068*h+16/32*geth(toolbar),
            {
              ImageView,
              padding="14dp",
              layout_width="fill",
              layout_height="fill",
              ColorFilter=0xffffffff,
              layout_gravity="center",
              src="http://shp.qpic.cn/collector/2530648358/42fcb38e-779a-4622-886d-fade6f7a08f7/0",
              onClick=function()
                if 轻工具主页待删除应用~=""then
                  b=loadstring("return ".."{"..轻工具主页待删除应用.."}")轻工具主页待删除应用=b()
                  轻工具主页收藏应用=io.open("/data/data/"..activity.getPackageName().."/轻工具主页收藏应用"):read("*a")
                  for i=1,#轻工具主页待删除应用 do
                    轻工具主页收藏应用=轻工具主页收藏应用:gsub('"'..轻工具主页待删除应用[i]..'",',"")
                  end
                  io.open("/data/data/"..activity.getPackageName().."/轻工具主页收藏应用","w+"):write(轻工具主页收藏应用):close()
                  scscyy.setVisibility(4)
                  主页收藏应用()
                end
              end,
            },
          },
        },
        {
          NestedScrollView;
          id="flhd",
          layout_width=w,
          layout_height="fill",
          OverScrollMode=2,
          VerticalScrollBarEnabled=false,
          {
            LinearLayout,
            layout_height="fill",
            orientation="vertical",
            backgroundColor=0xFFF5F5F5,
            {
              LinearLayout,
              layout_height=getStatusBarHeight()+geth(toolbar),
            },
            {
              LinearLayout,
              padding="20dp",
              layout_width=w,
              orientation="horizontal",
              backgroundColor=0xffffffff,
              onClick=function()全部应用()end,
              {
                ImageView,
                layout_width="24dp",
                layout_height="24dp",
                layout_gravity="center",
                src="http://shp.qpic.cn/collector/2530648358/5343730d-de28-4d0d-ba5b-a5da4d381475/0",
                ColorFilter=0xFF60ACE5,
              },
              {
                TextView,
                text="全部应用",
                layout_weight="1",
                Typeface=Typeface.DEFAULT_BOLD,
                textColor=0xff000000,
                layout_gravity="center",
                layout_marginLeft="16dp",
              },
              {
                ImageView,
                layout_width="24dp",
                layout_height="24dp",
                layout_gravity="center",
                src="http://shp.qpic.cn/collector/2530648358/df4540cf-e4b0-4b2a-a660-3c6853451b3d/0",
                ColorFilter=0xFF000000,
              },
            },
            {
              LinearLayout,
              layout_width=w,
              backgroundColor=0xffffffff,
              layout_marginTop="10dp",
              {
                LinearLayout,
                padding="20dp",
                layout_width="fill",
                orientation="vertical",
                {
                  LinearLayout,
                  orientation="horizontal",
                  {
                    ImageView,
                    layout_width="24dp",
                    layout_height="24dp",
                    layout_gravity="center",
                    src="http://shp.qpic.cn/collector/2530648358/45b18721-ec50-4565-8f87-6bbf6eabd88d/0",
                    ColorFilter=0xFF60ACE5,
                  },
                  {
                    TextView,
                    text="日常应用",
                    textColor=0xff000000,
                    layout_gravity="bottom",
                    layout_gravity="center",
                    layout_marginLeft="16dp",
                  },
                },
                {
                  LinearLayout,
                  layout_width="fill",
                  orientation="vertical",
                  layout_marginTop="15dp",
                  {
                    LinearLayout,
                    layout_height="32dp",
                    orientation="horizontal",
                    {
                      CardView,
                      layout_height="fill",
                      elevation=0,
                      radius="16dp",
                      cardBackgroundColor=0xFFF8F8F8,
                      {
                        TextView,
                        id="dzbid",
                        paddingLeft="12dp",
                        paddingRight="12dp",
                        text="打字板",
                        textColor=0xFF4E4E4E,
                        layout_gravity="center",
                        onClick=function()打字板()end,
                      },
                    },
                    {
                      CardView,
                      layout_height="fill",
                      elevation=0,
                      radius="16dp",
                      layout_marginLeft="10dp",
                      cardBackgroundColor=0xFFF8F8F8,
                      {
                        TextView,
                        id="hbid",
                        paddingLeft="12dp",
                        paddingRight="12dp",
                        text="画板",
                        textColor=0xFF4E4E4E,
                        layout_gravity="center",
                        onClick=function()
                          画板()
                        end,
                      },
                    },
                    {
                      CardView,
                      layout_height="fill",
                      elevation=0,
                      radius="16dp",
                      layout_marginLeft="10dp",
                      cardBackgroundColor=0xFFF8F8F8,
                      {
                        TextView,
                        id="sjpmid",
                        paddingLeft="12dp",
                        paddingRight="12dp",
                        text="时间屏幕",
                        textColor=0xFF4E4E4E,
                        layout_gravity="center",
                        onClick=function()时间屏幕()end,
                      },
                    },
                  },
                  {
                    LinearLayout,
                    layout_height="32dp",
                    orientation="horizontal",
                    layout_marginTop="10dp",
                    {
                      CardView,
                      layout_height="fill",
                      elevation=0,
                      radius="16dp",
                      cardBackgroundColor=0xFFF8F8F8,
                      {
                        TextView,
                        id="ljflcxid",
                        paddingLeft="12dp",
                        paddingRight="12dp",
                        text="垃圾分类查询",
                        textColor=0xFF4E4E4E,
                        layout_gravity="center",
                        onClick=function()垃圾分类查询()end,
                      },
                    },
                    {
                      CardView,
                      layout_height="fill",
                      elevation=0,
                      radius="16dp",
                      layout_marginLeft="10dp",
                      cardBackgroundColor=0xFFF8F8F8,
                      {
                        TextView,
                        id="fyid",
                        paddingLeft="12dp",
                        paddingRight="12dp",
                        text="翻译",
                        textColor=0xFF4E4E4E,
                        layout_gravity="center",
                        onClick=function()翻译()end,
                      },
                    },
                    {
                      CardView,
                      layout_height="fill",
                      elevation=0,
                      radius="16dp",
                      layout_marginLeft="10dp",
                      cardBackgroundColor=0xFFF8F8F8,
                      {
                        TextView,
                        id="hlzhid",
                        paddingLeft="12dp",
                        paddingRight="12dp",
                        text="汇率转换",
                        textColor=0xFF4E4E4E,
                        layout_gravity="center",
                        onClick=function()汇率转换()end,
                      },
                    },
                  },
                  {
                    LinearLayout,
                    layout_height="32dp",
                    orientation="horizontal",
                    layout_marginTop="10dp",
                    {
                      CardView,
                      layout_height="fill",
                      elevation=0,
                      radius="16dp",
                      cardBackgroundColor=0xFFF8F8F8,
                      {
                        TextView,
                        id="kdcxliteid",
                        paddingLeft="12dp",
                        paddingRight="12dp",
                        text="快递查询Lite",
                        textColor=0xFF4E4E4E,
                        layout_gravity="center",
                        onClick=function()快递查询Lite()end,
                      },
                    },
                    {
                      CardView,
                      layout_height="fill",
                      elevation=0,
                      radius="16dp",
                      layout_marginLeft="10dp",
                      cardBackgroundColor=0xFFF8F8F8,
                      {
                        TextView,
                        id="dlscid",
                        paddingLeft="12dp",
                        paddingRight="12dp",
                        text="短链 生成与还原",
                        textColor=0xFF4E4E4E,
                        layout_gravity="center",
                        onClick=function()短链生成()end,
                      },
                    },
                  },
                  {
                    LinearLayout,
                    layout_height="32dp",
                    orientation="horizontal",
                    layout_marginTop="10dp",
                    {
                      CardView,
                      layout_height="fill",
                      elevation=0,
                      radius="16dp",
                      cardBackgroundColor=0xFFF8F8F8,
                      {
                        TextView,
                        id="czid",
                        paddingLeft="12dp",
                        paddingRight="12dp",
                        text="尺子",
                        textColor=0xFF4E4E4E,
                        layout_gravity="center",
                        onClick=function()尺子()end,
                      },
                    },
                    {
                      CardView,
                      layout_height="fill",
                      elevation=0,
                      radius="16dp",
                      layout_marginLeft="10dp",
                      cardBackgroundColor=0xFFF8F8F8,
                      {
                        TextView,
                        paddingLeft="12dp",
                        paddingRight="12dp",
                        text="网速测试",
                        textColor=0xFF4E4E4E,
                        layout_gravity="center",
                      },
                    },
                    {
                      CardView,
                      layout_height="fill",
                      elevation=0,
                      radius="16dp",
                      layout_marginLeft="10dp",
                      cardBackgroundColor=0xFFF8F8F8,
                      {
                        TextView,
                        id="znzid",
                        paddingLeft="12dp",
                        paddingRight="12dp",
                        text="指南针",
                        textColor=0xFF4E4E4E,
                        layout_gravity="center",
                        onClick=function()指南针()end,
                      },
                    },
                  },
                },
              },
            },
            {
              LinearLayout,
              layout_width=w,
              backgroundColor=0xffffffff,
              layout_marginTop="10dp",
              {
                LinearLayout,
                padding="20dp",
                layout_width="fill",
                orientation="vertical",
                {
                  LinearLayout,
                  orientation="horizontal",
                  {
                    ImageView,
                    layout_width="24dp",
                    layout_height="24dp",
                    layout_gravity="center",
                    src="http://shp.qpic.cn/collector/2530648358/39672429-a390-4515-b701-2d7d1d826c2e/0",
                    ColorFilter=0xFF60ACE5,
                  },
                  {
                    TextView,
                    text="图片应用",
                    textColor=0xff000000,
                    layout_gravity="center",
                    layout_marginLeft="16dp",
                  },
                },
                {
                  LinearLayout,
                  layout_width="fill",
                  orientation="vertical",
                  layout_marginTop="15dp",
                  {
                    LinearLayout,
                    layout_height="32dp",
                    orientation="horizontal",
                    {
                      CardView,
                      layout_height="fill",
                      elevation=0,
                      radius="16dp",
                      cardBackgroundColor=0xFFF8F8F8,
                      {
                        TextView,
                        id="ewmgjid",
                        paddingLeft="12dp",
                        paddingRight="12dp",
                        text="二维码工具",
                        textColor=0xFF4E4E4E,
                        layout_gravity="center",
                        onClick=function()二维码工具()end,
                      },
                    },
                    {
                      CardView,
                      layout_height="fill",
                      elevation=0,
                      radius="16dp",
                      layout_marginLeft="10dp",
                      cardBackgroundColor=0xFFF8F8F8,
                      {
                        TextView,
                        paddingLeft="12dp",
                        paddingRight="12dp",
                        text="表情制作",
                        textColor=0xFF4E4E4E,
                        layout_gravity="center",
                      },
                    },
                    {
                      CardView,
                      layout_height="fill",
                      elevation=0,
                      radius="16dp",
                      layout_marginLeft="10dp",
                      cardBackgroundColor=0xFFF8F8F8,
                      {
                        TextView,
                        id="qsqid",
                        paddingLeft="12dp",
                        paddingRight="12dp",
                        text="取色器",
                        textColor=0xFF4E4E4E,
                        layout_gravity="center",
                        onClick=function()取色器()end,
                      },
                    },
                  },
                  {
                    LinearLayout,
                    layout_height="32dp",
                    orientation="horizontal",
                    layout_marginTop="10dp",
                    {
                      CardView,
                      layout_height="fill",
                      elevation=0,
                      radius="16dp",
                      cardBackgroundColor=0xFFF8F8F8,
                      {
                        TextView,
                        paddingLeft="12dp",
                        paddingRight="12dp",
                        text="以图搜图",
                        textColor=0xFF4E4E4E,
                        layout_gravity="center",
                      },
                    },
                    {
                      CardView,
                      layout_height="fill",
                      elevation=0,
                      radius="16dp",
                      layout_marginLeft="10dp",
                      cardBackgroundColor=0xFFF8F8F8,
                      {
                        TextView,
                        paddingLeft="12dp",
                        paddingRight="12dp",
                        text="GIF合成分解",
                        textColor=0xFF4E4E4E,
                        layout_gravity="center",
                      },
                    },
                    {
                      CardView,
                      layout_height="fill",
                      elevation=0,
                      radius="16dp",
                      layout_marginLeft="10dp",
                      cardBackgroundColor=0xFFF8F8F8,
                      {
                        TextView,
                        paddingLeft="12dp",
                        paddingRight="12dp",
                        text="图片压缩",
                        textColor=0xFF4E4E4E,
                        layout_gravity="center",
                      },
                    },
                  },
                  {
                    LinearLayout,
                    layout_height="32dp",
                    orientation="horizontal",
                    layout_marginTop="10dp",
                    {
                      CardView,
                      layout_height="fill",
                      elevation=0,
                      radius="16dp",
                      cardBackgroundColor=0xFFF8F8F8,
                      {
                        TextView,
                        paddingLeft="12dp",
                        paddingRight="12dp",
                        text="图片拼接",
                        textColor=0xFF4E4E4E,
                        layout_gravity="center",
                      },
                    },
                    {
                      CardView,
                      layout_height="fill",
                      elevation=0,
                      radius="16dp",
                      layout_marginLeft="10dp",
                      cardBackgroundColor=0xFFF8F8F8,
                      {
                        TextView,
                        id="tpzljid",
                        paddingLeft="12dp",
                        paddingRight="12dp",
                        text="图片转链接",
                        textColor=0xFF4E4E4E,
                        layout_gravity="center",
                        onClick=function()图片转链接()end,
                      },
                    },
                    {
                      CardView,
                      layout_height="fill",
                      elevation=0,
                      radius="16dp",
                      layout_marginLeft="10dp",
                      cardBackgroundColor=0xFFF8F8F8,
                      {
                        TextView,
                        paddingLeft="12dp",
                        paddingRight="12dp",
                        text="隐藏图",
                        textColor=0xFF4E4E4E,
                        layout_gravity="center",
                      },
                    },
                  },
                  {
                    LinearLayout,
                    layout_height="32dp",
                    orientation="horizontal",
                    layout_marginTop="10dp",
                    {
                      CardView,
                      layout_height="fill",
                      elevation=0,
                      radius="16dp",
                      cardBackgroundColor=0xFFF8F8F8,
                      {
                        TextView,
                        paddingLeft="12dp",
                        paddingRight="12dp",
                        text="文字转图",
                        textColor=0xFF4E4E4E,
                        layout_gravity="center",
                      },
                    },
                    {
                      CardView,
                      layout_height="fill",
                      elevation=0,
                      radius="16dp",
                      layout_marginLeft="10dp",
                      cardBackgroundColor=0xFFF8F8F8,
                      {
                        TextView,
                        paddingLeft="12dp",
                        paddingRight="12dp",
                        text="图片转文本编码",
                        textColor=0xFF4E4E4E,
                        layout_gravity="center",
                      },
                    },
                    {
                      CardView,
                      layout_height="fill",
                      elevation=0,
                      radius="16dp",
                      layout_marginLeft="10dp",
                      cardBackgroundColor=0xFFF8F8F8,
                      {
                        TextView,
                        paddingLeft="12dp",
                        paddingRight="12dp",
                        text="带壳截图",
                        textColor=0xFF4E4E4E,
                        layout_gravity="center",
                      },
                    },
                  },
                },
              },
            },
            {
              LinearLayout,
              layout_width=w,
              backgroundColor=0xffffffff,
              layout_marginTop="10dp",
              {
                LinearLayout,
                padding="20dp",
                layout_width="fill",
                orientation="vertical",
                {
                  LinearLayout,
                  orientation="horizontal",
                  {
                    ImageView,
                    layout_width="24dp",
                    layout_height="24dp",
                    layout_gravity="center",
                    src="http://shp.qpic.cn/collector/2530648358/ff2bf543-b548-4b98-8258-69c4c2e3a5ad/0",
                    ColorFilter=0xFF60ACE5,
                  },
                  {
                    TextView,
                    text="第三方应用",
                    textColor=0xff000000,
                    layout_gravity="center",
                    layout_marginLeft="16dp",
                  },
                },
                {
                  LinearLayout,
                  layout_width="fill",
                  orientation="vertical",
                  layout_marginTop="15dp",
                  {
                    LinearLayout,
                    layout_height="32dp",
                    orientation="horizontal",
                    {
                      CardView,
                      layout_height="fill",
                      elevation=0,
                      radius="16dp",
                      cardBackgroundColor=0xFFF8F8F8,
                      {
                        TextView,
                        id="bilibilifmhqid",
                        paddingLeft="12dp",
                        paddingRight="12dp",
                        text="BiliBili封面获取",
                        textColor=0xFF4E4E4E,
                        layout_gravity="center",
                        onClick=function()BiliBili封面获取()end,
                      },
                    },
                    {
                      CardView,
                      layout_height="fill",
                      elevation=0,
                      radius="16dp",
                      layout_marginLeft="10dp",
                      cardBackgroundColor=0xFFF8F8F8,
                      {
                        TextView,
                        paddingLeft="12dp",
                        paddingRight="12dp",
                        text="云音乐启动图替换",
                        textColor=0xFF4E4E4E,
                        layout_gravity="center",
                      },
                    },
                  },
                  {
                    LinearLayout,
                    layout_height="32dp",
                    orientation="horizontal",
                    layout_marginTop="10dp",
                    {
                      CardView,
                      layout_height="fill",
                      elevation=0,
                      radius="16dp",
                      cardBackgroundColor=0xFFF8F8F8,
                      {
                        TextView,
                        paddingLeft="12dp",
                        paddingRight="12dp",
                        text="Instagram 图片下载",
                        textColor=0xFF4E4E4E,
                        layout_gravity="center",
                      },
                    },
                  },
                },
              },
            },
            {
              LinearLayout,
              layout_width=w,
              backgroundColor=0xffffffff,
              layout_marginTop="10dp",
              {
                LinearLayout,
                padding="20dp",
                layout_width="fill",
                orientation="vertical",
                {
                  LinearLayout,
                  orientation="horizontal",
                  {
                    ImageView,
                    layout_width="24dp",
                    layout_height="24dp",
                    layout_gravity="center",
                    src="http://shp.qpic.cn/collector/2530648358/799e988b-0b53-4c30-a3d4-10e848839c92/0",
                    ColorFilter=0xFF60ACE5,
                  },
                  {
                    TextView,
                    text="设备应用",
                    textColor=0xff000000,
                    layout_gravity="center",
                    layout_marginLeft="16dp",
                  },
                },
                {
                  LinearLayout,
                  layout_width="fill",
                  orientation="vertical",
                  layout_marginTop="15dp",
                  {
                    LinearLayout,
                    layout_height="32dp",
                    orientation="horizontal",
                    {
                      CardView,
                      layout_height="fill",
                      elevation=0,
                      radius="16dp",
                      cardBackgroundColor=0xFFF8F8F8,
                      {
                        TextView,
                        paddingLeft="12dp",
                        paddingRight="12dp",
                        text="噪音测量",
                        textColor=0xFF4E4E4E,
                        layout_gravity="center",
                      },
                    },
                    {
                      CardView,
                      layout_height="fill",
                      elevation=0,
                      radius="16dp",
                      layout_marginLeft="10dp",
                      cardBackgroundColor=0xFFF8F8F8,
                      {
                        TextView,
                        paddingLeft="12dp",
                        paddingRight="12dp",
                        text="震动器",
                        textColor=0xFF4E4E4E,
                        layout_gravity="center",
                      },
                    },
                    {
                      CardView,
                      layout_height="fill",
                      elevation=0,
                      radius="16dp",
                      layout_marginLeft="10dp",
                      cardBackgroundColor=0xFFF8F8F8,
                      {
                        TextView,
                        id="cksbxxxxid",
                        paddingLeft="12dp",
                        paddingRight="12dp",
                        text="查看设备详细信息",
                        textColor=0xFF4E4E4E,
                        layout_gravity="center",
                        onClick=function()查看设备详细信息()end,
                      },
                    },
                  },
                  {
                    LinearLayout,
                    layout_height="32dp",
                    orientation="horizontal",
                    layout_marginTop="10dp",
                    {
                      CardView,
                      layout_height="fill",
                      elevation=0,
                      radius="16dp",
                      cardBackgroundColor=0xFFF8F8F8,
                      {
                        TextView,
                        paddingLeft="12dp",
                        paddingRight="12dp",
                        text="应用管理",
                        textColor=0xFF4E4E4E,
                        layout_gravity="center",
                      },
                    },
                    {
                      CardView,
                      layout_height="fill",
                      elevation=0,
                      radius="16dp",
                      layout_marginLeft="10dp",
                      cardBackgroundColor=0xFFF8F8F8,
                      {
                        TextView,
                        id="hqdqbzid",
                        paddingLeft="12dp",
                        paddingRight="12dp",
                        text="获取当前壁纸",
                        textColor=0xFF4E4E4E,
                        layout_gravity="center",
                        onClick=function()获取当前壁纸()end,
                      },
                    },
                    {
                      CardView,
                      layout_height="fill",
                      elevation=0,
                      radius="16dp",
                      layout_marginLeft="10dp",
                      cardBackgroundColor=0xFFF8F8F8,
                      {
                        TextView,
                        paddingLeft="12dp",
                        paddingRight="12dp",
                        text="高级重启",
                        textColor=0xFF4E4E4E,
                        layout_gravity="center",
                      },
                    },
                  },
                },
              },
            },
            {
              LinearLayout,
              layout_width=w,
              backgroundColor=0xffffffff,
              layout_marginTop="10dp",
              {
                LinearLayout,
                padding="20dp",
                layout_width="fill",
                orientation="vertical",
                {
                  LinearLayout,
                  orientation="horizontal",
                  {
                    ImageView,
                    layout_width="24dp",
                    layout_height="24dp",
                    layout_gravity="center",
                    src="http://shp.qpic.cn/collector/2530648358/c5794b00-8e26-4e15-88cf-008d722098cd/0",
                    ColorFilter=0xFF60ACE5,
                  },
                  {
                    TextView,
                    text="清理应用",
                    textColor=0xff000000,
                    layout_gravity="center",
                    layout_marginLeft="16dp",
                  },
                },
                {
                  LinearLayout,
                  layout_width="fill",
                  orientation="vertical",
                  layout_marginTop="15dp",
                  {
                    LinearLayout,
                    layout_height="32dp",
                    orientation="horizontal",
                    {
                      CardView,
                      layout_height="fill",
                      elevation=0,
                      radius="16dp",
                      cardBackgroundColor=0xFFF8F8F8,
                      {
                        TextView,
                        id="dwjqlid",
                        paddingLeft="12dp",
                        paddingRight="12dp",
                        text="大文件清理",
                        textColor=0xFF4E4E4E,
                        layout_gravity="center",
                        onClick=function()大文件清理()end,
                      },
                    },
                    {
                      CardView,
                      layout_height="fill",
                      elevation=0,
                      radius="16dp",
                      layout_marginLeft="10dp",
                      cardBackgroundColor=0xFFF8F8F8,
                      {
                        TextView,
                        id="kwjqlid",
                        paddingLeft="12dp",
                        paddingRight="12dp",
                        text="空文件清理",
                        textColor=0xFF4E4E4E,
                        layout_gravity="center",
                        onClick=function()空文件清理()end,
                      },
                    },
                    {
                      CardView,
                      layout_height="fill",
                      elevation=0,
                      radius="16dp",
                      layout_marginLeft="10dp",
                      cardBackgroundColor=0xFFF8F8F8,
                      {
                        TextView,
                        id="kwjjqlid",
                        paddingLeft="12dp",
                        paddingRight="12dp",
                        text="空文件夹清理",
                        textColor=0xFF4E4E4E,
                        layout_gravity="center",
                        onClick=function()空文件夹清理()end,
                      },
                    },
                  },
                  {
                    LinearLayout,
                    layout_height="32dp",
                    orientation="horizontal",
                    layout_marginTop="10dp",
                    {
                      CardView,
                      layout_height="fill",
                      elevation=0,
                      radius="16dp",
                      cardBackgroundColor=0xFFF8F8F8,
                      {
                        TextView,
                        id="azbqlid",
                        paddingLeft="12dp",
                        paddingRight="12dp",
                        text="安装包清理",
                        textColor=0xFF4E4E4E,
                        layout_gravity="center",
                        onClick=function()安装包清理()end,
                      },
                    },
                    {
                      CardView,
                      layout_height="fill",
                      elevation=0,
                      radius="16dp",
                      layout_marginLeft="10dp",
                      cardBackgroundColor=0xFFF8F8F8,
                      {
                        TextView,
                        id="qqwyhcqlid",
                        paddingLeft="12dp",
                        paddingRight="12dp",
                        text="QQ无用缓存清理",
                        textColor=0xFF4E4E4E,
                        layout_gravity="center",
                        onClick=function()QQ无用缓存清理()end,
                      },
                    },
                  },
                },
              },
            },
            {
              LinearLayout,
              layout_width=w,
              backgroundColor=0xffffffff,
              layout_marginTop="10dp",
              {
                LinearLayout,
                padding="20dp",
                layout_width="fill",
                orientation="vertical",
                {
                  LinearLayout,
                  orientation="horizontal",
                  {
                    ImageView,
                    layout_width="24dp",
                    layout_height="24dp",
                    layout_gravity="center",
                    src="http://shp.qpic.cn/collector/2530648358/e47001d6-67c4-4775-91c5-2866fb390334/0",
                    ColorFilter=0xFF60ACE5,
                  },
                  {
                    TextView,
                    text="转码应用",
                    textColor=0xff000000,
                    layout_gravity="center",
                    layout_marginLeft="16dp",
                  },
                },
                {
                  LinearLayout,
                  layout_width="fill",
                  orientation="vertical",
                  layout_marginTop="15dp",
                  {
                    LinearLayout,
                    layout_height="32dp",
                    orientation="horizontal",
                    {
                      CardView,
                      layout_height="fill",
                      elevation=0,
                      radius="16dp",
                      cardBackgroundColor=0xFFF8F8F8,
                      {
                        TextView,
                        id="msdmid",
                        paddingLeft="12dp",
                        paddingRight="12dp",
                        text="摩斯电码",
                        textColor=0xFF4E4E4E,
                        layout_gravity="center",
                        onClick=function()摩斯电码()end,
                      },
                    },
                    {
                      CardView,
                      layout_height="fill",
                      elevation=0,
                      radius="16dp",
                      layout_marginLeft="10dp",
                      cardBackgroundColor=0xFFF8F8F8,
                      {
                        TextView,
                        id="jzzhid",
                        paddingLeft="12dp",
                        paddingRight="12dp",
                        text="进制转换",
                        textColor=0xFF4E4E4E,
                        layout_gravity="center",
                        onClick=function()进制转换()end,
                      },
                    },
                    {
                      CardView,
                      layout_height="fill",
                      elevation=0,
                      radius="16dp",
                      layout_marginLeft="10dp",
                      cardBackgroundColor=0xFFF8F8F8,
                      {
                        TextView,
                        id="rc4jjmid",
                        paddingLeft="12dp",
                        paddingRight="12dp",
                        text="RC4加解密",
                        textColor=0xFF4E4E4E,
                        layout_gravity="center",
                        onClick=function()RC4加解密()end,
                      },
                    },
                  },
                  {
                    LinearLayout,
                    layout_height="32dp",
                    orientation="horizontal",
                    layout_marginTop="10dp",
                    {
                      CardView,
                      layout_height="fill",
                      elevation=0,
                      radius="16dp",
                      cardBackgroundColor=0xFFF8F8F8,
                      {
                        TextView,
                        id="base64bmzhid",
                        paddingLeft="12dp",
                        paddingRight="12dp",
                        text="Base64编码转换",
                        textColor=0xFF4E4E4E,
                        layout_gravity="center",
                        onClick=function()Base64编码转换()end,
                      },
                    },
                    {
                      CardView,
                      layout_height="fill",
                      elevation=0,
                      radius="16dp",
                      layout_marginLeft="10dp",
                      cardBackgroundColor=0xFFF8F8F8,
                      {
                        TextView,
                        id="md5jmid",
                        paddingLeft="12dp",
                        paddingRight="12dp",
                        text="MD5加密",
                        textColor=0xFF4E4E4E,
                        layout_gravity="center",
                        onClick=function()MD5加密()end,
                      },
                    },
                  },
                },
              },
            },
            {
              LinearLayout,
              layout_width=w,
              backgroundColor=0xffffffff,
              layout_marginTop="10dp",
              {
                LinearLayout,
                padding="20dp",
                layout_width="fill",
                orientation="vertical",
                {
                  LinearLayout,
                  orientation="horizontal",
                  {
                    ImageView,
                    layout_width="24dp",
                    layout_height="24dp",
                    layout_gravity="center",
                    src="http://shp.qpic.cn/collector/2530648358/135bf225-fb7e-4e51-8eaa-91111399b47e/0",
                    ColorFilter=0xFF60ACE5,
                  },
                  {
                    TextView,
                    text="其他应用",
                    textColor=0xff000000,
                    layout_gravity="center",
                    layout_marginLeft="16dp",
                  },
                },
                {
                  LinearLayout,
                  layout_width="fill",
                  orientation="vertical",
                  layout_marginTop="15dp",
                  {
                    LinearLayout,
                    layout_height="32dp",
                    orientation="horizontal",
                    {
                      CardView,
                      layout_height="fill",
                      elevation=0,
                      radius="16dp",
                      cardBackgroundColor=0xFFF8F8F8,
                      {
                        TextView,
                        id="lssdjtid",
                        paddingLeft="12dp",
                        paddingRight="12dp",
                        text="历史上的今天",
                        textColor=0xFF4E4E4E,
                        layout_gravity="center",
                        onClick=function()历史上的今天()end,
                      },
                    },
                    {
                      CardView,
                      layout_height="fill",
                      elevation=0,
                      radius="16dp",
                      layout_marginLeft="10dp",
                      cardBackgroundColor=0xFFF8F8F8,
                      {
                        TextView,
                        id="sjsscid",
                        paddingLeft="12dp",
                        paddingRight="12dp",
                        text="随机数生成",
                        textColor=0xFF4E4E4E,
                        layout_gravity="center",
                        onClick=function()随机数生成()end,
                      },
                    },
                  },
                  {
                    LinearLayout,
                    layout_height="32dp",
                    orientation="horizontal",
                    layout_marginTop="10dp",
                    {
                      CardView,
                      layout_height="fill",
                      elevation=0,
                      radius="16dp",
                      cardBackgroundColor=0xFFF8F8F8,
                      {
                        TextView,
                        paddingLeft="12dp",
                        paddingRight="12dp",
                        text="网盘提速-直链提取",
                        textColor=0xFF4E4E4E,
                        layout_gravity="center",
                      },
                    },
                    {
                      CardView,
                      layout_height="fill",
                      elevation=0,
                      radius="16dp",
                      layout_marginLeft="10dp",
                      cardBackgroundColor=0xFFF8F8F8,
                      {
                        TextView,
                        id="wyymhqid",
                        paddingLeft="12dp",
                        paddingRight="12dp",
                        text="网页源码获取",
                        textColor=0xFF4E4E4E,
                        layout_gravity="center",
                        onClick=function()网页源码获取()end,
                      },
                    },
                  },
                  {
                    LinearLayout,
                    layout_height="32dp",
                    orientation="horizontal",
                    layout_marginTop="10dp",
                    {
                      CardView,
                      layout_height="fill",
                      elevation=0,
                      radius="16dp",
                      cardBackgroundColor=0xFFF8F8F8,
                      {
                        TextView,
                        id="qqipcxid",
                        paddingLeft="12dp",
                        paddingRight="12dp",
                        text="全球IP查询",
                        textColor=0xFF4E4E4E,
                        layout_gravity="center",
                        onClick=function()全球IP查询()end,
                      },
                    },
                    {
                      CardView,
                      layout_height="fill",
                      elevation=0,
                      radius="16dp",
                      layout_marginLeft="10dp",
                      cardBackgroundColor=0xFFF8F8F8,
                      {
                        TextView,
                        id="gsdcxid",
                        paddingLeft="12dp",
                        paddingRight="12dp",
                        text="归属地查询",
                        textColor=0xFF4E4E4E,
                        layout_gravity="center",
                        onClick=function()归属地查询()end,
                      },
                    },
                    {
                      CardView,
                      layout_height="fill",
                      elevation=0,
                      radius="16dp",
                      layout_marginLeft="10dp",
                      cardBackgroundColor=0xFFF8F8F8,
                      {
                        TextView,
                        paddingLeft="12dp",
                        paddingRight="12dp",
                        text="磁力搜索",
                        textColor=0xFF4E4E4E,
                        layout_gravity="center",
                      },
                    },
                  },
                },
              },
            },
          },
        },
        {
          NestedScrollView;
          layout_width=w,
          layout_height="fill",
          VerticalScrollBarEnabled=false,
          {
            LinearLayout,
            layout_height="fill",
            orientation="vertical",
            backgroundColor=0xfff5f5f5,
            {
              LinearLayout,
              layout_width=w,
              backgroundColor=0xffffffff,
              layout_height=getStatusBarHeight()+geth(toolbar),
            },
            {
              LinearLayout,
              layout_width=w,
              backgroundColor=0xffffffff,
              {
                LinearLayout,
                padding="20dp",
                layout_width="fill",
                orientation="vertical",
                {
                  LinearLayout,
                  orientation="horizontal",
                  {
                    ImageView,
                    layout_width="24dp",
                    layout_height="24dp",
                    layout_gravity="center",
                    src="http://shp.qpic.cn/collector/2530648358/50c31453-684c-4bc5-a26d-2b0bd723fe3e/0",
                    ColorFilter=0xFF60ACE5,
                  },
                  {
                    TextView,
                    text="本版本新增应用",
                    textColor=0xff000000,
                    layout_gravity="center",
                    layout_marginLeft="16dp",
                  },
                },
                {
                  LinearLayout,
                  layout_width="fill",
                  orientation="vertical",
                  layout_marginTop="15dp",
                  {
                    LinearLayout,
                    layout_height="32dp",
                    orientation="horizontal",
                    {
                      CardView,
                      layout_height="fill",
                      elevation=0,
                      radius="16dp",
                      cardBackgroundColor=0xFFF8F8F8,
                      {
                        TextView,
                        id="qqwyhcqlid2",
                        paddingLeft="12dp",
                        paddingRight="12dp",
                        text="QQ无用缓存清理",
                        textColor=0xFF4E4E4E,
                        layout_gravity="center",
                        onClick=function()QQ无用缓存清理()end,
                      },
                    },
                    --[[{
                      CardView,
                      layout_height="fill",
                      elevation=0,
                      radius="16dp",
                      layout_marginLeft="10dp",
                      cardBackgroundColor=0xFFF8F8F8,
                      {
                        TextView,
                        id="kwjjqlid2",
                        paddingLeft="12dp",
                        paddingRight="12dp",
                        text="空文件夹清理",
                        textColor=0xFF4E4E4E,
                        layout_gravity="center",
                        onClick=function()空文件夹清理()end,
                      },
                    },]]
                  },
                  --[[{
                    LinearLayout,
                    layout_height="32dp",
                    orientation="horizontal",
                    layout_marginTop="10dp",
                    {
                      CardView,
                      layout_height="fill",
                      elevation=0,
                      radius="16dp",
                      cardBackgroundColor=0xFFF8F8F8,
                      {
                        TextView,
                        id="azbqlid2",
                        paddingLeft="12dp",
                        paddingRight="12dp",
                        text="安装包清理",
                        textColor=0xFF4E4E4E,
                        layout_gravity="center",
                        onClick=function()安装包清理()end,
                      },
                    },
                  },]]
                },
              },
            },
            {
              LinearLayout,
              layout_width=w,
              layout_marginTop="10dp",
              backgroundColor=0xffffffff,
              {
                LinearLayout,
                padding="20dp",
                layout_width="fill",
                orientation="vertical",
                {
                  LinearLayout,
                  orientation="horizontal",
                  {
                    ImageView,
                    layout_width="24dp",
                    layout_height="24dp",
                    layout_gravity="center",
                    src="http://shp.qpic.cn/collector/2530648358/a23fee1a-c303-4666-a45c-1fbbe9d9e58f/0",
                    ColorFilter=0xFF60ACE5,
                  },
                  {
                    TextView,
                    text="更新日志",
                    textColor=0xff000000,
                    layout_gravity="center",
                    layout_marginLeft="16dp",
                  },
                },
                {
                  TextView,
                  layout_width="fill",
                  textColor=0xFF6E6E6E,
                  layout_marginTop="15dp",
                  text="新增 空文件清理\n\n新增 空文件夹清理\n\n新增 安装包清理\n\n修复 大文件清理 大文件在sdcard根目录会报错问题",
                },
              },
            },
          },
        },
      },
    },
  },
  {
    LinearLayout,
    id="qgjdingl",
    elevation="5dp",
    layout_width=w,
    backgroundColor=0xFF9AAEC7,
    layout_height=getStatusBarHeight()+geth(toolbar),
    {
      TextView,
      id="qgjwz",
      text="轻工具",
      paddingLeft="20dp",
      paddingTop=getStatusBarHeight(),
      layout_gravity="center",
      textColor=0xFFFFFFFF,
    },
  },
  {
    LinearLayout,
    id="qgjdil",
    layout_gravity="bottom",
    elevation="10dp",
    layout_width=w,
    layout_height=0.068*h,
    backgroundColor=0xffffffff,
    orientation="horizontal",
    {
      LinearLayout,
      id="zydj",
      layout_width=1/3*w,
      layout_height="fill",
      gravity="center",
      orientation="vertical",
      onClick=function()pagev2.showPage(0)end,
      {
        ImageView,
        id="zyxz",
        layout_width="24dp",
        layout_height="24dp",
        src="http://shp.qpic.cn/collector/2530648358/26f12f40-0c4b-417e-b9ba-87a2451b8177/0",
        layout_marginLeft="1.5dp",
      },
      {
        ImageView,
        layout_width="24dp",
        layout_height="24dp",
        src="http://shp.qpic.cn/collector/2530648358/c9b37e4a-6f86-4311-978a-a83d21db3692/0",
        ColorFilter=0xFF4d4d4d,
        layout_marginTop="-24dp",
      },
      {
        TextView,
        id="zywb",
        text="主页",
        textSize=12,
      },
    },
    {
      LinearLayout,
      id="fldj",
      layout_width=1/3*w,
      layout_height="fill",
      gravity="center",
      orientation="vertical",
      onClick=function()pagev2.showPage(1)end,
      {
        ImageView,
        id="flxz",
        layout_width="24dp",
        layout_height="24dp",
        src="http://shp.qpic.cn/collector/2530648358/6713e351-1269-4287-8845-3b40c6a7293a/0",
        layout_marginLeft="1.5dp",
      },
      {
        ImageView,
        layout_width="24dp",
        layout_height="24dp",
        src="http://shp.qpic.cn/collector/2530648358/49e9ab26-4e1a-44dd-b7a2-f7d93bb65243/0",
        ColorFilter=0xFF4d4d4d,
        layout_marginTop="-24dp",
      },
      {
        TextView,
        id="flwb",
        text="分类",
        textSize=12,
      },
    },
    {
      LinearLayout,
      id="zhdj",
      layout_width=1/3*w,
      layout_height="fill",
      gravity="center",
      orientation="vertical",
      onClick=function()pagev2.showPage(2)end,
      {
        ImageView,
        id="zhxz",
        layout_width="24dp",
        layout_height="24dp",
        src="http://shp.qpic.cn/collector/2530648358/35747bf5-4cb7-4aa7-862c-c006588d27e6/0",
        layout_marginLeft="1.5dp",
      },
      {
        ImageView,
        layout_width="24dp",
        layout_height="24dp",
        src="http://shp.qpic.cn/collector/2530648358/083edc62-3741-4e04-a024-77aee92dedb3/0",
        ColorFilter=0xFF4d4d4d,
        layout_marginTop="-24dp",
      },
      {
        TextView,
        id="zhwb",
        text="综合",
        textSize=12,
      },
    },
  },
}
qgj=PopupWindow(loadlayout(轻工具布局))
qgj.setFocusable(true)
qgj.setWidth(w)
qgj.setHeight(h)
qgj.setTouchable(true)
qgj.setOutsideTouchable(true)
qgj.showAtLocation(fltBtn.Parent,0,0,0)
主页收藏应用适配布局=[[
{
  CardView,
  elevation=0,
  radius="4dp",
  layout_width="fill",
  layout_margin="8dp",
  cardBackgroundColor=0xFFF8F8F8,
  {
    LinearLayout,
    id="应用名称id",
    padding="8dp",
    layout_width="fill",
    orientation="horizontal",
    onClick=function()
      if 触发了长按事件 then
        if 应用名称fxk.isChecked()==false then
          应用名称fxk.setChecked(true)
          轻工具主页待删除应用=轻工具主页待删除应用..'"应用名称",'
        else
          应用名称fxk.setChecked(false)
          轻工具主页待删除应用=轻工具主页待删除应用:gsub('"应用名称",',"")
        end
      else
        应用名称()
      end
    end,
    {
      TextView,
      paddingTop="7dp",
      paddingBottom="7dp",
      gravity="center",
      text="应用名称",
      layout_weight="1",
      layout_gravity="center",
      textColor=0xFF424242,
    },
    {
      CheckBox,
      visibility=8,
      id="应用名称fxk",
      layout_gravity="center",
      onClick=function()
        if 应用名称fxk.isChecked()==true then
          轻工具主页待删除应用=轻工具主页待删除应用..'"应用名称",'
        else
          轻工具主页待删除应用=轻工具主页待删除应用:gsub('"应用名称",',"")
        end
      end,
    },
  },
},
]]
function zyscyysj()end
function 主页收藏应用()
  if zyscyyzlbj then
    zyscyyzlbj.setVisibility(View.GONE)zyscyyylbj.setVisibility(View.GONE)
  end
  触发了长按事件=nil 主页收藏应用左列布局="" 主页收藏应用右列布局="" 主页收藏应用事件="" 恢复复选框="" 隐藏复选框=""
  b=loadstring("return "..io.open("/data/data/"..activity.getPackageName().."/轻工具主页收藏应用"):read("*a"))轻工具主页收藏应用=b()
  for i=1,#轻工具主页收藏应用 do
    恢复复选框=恢复复选框..轻工具主页收藏应用[i].."fxk.setVisibility(0)"
    隐藏复选框=隐藏复选框..轻工具主页收藏应用[i].."fxk.setVisibility(8)"..轻工具主页收藏应用[i].."fxk.setChecked(false)"
  end
  for i=1,#轻工具主页收藏应用 do
    if i%2==1 then
      主页收藏应用事件=主页收藏应用事件.."波纹("..轻工具主页收藏应用[i].."id,0xFFE9E9E9)"..轻工具主页收藏应用[i].."id.onLongClick=function()if 触发了长按事件 then "..隐藏复选框.."scscyy.setVisibility(4)触发了长按事件=nil else 轻工具主页待删除应用名称='"..轻工具主页收藏应用[i].."'"..恢复复选框..轻工具主页收藏应用[i].."fxk.setChecked(true)scscyy.setVisibility(0)"..[[轻工具主页待删除应用='"'..轻工具主页待删除应用名称..'",']].."触发了长按事件=true end return true end "
      主页收藏应用左列布局=主页收藏应用左列布局..主页收藏应用适配布局:gsub("应用名称",轻工具主页收藏应用[i]):gsub('text="短链生成"','text="短链 生成与还原"')
    else
      主页收藏应用事件=主页收藏应用事件.."波纹("..轻工具主页收藏应用[i].."id,0xFFE9E9E9)"..轻工具主页收藏应用[i].."id.onLongClick=function()if 触发了长按事件 then "..隐藏复选框.."scscyy.setVisibility(4)触发了长按事件=nil else 轻工具主页待删除应用名称='"..轻工具主页收藏应用[i].."'"..恢复复选框..轻工具主页收藏应用[i].."fxk.setChecked(true)scscyy.setVisibility(0)"..[[轻工具主页待删除应用='"'..轻工具主页待删除应用名称..'",']].."触发了长按事件=true end return true end "
      主页收藏应用右列布局=主页收藏应用右列布局..主页收藏应用适配布局:gsub("应用名称",轻工具主页收藏应用[i]):gsub('text="短链生成"','text="短链 生成与还原"')
    end
  end
  主页收藏应用左列布局=[[{
  LinearLayout,
  id="zyscyyzlbj",
  layout_width="fill",
  layout_height="fill",
  orientation="vertical",
  ]]..主页收藏应用左列布局.."}"
  主页收藏应用右列布局=[[{
  LinearLayout,
  id="zyscyyylbj",
  layout_width="fill",
  layout_height="fill",
  orientation="vertical",
  ]]..主页收藏应用右列布局.."}"
  b=loadstring("return "..主页收藏应用左列布局)主页收藏应用左列布局=b()
  b=loadstring("return "..主页收藏应用右列布局)主页收藏应用右列布局=b()
  b=loadstring("return ".."function()"..主页收藏应用事件.."end")主页收藏应用事件=b()
  zyyyzl.addView(loadlayout(主页收藏应用左列布局))
  zyyyyl.addView(loadlayout(主页收藏应用右列布局))
  zyscyysj=主页收藏应用事件 主页收藏应用事件()
end
主页收藏应用()
波纹(zydj,0xFFE2E2E2)波纹(fldj,0xFFE2E2E2)波纹(zhdj,0xFFE2E2E2)
波纹(dlscid,0xFFD0D0D0)波纹(ewmgjid,0xFFD0D0D0)波纹(sjpmid,0xFFD0D0D0)波纹(fyid,0xFFD0D0D0)波纹(czid,0xFFD0D0D0)波纹(znzid,0xFFD0D0D0)波纹(qsqid,0xFFD0D0D0)波纹(kdcxliteid,0xFFD0D0D0)波纹(tpzljid,0xFFD0D0D0)波纹(hqdqbzid,0xFFD0D0D0)波纹(cksbxxxxid,0xFFD0D0D0)波纹(msdmid,0xFFD0D0D0)波纹(base64bmzhid,0xFFD0D0D0)波纹(sjsscid,0xFFD0D0D0)波纹(bilibilifmhqid,0xFFD0D0D0)波纹(md5jmid,0xFFD0D0D0)波纹(wyymhqid,0xFFD0D0D0)波纹(jzzhid,0xFFD0D0D0)波纹(gsdcxid,0xFFD0D0D0)波纹(lssdjtid,0xFFD0D0D0)波纹(qqipcxid,0xFFD0D0D0)波纹(ljflcxid,0xFFD0D0D0)波纹(dzbid,0xFFD0D0D0)波纹(hbid,0xFFD0D0D0)波纹(hlzhid,0xFFD0D0D0)波纹(dwjqlid,0xFFD0D0D0)波纹(kwjqlid,0xFFD0D0D0)波纹(kwjjqlid,0xFFD0D0D0)波纹(azbqlid,0xFFD0D0D0)波纹(qqwyhcqlid,0xFFD0D0D0)
波纹(qqwyhcqlid2,0xFFD0D0D0)--波纹(kwjjqlid2,0xFFD0D0D0)波纹(azbqlid2,0xFFD0D0D0)
pagev2.setOnPageChangeListener(PageView.OnPageChangeListener{
  onPageScrolled=function(a,b,c)
    if c==0then
      if a==0then
        zywb.setTextColor(0xFF9AAEC7)
        zyxz.setVisibility(0)
        flwb.setTextColor(0xFF939393)
        flxz.setVisibility(4)
        zhwb.setTextColor(0xFF939393)
        zhxz.setVisibility(4)
       elseif a==1then
        zywb.setTextColor(0xFF939393)
        zyxz.setVisibility(4)
        flwb.setTextColor(0xFF9AAEC7)
        flxz.setVisibility(0)
        zhwb.setTextColor(0xFF939393)
        zhxz.setVisibility(4)
       else
        zywb.setTextColor(0xFF939393)
        zyxz.setVisibility(4)
        flwb.setTextColor(0xFF939393)
        flxz.setVisibility(4)
        zhwb.setTextColor(0xFF9AAEC7)
        zhxz.setVisibility(0)
      end
    end
  end})
dlsety=0
flhd.setOnScrollChangeListener(NestedScrollView.OnScrollChangeListener{
  onScrollChange=function(v,nowx,nowy,oldx,oldy)
    if nowy>=0 and nowy<=geth(flhd)-h+getStatusBarHeight() then
      if dlsety+nowy-oldy>=0 and dlsety+nowy-oldy<=geth(toolbar)then
        dlsety=dlsety+nowy-oldy
        qgjdingl.setY(-dlsety)
        qgjwz.startAnimation(AlphaAnimation(0,(-dlsety+32)/32).setDuration(0).setFillAfter(true))
      else
        if dlsety+nowy-oldy>geth(toolbar)then
          dlsety=geth(toolbar)
          qgjdingl.setY(-dlsety)
          qgjwz.startAnimation(AlphaAnimation(0,0).setDuration(0).setFillAfter(true))
        else
          dlsety=0
          qgjdingl.setY(0)
          qgjwz.startAnimation(AlphaAnimation(0,1).setDuration(0).setFillAfter(true))
        end
      end
    end
    if nowy>oldy then
      qgjdil.setVisibility(4)
    else
      qgjdil.setVisibility(0)
    end
  end
})
flhd2.setOnScrollChangeListener(NestedScrollView.OnScrollChangeListener{
  onScrollChange=function(v,nowx,nowy,oldx,oldy)
    if nowy>=0 and nowy<=geth(flhd2)-h+getStatusBarHeight() then
      if dlsety+nowy-oldy>=0 and dlsety+nowy-oldy<=geth(toolbar)then
        dlsety=dlsety+nowy-oldy
        qgjdingl.setY(-dlsety)
        qgjwz.startAnimation(AlphaAnimation(0,(-dlsety+32)/32).setDuration(0).setFillAfter(true))
      else
        if dlsety+nowy-oldy>geth(toolbar)then
          dlsety=geth(toolbar)
          qgjdingl.setY(-dlsety)
          qgjwz.startAnimation(AlphaAnimation(0,0).setDuration(0).setFillAfter(true))
        else
          dlsety=0
          qgjdingl.setY(0)
          qgjwz.startAnimation(AlphaAnimation(0,1).setDuration(0).setFillAfter(true))
        end
      end
    end
    if nowy>oldy then
      qgjdil.setVisibility(4)
    else
      qgjdil.setVisibility(0)
    end
  end
})
collectgarbage("collect")
end}